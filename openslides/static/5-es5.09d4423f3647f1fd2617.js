function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(c){r=!0,a=c}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"0bMg":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"validation",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.map((function(t){return e.get(t)})).every((function(e){return e&&""===e.value||!e}))?{noOneSet:!0}:null}}}]),e}()},"5NaA":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var o=n("3Pt+"),r=n("R+Vs"),a=n("+KbT"),i=n("owL4"),l=n("HRp2"),c=n("qnZ9"),s=n("Izkr"),u=n("aOHa"),p=n("mV3u"),b=n("8fOK"),f=n("fXoL"),h=n("jhN1"),d=n("sYmb"),m=n("dNgK"),y=n("0IaG"),g=n("kmnG"),v=n("qFsG"),_=n("ofXK"),k=n("d3UM"),C=n("FKr1"),V=n("oqD5"),O=n("bSwM");function P(e,t){if(1&e&&(f.Zb(0,"mat-option",13),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&e){var n=t.$implicit;f.tc("value",n.key),f.Gb(1),f.Uc(" ",f.nc(2,2,n.value)," ")}}function T(e,t){if(1&e){var n=f.ac();f.Zb(0,"mat-hint",14),f.hc("click",(function(){return f.Ic(n),f.lc(3).openVotingWarning()})),f.Sc(1),f.mc(2,"translate"),f.Yb()}2&e&&(f.Gb(1),f.Uc(" ",f.nc(2,1,"Not suitable for formal secret voting!"),""))}function w(e,t){if(1&e&&(f.Zb(0,"mat-form-field",9),f.Zb(1,"mat-select",10),f.mc(2,"translate"),f.Qc(3,P,3,4,"mat-option",11),f.mc(4,"keyvalue"),f.Yb(),f.Zb(5,"mat-error"),f.Sc(6),f.mc(7,"translate"),f.Yb(),f.Qc(8,T,3,3,"mat-hint",12),f.Yb()),2&e){var n=f.lc(2);f.Gb(1),f.tc("placeholder",f.nc(2,4,n.PollPropertyVerbose.type)),f.Gb(2),f.tc("ngForOf",f.nc(4,6,n.pollTypes)),f.Gb(3),f.Tc(f.nc(7,8,"This field is required.")),f.Gb(2),f.tc("ngIf",n.showNonNominalWarning)}}function S(e,t){if(1&e&&(f.Zb(0,"mat-form-field"),f.Ub(1,"os-search-value-selector",15),f.mc(2,"translate"),f.Yb()),2&e){var n=f.lc(2);f.Gb(1),f.tc("multiple",!0)("showChips",!1)("includeNone",!1)("placeholder",f.nc(2,5,n.PollPropertyVerbose.groups))("inputListValues",n.groupObservable)}}function N(e,t){if(1&e&&(f.Zb(0,"mat-option",13),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&e){var n=t.$implicit;f.tc("value",n.key),f.Gb(1),f.Uc(" ",f.nc(2,2,n.value)," ")}}function x(e,t){if(1&e&&(f.Zb(0,"mat-form-field"),f.Zb(1,"mat-select",16),f.mc(2,"translate"),f.Qc(3,N,3,4,"mat-option",11),f.mc(4,"keyvalue"),f.Yb(),f.Zb(5,"mat-error"),f.Sc(6),f.mc(7,"translate"),f.Yb(),f.Yb()),2&e){var n=f.lc(2);f.Gb(1),f.tc("placeholder",f.nc(2,3,n.PollPropertyVerbose.pollmethod)),f.Gb(2),f.tc("ngForOf",f.oc(4,5,n.pollMethods,n.keepEntryOrder)),f.Gb(3),f.Tc(f.nc(7,8,"This field is required."))}}function G(e,t){if(1&e&&(f.Xb(0),f.Qc(1,w,9,10,"mat-form-field",8),f.Qc(2,S,3,7,"mat-form-field",5),f.Qc(3,x,8,10,"mat-form-field",5),f.Wb()),2&e){var n=f.lc();f.Gb(1),f.tc("ngIf",n.isEVotingEnabled),f.Gb(1),f.tc("ngIf",n.contentForm.get("type").value&&"analog"!==n.contentForm.get("type").value),f.Gb(1),f.tc("ngIf",n.pollMethods)}}function F(e,t){if(1&e&&(f.Xb(0),f.Zb(1,"mat-option",13),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Wb()),2&e){var n=t.$implicit;f.Gb(1),f.tc("value",n.key),f.Gb(1),f.Tc(f.nc(3,2,n.value))}}function Y(e,t){if(1&e&&(f.Xb(0),f.Zb(1,"mat-form-field"),f.Ub(2,"input",17),f.mc(3,"translate"),f.Yb(),f.Zb(4,"mat-checkbox",18),f.Sc(5),f.mc(6,"translate"),f.Yb(),f.Zb(7,"mat-checkbox",19),f.Sc(8),f.mc(9,"translate"),f.Yb(),f.Wb()),2&e){var n=f.lc();f.Gb(2),f.uc("placeholder",f.nc(3,3,n.PollPropertyVerbose.votes_amount)),f.Gb(3),f.Tc(f.nc(6,5,n.PollPropertyVerbose.global_no)),f.Gb(3),f.Tc(f.nc(9,7,n.PollPropertyVerbose.global_abstain))}}var I=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,r,a,i,l,s){var u;return _classCallCheck(this,n),(u=t.call(this,e,o,r)).translate=o,u.fb=a,u.groupRepo=i,u.configService=l,u.dialog=s,u.PollType=c.f,u.PollPropertyVerbose=b.d,u.pollTypes=b.e,u.majorityMethods=b.a,u.groupObservable=null,u.pollValues=[],u.publishImmediately=!0,u.showNonNominalWarning=!1,u.initContentForm(),u}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.groupObservable=this.groupRepo.getViewModelListObservableWithoutDefaultGroup(),this.data&&(this.data.state&&this.disablePollType(),this.data instanceof u.c&&(this.data.assignment&&!this.data.votes_amount&&(this.data.votes_amount=this.data.assignment.open_posts),this.data.pollmethod||(this.data.pollmethod=this.configService.instant("assignment_poll_method"))),Object.keys(this.contentForm.controls).forEach((function(t){e.data[t]&&e.contentForm.get(t).patchValue(e.data[t])}))),this.updatePollValues(this.contentForm.value),this.updatePercentBases(this.contentForm.get("pollmethod").value),this.subscriptions.push(this.contentForm.valueChanges.subscribe((function(t){t&&e.updatePollValues(t)})),this.contentForm.get("pollmethod").valueChanges.subscribe((function(t){t&&(e.updatePercentBases(t),e.setVotesAmountCtrl())})),this.contentForm.get("type").valueChanges.subscribe((function(){e.setVotesAmountCtrl()})))}},{key:"disablePollType",value:function(){this.contentForm.get("type").disable()}},{key:"updatePercentBases",value:function(e){if(e){var t=[];e===l.b.YN?t=[c.c.YNA,l.c.Votes]:e===l.b.YNA?t=[l.c.Votes]:e===l.b.Votes&&(t=[c.c.YN,c.c.YNA]);for(var n={},o=0,r=Object.entries(this.percentBases);o<r.length;o++){var a=_slicedToArray(r[o],2),i=a[0],s=a[1];t.includes(i)||(n[i]=s)}var u=this.contentForm.get("onehundred_percent_base");u.setValue(this.getNormedPercentBase(u.value,e)),this.validPercentBases=n}}},{key:"getNormedPercentBase",value:function(e,t){return t!==l.b.YN||e!==l.c.YNA&&e!==l.c.Votes?t===l.b.YNA&&e===l.c.Votes?l.c.YNA:t!==l.b.Votes||e!==l.c.YN&&e!==l.c.YNA?e:l.c.Votes:l.c.YN}},{key:"setVotesAmountCtrl",value:function(){this.showNonNominalWarning=this.contentForm.get("type").value===c.f.Pseudoanonymous}},{key:"getValues",value:function(){return Object.assign(Object.assign({},this.data),this.contentForm.value)}},{key:"updatePollValues",value:function(e){var t;this.data&&(this.pollValues=[[this.pollService.getVerboseNameForKey("type"),this.pollService.getVerboseNameForValue("type",e.type)]],this.data.pollClassType===b.c.Assignment&&this.pollValues.push([this.pollService.getVerboseNameForKey("pollmethod"),this.pollService.getVerboseNameForValue("pollmethod",e.pollmethod)]),"analog"!==e.type&&this.pollValues.push([this.pollService.getVerboseNameForKey("groups"),e&&e.groups_id&&e.groups_id.length?(t=this.groupRepo).getNameForIds.apply(t,_toConsumableArray(e.groups_id)):"---"]),"votes"===e.pollmethod&&(this.pollValues.push([this.pollService.getVerboseNameForKey("votes_amount"),e.votes_amount]),this.pollValues.push([this.pollService.getVerboseNameForKey("global_no"),e.global_no]),this.pollValues.push([this.pollService.getVerboseNameForKey("global_abstain"),e.global_abstain])))}},{key:"initContentForm",value:function(){this.contentForm=this.fb.group({title:["",o.G.required],type:["",o.G.required],pollmethod:["",o.G.required],onehundred_percent_base:["",o.G.required],majority_method:["",o.G.required],votes_amount:[1,[o.G.required,o.G.min(1)]],groups_id:[],global_no:[!1],global_abstain:[!1]})}},{key:"openVotingWarning",value:function(){this.dialog.open(i.a,s.a)}},{key:"keepEntryOrder",value:function(){return 0}},{key:"isEVotingEnabled",get:function(){return!!this.pollService&&this.pollService.isElectronicVotingEnabled}}]),n}(p.a);return e.\u0275fac=function(t){return new(t||e)(f.Tb(h.d),f.Tb(d.k),f.Tb(m.a),f.Tb(o.f),f.Tb(r.a),f.Tb(a.a),f.Tb(y.b))},e.\u0275cmp=f.Nb({type:e,selectors:[["os-poll-form"]],inputs:{pollMethods:"pollMethods",percentBases:"percentBases",data:"data",pollService:"pollService"},features:[f.Db],decls:14,vars:14,consts:[[1,"os-form-card-mobile"],[3,"formGroup"],[1,"poll-preview-title"],["matInput","","required","","formControlName","title",3,"placeholder"],[1,"poll-preview-meta-info-form",3,"formGroup"],[4,"ngIf"],["formControlName","onehundred_percent_base","required","",3,"placeholder"],[4,"ngFor","ngForOf"],["class","pollType",4,"ngIf"],[1,"pollType"],["formControlName","type","required","",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"value"],[3,"click"],["formControlName","groups_id",3,"multiple","showChips","includeNone","placeholder","inputListValues"],["formControlName","pollmethod","required","",3,"placeholder"],["type","number","matInput","","formControlName","votes_amount","min","1","required","",3,"placeholder"],["formControlName","global_no"],["formControlName","global_abstain"]],template:function(e,t){1&e&&(f.Zb(0,"div",0),f.Zb(1,"form",1),f.Zb(2,"mat-form-field"),f.Zb(3,"h2",2),f.Ub(4,"input",3),f.mc(5,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Zb(6,"form",4),f.Qc(7,G,4,3,"ng-container",5),f.Zb(8,"mat-form-field"),f.Zb(9,"mat-select",6),f.mc(10,"translate"),f.Qc(11,F,4,4,"ng-container",7),f.mc(12,"keyvalue"),f.Yb(),f.Yb(),f.Qc(13,Y,10,9,"ng-container",5),f.Yb(),f.Yb()),2&e&&(f.Gb(1),f.tc("formGroup",t.contentForm),f.Gb(3),f.tc("placeholder",f.nc(5,7,"Title")),f.Gb(2),f.tc("formGroup",t.contentForm),f.Gb(1),f.tc("ngIf",!t.data||!t.data.state||t.data.isCreated),f.Gb(2),f.uc("placeholder",f.nc(10,9,t.PollPropertyVerbose.onehundred_percent_base)),f.Gb(2),f.tc("ngForOf",f.oc(12,11,t.validPercentBases,t.keepEntryOrder)),f.Gb(2),f.tc("ngIf","votes"===t.contentForm.get("pollmethod").value&&(!t.data||!t.data.state||t.data.isCreated)))},directives:[o.I,o.t,o.k,g.c,v.b,o.c,o.D,o.s,o.i,_.t,k.a,_.s,g.b,C.n,g.f,V.a,o.y,O.a],pipes:[d.j,_.l],styles:[".poll-preview-title[_ngcontent-%COMP%]{margin:0}.pollType[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{color:red;cursor:pointer}.poll-preview-meta-info[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;margin:10px 0}.poll-preview-meta-info[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{-ms-flex:1;flex:1;padding:0 5px;display:inline-block}.poll-preview-meta-info[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.poll-preview-meta-info[_ngcontent-%COMP%]   .short-description-label[_ngcontent-%COMP%]{font-size:75%}.poll-preview-meta-info-form[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.poll-preview-meta-info-form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-ms-flex:1;flex:1;margin:0 4px}"]}),e}()},acT5:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("fXoL"),r=n("3Pt+"),a=n("mV3u"),i=n("jhN1"),l=n("sYmb"),c=n("dNgK"),s=n("kmnG"),u=n("qFsG"),p=n("ofXK"),b=n("bSwM");function f(e,t){if(1&e){var n=o.ac();o.Zb(0,"mat-checkbox",4),o.hc("change",(function(e){return o.Ic(n),o.lc().checkboxStateChanged(e.checked)})),o.Sc(1),o.Yb()}if(2&e){var r=o.lc();o.tc("name","checkbox")("ngModel",r.isChecked),o.Gb(1),o.Uc(" ",r.checkboxLabel," ")}}function h(e,t){1&e&&o.Ub(0,"div",5)}var d=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e,o,r)).translate=o,i.fb=a,i.inputType="text",i.isChecked=!1,i.propagateChange=function(e){},i.initForm(),i}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.contentForm.valueChanges.subscribe((function(t){t&&e.sendValue(t)})))}},{key:"checkboxStateChanged",value:function(e){this.isChecked=e,e?this.contentForm.disable({emitEvent:!1}):this.contentForm.enable({emitEvent:!1}),this.sendValue()}},{key:"writeValue",value:function(e){(e||"number"==typeof e)&&(e===this.checkboxValue?this.checkboxStateChanged(!0):this.contentForm.patchValue(e))}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(e){}},{key:"setDisabledState",value:function(e){}},{key:"initForm",value:function(){this.contentForm=this.fb.control("")}},{key:"sendValue",value:function(e){this.propagateChange(this.isChecked?this.checkboxValue:e)}}]),n}(a.a);return e.\u0275fac=function(t){return new(t||e)(o.Tb(i.d),o.Tb(l.k),o.Tb(c.a),o.Tb(r.f))},e.\u0275cmp=o.Nb({type:e,selectors:[["os-check-input"]],inputs:{inputType:"inputType",placeholder:"placeholder",checkboxValue:"checkboxValue",checkboxLabel:"checkboxLabel"},features:[o.Fb([{provide:r.q,multi:!0,useExisting:Object(o.Y)((function(){return e}))}]),o.Db],decls:5,vars:6,consts:[[1,"check-input--container"],["matInput","",1,"check-input--input",3,"type","formControl","placeholder","min"],["tabindex","-1",3,"name","ngModel","change",4,"ngIf"],["class","placeholder",4,"ngIf"],["tabindex","-1",3,"name","ngModel","change"],[1,"placeholder"]],template:function(e,t){1&e&&(o.Zb(0,"div",0),o.Zb(1,"mat-form-field"),o.Ub(2,"input",1),o.Yb(),o.Qc(3,f,2,3,"mat-checkbox",2),o.Qc(4,h,1,0,"div",3),o.Yb()),2&e&&(o.Gb(2),o.tc("type",t.inputType)("formControl",t.contentForm)("placeholder",t.placeholder)("min",0),o.Gb(1),o.tc("ngIf",t.checkboxLabel),o.Gb(1),o.tc("ngIf",!t.checkboxLabel))},directives:[s.c,u.b,r.c,r.s,r.h,p.t,b.a,r.v],styles:[".check-input--container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.check-input--container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-ms-flex:1;flex:1;padding:0 5px}"]}),e}()},b1ae:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("qnZ9"),r=n("0bMg"),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e,o,r)).translate=o,i.dialogRef=a,i.addKeyListener(),i}return _createClass(n,[{key:"addKeyListener",value:function(){var e=this;this.dialogRef&&this.dialogRef.keydownEvents().subscribe((function(t){"Enter"===t.key&&t.shiftKey&&e.submitPoll(),"Escape"===t.key&&e.dialogRef.close()}))}},{key:"submitPoll",value:function(){var e=Object.assign(Object.assign({},this.pollForm.getValues()),{votes:this.getVoteData(),publish_immediately:this.publishImmediately});this.dialogRef.close(e)}},{key:"publishStateChanged",value:function(e){var t;this.dialogVoteForm.setValidators(e?(t=r.a).validation.apply(t,_toConsumableArray(Object.keys(this.dialogVoteForm.controls))):null)}},{key:"getVoteData",value:function(){if(!this.isVoteDataEmpty(this.dialogVoteForm.value))return this.replaceEmptyValues(this.dialogVoteForm.value)}},{key:"isVoteDataEmpty",value:function(e){var t=this;return Object.values(e).every((function(e){return!e||"object"==typeof e&&t.isVoteDataEmpty(e)}))}},{key:"replaceEmptyValues",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=0,a=Object.keys(e);r<a.length;r++){var i=a[r];n[i]="object"==typeof e[i]&&e[i]?this.replaceEmptyValues(e[i],t):t?e[i]===o.h?null:e[i]:e[i]?e[i]:o.h}return n}},{key:"undoReplaceEmptyValues",value:function(e){return this.replaceEmptyValues(e,!0)}}]),n}(n("mV3u").a)},iCsr:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("mV3u"),r=n("fXoL"),a=n("jhN1"),i=n("sYmb"),l=n("dNgK"),c=n("ofXK"),s=n("LPYB");function u(e,t){if(1&e&&r.Ub(0,"canvas",2),2&e){var n=r.lc();r.tc("datasets",n.isCircle?null:n.chartData)("data",n.isCircle?n.chartData:null)("colors",n.circleColors)("labels",n.labels)("options",n.chartOptions)("chartType",n.type)("legend",n.legend)}}var p=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,r){var a;return _classCallCheck(this,n),(a=t.call(this,e,o,r)).type="horizontalBar",a.legend=!1,a}return _createClass(n,[{key:"calcBarChartHeight",value:function(){if(!this.isCircle)return 120+60*this.labels.length+"px"}},{key:"progressInputData",value:function(e){this.isCircle?(this.chartData=e.flatMap((function(e){return e.data})),this.circleColors=[{backgroundColor:e.map((function(e){return e.backgroundColor})).filter((function(e){return!!e})),hoverBackgroundColor:e.map((function(e){return e.hoverBackgroundColor})).filter((function(e){return!!e}))}]):this.chartData=e,this.labels||(this.labels=e.map((function(e){return e.label})))}},{key:"data",set:function(e){this.progressInputData(e)}},{key:"chartOptions",get:function(){return this.isCircle?{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1},legend:{position:"left"}}:{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1},scales:{xAxes:[{gridLines:{drawOnChartArea:!1},ticks:{beginAtZero:!0,stepSize:1},stacked:!0}],yAxes:[{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{mirror:!0,labelOffset:-20},stacked:!0}]}}}},{key:"isCircle",get:function(){return"pie"===this.type||"doughnut"===this.type}}]),n}(o.a);return e.\u0275fac=function(t){return new(t||e)(r.Tb(a.d),r.Tb(i.k),r.Tb(l.a))},e.\u0275cmp=r.Nb({type:e,selectors:[["os-charts"]],inputs:{type:"type",labels:"labels",legend:"legend",data:"data"},features:[r.Db],decls:2,vars:3,consts:[[1,"charts-wrapper"],["class","chart-js-canvas","baseChart","",3,"datasets","data","colors","labels","options","chartType","legend",4,"ngIf"],["baseChart","",1,"chart-js-canvas",3,"datasets","data","colors","labels","options","chartType","legend"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Qc(1,u,1,7,"canvas",1),r.Yb()),2&e&&(r.Pc("height",t.calcBarChartHeight()),r.Gb(1),r.tc("ngIf",t.chartData&&t.chartData.length))},directives:[c.t,s.a],styles:[".charts-wrapper[_ngcontent-%COMP%]{position:relative;display:block;height:100%;margin:auto}"],changeDetection:0}),e}()},owL4:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("fXoL"),r=n("0IaG"),a=n("bTqV"),i=n("sYmb"),l=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Nb({type:e,selectors:[["os-voting-privacy-warning"]],decls:13,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(o.Zb(0,"h1",0),o.Zb(1,"span"),o.Sc(2),o.mc(3,"translate"),o.Yb(),o.Yb(),o.Zb(4,"div",1),o.Zb(5,"span"),o.Sc(6),o.mc(7,"translate"),o.Yb(),o.Yb(),o.Zb(8,"div",2),o.Zb(9,"button",3),o.Zb(10,"span"),o.Sc(11),o.mc(12,"translate"),o.Yb(),o.Yb(),o.Yb()),2&e&&(o.Gb(2),o.Tc(o.nc(3,4,"Secret voting can not be guaranteed")),o.Gb(4),o.Uc(" ",o.nc(7,6,"During non-nominal voting OpenSlides does NOT store the individual user ID of the voter. This in no way means that a non-nominal vote is completely anonymous and secure. The votes cannot track their individual votes after the data has been submitted. The validity of the data cannot always be guaranteed.")," "),o.Gb(3),o.tc("mat-dialog-close",null),o.Gb(2),o.Tc(o.nc(12,8,"I know the risk")))},directives:[r.i,r.f,r.c,a.b,r.d],pipes:[i.j],styles:[""]}),e}()}}]);