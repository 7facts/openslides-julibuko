function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"Bp/c":function(e,t,o){"use strict";o.r(t),o.d(t,"FullscreenProjectorModule",(function(){return y}));var r=o("ofXK"),i=o("PCNd"),n=o("tyNb"),c=o("XNiG"),s=o("otHz"),a=o("OwvW"),h=o("3moa"),l=o("fXoL"),p=o("ELcd"),f=o("PAIG"),u=["container"];function d(e,t){if(1&e&&l.Ub(0,"os-projector",4),2&e){var o=l.lc();l.tc("projector",o.projector)}}var b,j,m,v=((b=function(){function e(t,o,r,i){var n=this;_classCallCheck(this,e),this.route=o,this.operator=r,this.repo=i,this.isLoading=!0,this.canSeeProjector=!1,this.oldProjectorSize={width:0,height:0},this.resizeSubject=new c.a,this.projectorStyle={width:"100px"},this.resizeSubject.subscribe((function(){n.updateProjectorDimensions()}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.loadProjector(parseInt(t.id,10)||1),e.isLoading=!1})),this.operator.getUserObservable().subscribe((function(){e.canSeeProjector=e.operator.hasPerms(a.b.coreCanSeeProjector)}))}},{key:"loadProjector",value:function(e){var t=this;this.projectorId=e,this.repo.getViewModelObservable(this.projectorId).subscribe((function(e){t.projector=e,!e||e.width===t.oldProjectorSize.width&&e.height===t.oldProjectorSize.height||(t.oldProjectorSize.width=e.height,t.oldProjectorSize.height=e.height,t.updateProjectorDimensions())}))}},{key:"updateProjectorDimensions",value:function(){if(this.containerElement&&this.projector){var e=this.projector.width/this.projector.height;if(e>=this.containerElement.nativeElement.offsetWidth/this.containerElement.nativeElement.offsetHeight)this.projectorStyle.width=this.containerElement.nativeElement.offsetWidth+"px";else{var t=Math.floor(this.containerElement.nativeElement.offsetHeight*e);this.projectorStyle.width=t+"px"}}}}]),e}()).\u0275fac=function(e){return new(e||b)(l.Tb(s.a),l.Tb(n.a),l.Tb(a.a),l.Tb(h.a))},b.\u0275cmp=l.Nb({type:b,selectors:[["os-fullscreen-projector"]],viewQuery:function(e,t){var o;1&e&&l.Oc(u,!0),2&e&&l.Dc(o=l.ic())&&(t.containerElement=o.first)},decls:4,vars:3,consts:[["id","container",3,"osResized"],["container",""],["id","projector",3,"ngStyle"],[3,"projector",4,"ngIf"],[3,"projector"]],template:function(e,t){1&e&&(l.Zb(0,"div",0,1),l.Zb(2,"div",2),l.Qc(3,d,1,1,"os-projector",3),l.Yb(),l.Yb()),2&e&&(l.tc("osResized",t.resizeSubject),l.Gb(2),l.tc("ngStyle",t.projectorStyle),l.Gb(1),l.tc("ngIf",t.projector))},directives:[p.a,r.w,r.t,f.a],styles:["#container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;background-color:#222;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#projector[_ngcontent-%COMP%]{width:500px;margin:auto;min-width:1px}"]}),b),w=[{path:"",component:v,pathMatch:"full"},{path:":id",component:v}],g=((m=function e(){_classCallCheck(this,e)}).\u0275mod=l.Rb({type:m}),m.\u0275inj=l.Qb({factory:function(e){return new(e||m)},imports:[[n.j.forChild(w)],n.j]}),m),y=((j=function e(){_classCallCheck(this,e)}).\u0275mod=l.Rb({type:j}),j.\u0275inj=l.Qb({factory:function(e){return new(e||j)},imports:[[r.c,g,i.a]]}),j)}}]);