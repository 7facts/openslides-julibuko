function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){o=!0,r=t},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw r}}}}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{"0FyJ":function(t,e,n){"use strict";n.r(e),n.d(e,"AgendaModule",(function(){return Fn}));var i,a,r,c=n("ofXK"),o=n("tyNb"),s=n("mrSG"),l=n("4u49"),b=n("1NkQ"),u=n("fXoL"),f=n("sYmb"),p=((i=function(){function t(e,n){_classCallCheck(this,t),this.csvExport=e,this.translate=n}return _createClass(t,[{key:"exportItemList",value:function(t){this.csvExport.export(t,[{label:"Title",map:function(t){return t.getTitle()}},{label:"Text",map:function(t){return t.contentObject?t.contentObject.getCSVExportText():""}},{label:"Duration",property:"duration"},{label:"Comment",property:"comment"},{label:"Item type",property:"verboseCsvType"},{label:"Tags",property:"tags"}],this.translate.instant("Agenda")+".csv")}}]),t}()).\u0275fac=function(t){return new(t||i)(u.dc(b.a),u.dc(f.k))},i.\u0275prov=u.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),m=n("D/ll"),d=n("AqIO"),h=n("lv9T"),g=n("+8Rz"),v=n("+az0"),S=((a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var c;return _classCallCheck(this,n),(c=e.call(this,t,i)).translate=a,c.storageKey="AgendaList",c.tagFilterOptions={property:"tags_id",label:"Tags",options:[]},c.updateFilterForRepo(r,c.tagFilterOptions,c.translate.instant("No tags")),c}return _createClass(n,[{key:"getFilterDefinitions",value:function(){return[{label:"Status",property:"closed",options:[{label:this.translate.instant("Open items"),condition:!1},{label:this.translate.instant("Closed items"),condition:!0}]},this.tagFilterOptions,{label:"Visibility",property:"type",options:this.createVisibilityFilterOptions()},{label:"Type",property:"collection",options:[{label:this.translate.instant("Motions"),condition:"motions/motion"},{label:this.translate.instant("Topics"),condition:"topics/topic"},{label:this.translate.instant("Motion blocks"),condition:"motions/motion-block"},{label:this.translate.instant("Elections"),condition:"assignments/assignment"}]}]}},{key:"preFilter",value:function(t){return t.filter((function(t){return void 0!==t.type}))}},{key:"createVisibilityFilterOptions",value:function(){return v.b.map((function(t){return{condition:t.key,label:t.name}}))}}]),n}(g.a)).\u0275fac=function(t){return new(t||a)(u.dc(d.a),u.dc(m.a),u.dc(f.k),u.dc(h.a))},a.\u0275prov=u.Pb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),k=n("pqYe"),y=((r=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this.treeService=n}return _createClass(t,[{key:"agendaListToDocDef",value:function(t){var e=this.treeService.makeTree(t,"weight","parent_id");return[{text:this.translate.instant("Agenda"),style:"title"},this.createEntries(e)]}},{key:"createEntries",value:function(t){var e=this,n=[];return t.forEach((function(t){return n.push.apply(n,_toConsumableArray(e.parseItem(t,0)))})),n}},{key:"parseItem",value:function(t,e){var n=this,i=[];if(!t.item.item.is_hidden){var a={style:e?"listChild":"listParent",columns:[{width:15*e,text:""},{width:60,text:t.item.item_number},{text:t.item.contentObject.getTitle()}]};i.push(a),t.children&&t.children.length&&t.children.forEach((function(t){i.push.apply(i,_toConsumableArray(n.parseItem(t,e+1)))}))}return i}}]),t}()).\u0275fac=function(t){return new(t||r)(u.dc(f.k),u.dc(k.a))},r.\u0275prov=u.Pb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),_=n("OwvW"),Z=n("a9GI"),Y=n("InfO"),C=n("3Y/2"),w=n("cffc"),O=n("+KbT"),T=n("2aHC"),G=n("F48D"),I=n("KL36"),x=n("Izkr"),M=n("wL0i"),P=n("Q/67"),R=n("0IaG"),L=function(t){return/^\s*([0-9]+)(:)?([0-5][0-9]?)?\s*[h|m]?$/g.test(t.value)||""===t.value?null:{valid:!1}};n("cVnz");var j=n("3Pt+"),D=n("kmnG"),E=n("d3UM"),Q=n("qFsG"),F=n("ihCf"),A=n("bTqV"),U=n("FKr1");function N(t,e){if(1&t&&(u.Zb(0,"h1",12),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){var n=u.lc();u.Gb(1),u.Vc("",u.nc(2,2,"Edit details for")," ",n.item.getTitle(),"")}}function B(t,e){if(1&t&&(u.Zb(0,"mat-option",14),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){var n=e.$implicit;u.tc("value",n.id),u.Gb(1),u.Uc(" ",u.nc(2,2,n.getTitle())," ")}}function V(t,e){if(1&t&&(u.Zb(0,"mat-form-field"),u.Zb(1,"mat-select",13),u.mc(2,"translate"),u.Qc(3,B,3,4,"mat-option",5),u.Yb(),u.Yb()),2&t){var n=u.lc();u.Gb(1),u.uc("placeholder",u.nc(2,2,"Tags")),u.Gb(2),u.tc("ngForOf",n.tags)}}function $(t,e){if(1&t&&(u.Zb(0,"mat-option",14),u.Zb(1,"span"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Yb()),2&t){var n=e.$implicit;u.tc("value",n.key),u.Gb(2),u.Tc(u.nc(3,2,n.name))}}function z(t,e){1&t&&(u.Zb(0,"mat-error"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Gb(1),u.Uc(" ",u.nc(2,1,'Your input does not match the following structure: "hh:mm"')," "))}var H,W=((H=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.formBuilder=e,this.durationService=n,this.dialogRef=i,this.tagRepo=a,this.item=r,this.itemVisibility=v.b,this.tags=[],this.agendaInfoForm=this.formBuilder.group({tags_id:[],type:[""],durationText:["",L],item_number:[""],comment:[""]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.item&&(this.agendaInfoForm.get("tags_id").setValue(this.item.tags_id),this.agendaInfoForm.get("type").setValue(this.item.type),this.agendaInfoForm.get("durationText").setValue(this.durationService.durationToString(this.item.duration,"h")),this.agendaInfoForm.get("item_number").setValue(this.item.item_number),this.agendaInfoForm.get("comment").setValue(this.item.comment)),this.tagRepo.getViewModelListObservable().subscribe((function(e){t.tags=e}))}},{key:"isTagAvailable",value:function(){return!!this.tags&&this.tags.length>0}},{key:"saveItemInfo",value:function(){this.dialogRef.close(this.agendaInfoForm.value)}},{key:"onCancelButton",value:function(){this.dialogRef.close()}},{key:"onKeyDown",value:function(t){"Enter"===t.key&&t.shiftKey&&this.saveItemInfo()}}]),t}()).\u0275fac=function(t){return new(t||H)(u.Tb(j.f),u.Tb(T.a),u.Tb(R.h),u.Tb(h.a),u.Tb(R.a))},H.\u0275cmp=u.Nb({type:H,selectors:[["os-item-info-dialog"]],decls:27,vars:24,consts:[["mat-dialog-title","",4,"ngIf"],["mat-dialog-content",""],[1,"item-dialog-form",3,"formGroup","keydown"],[4,"ngIf"],["formControlName","type",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["type","string","matInput","","formControlName","durationText",3,"placeholder"],["matInput","","formControlName","item_number",3,"placeholder"],["matInput","","formControlName","comment","cdkTextareaAutosize","","cdkAutosizeMinRows","3","cdkAutosizeMaxRows","5",3,"placeholder"],["mat-dialog-actions",""],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"],["mat-dialog-title",""],["formControlName","tags_id","multiple","",3,"placeholder"],[3,"value"]],template:function(t,e){1&t&&(u.Qc(0,N,3,4,"h1",0),u.Zb(1,"div",1),u.Zb(2,"form",2),u.hc("keydown",(function(t){return e.onKeyDown(t)})),u.Qc(3,V,4,4,"mat-form-field",3),u.Zb(4,"mat-form-field"),u.Zb(5,"mat-select",4),u.mc(6,"translate"),u.Qc(7,$,4,4,"mat-option",5),u.Yb(),u.Yb(),u.Zb(8,"mat-form-field"),u.Ub(9,"input",6),u.mc(10,"translate"),u.Qc(11,z,3,3,"mat-error",3),u.Yb(),u.Zb(12,"mat-form-field"),u.Ub(13,"input",7),u.mc(14,"translate"),u.Yb(),u.Zb(15,"mat-form-field"),u.Ub(16,"textarea",8),u.mc(17,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Zb(18,"div",9),u.Zb(19,"button",10),u.hc("click",(function(){return e.saveItemInfo()})),u.Zb(20,"span"),u.Sc(21),u.mc(22,"translate"),u.Yb(),u.Yb(),u.Zb(23,"button",11),u.hc("click",(function(){return e.onCancelButton()})),u.Zb(24,"span"),u.Sc(25),u.mc(26,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.tc("ngIf",e.item),u.Gb(2),u.tc("formGroup",e.agendaInfoForm),u.Gb(1),u.tc("ngIf",e.isTagAvailable()),u.Gb(2),u.uc("placeholder",u.nc(6,12,"Agenda visibility")),u.Gb(2),u.tc("ngForOf",e.itemVisibility),u.Gb(2),u.uc("placeholder",u.nc(10,14,"Duration")),u.Gb(2),u.tc("ngIf",e.agendaInfoForm.invalid),u.Gb(2),u.uc("placeholder",u.nc(14,16,"Item number")),u.Gb(3),u.uc("placeholder",u.nc(17,18,"Comment")),u.Gb(3),u.tc("disabled",e.agendaInfoForm.invalid),u.Gb(2),u.Tc(u.nc(22,20,"Save")),u.Gb(4),u.Tc(u.nc(26,22,"Cancel")))},directives:[c.t,R.f,j.I,j.t,j.k,D.c,E.a,j.s,j.i,c.s,Q.b,j.c,F.c,R.c,A.b,R.i,U.n,D.b],pipes:[f.j],styles:[".item-dialog-form[_ngcontent-%COMP%]{display:inline-block}.item-dialog-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),H),K=n("jhN1"),X=n("dNgK"),q=n("mksl"),J=n("STbY"),tt=n("NFeN"),et=n("0Obk"),nt=n("dRZP"),it=n("vYAO"),at=n("3Xi6"),rt=n("Tp2j"),ct=n("f0Cb"),ot=n("40uZ");function st(t,e){if(1&t&&u.Ub(0,"a",20),2&t){var n=u.lc().row,i=u.lc();u.tc("routerLink",i.getDetailUrl(n))}}function lt(t,e){1&t&&(u.Zb(0,"span",21),u.Zb(1,"mat-icon"),u.Sc(2,"check"),u.Yb(),u.Yb())}function bt(t,e){if(1&t&&(u.Zb(0,"div",18),u.Zb(1,"os-icon-container",22),u.Sc(2),u.Yb(),u.Yb()),2&t){var n=u.lc().row;u.Gb(1),u.tc("noWrap",!0),u.Gb(1),u.Uc(" ",n.comment," ")}}var ut=function(t){return{"margin-left":t}};function ft(t,e){if(1&t&&(u.Zb(0,"div",13),u.Qc(1,st,1,1,"a",14),u.Zb(2,"div",15),u.Zb(3,"div",16),u.Qc(4,lt,3,0,"span",17),u.Zb(5,"span"),u.Sc(6),u.Yb(),u.Yb(),u.Zb(7,"div",18),u.Sc(8),u.Yb(),u.Qc(9,bt,3,2,"div",19),u.Yb(),u.Yb()),2&t){var n=e.row,i=u.lc();u.Gb(1),u.tc("ngIf",!i.isMultiSelect),u.Gb(1),u.tc("ngStyle",u.zc(6,ut,25*n.level+"px")),u.Gb(2),u.tc("ngIf",n.closed),u.Gb(2),u.Uc(" ",n.getListTitle()," "),u.Gb(2),u.Uc(" ",n.getSubtitle()," "),u.Gb(1),u.tc("ngIf",n.comment)}}function pt(t,e){1&t&&(u.Zb(0,"span"),u.Sc(1,",\xa0"),u.Yb())}function mt(t,e){if(1&t&&(u.Zb(0,"span"),u.Sc(1),u.Qc(2,pt,2,0,"span",10),u.Yb()),2&t){var n=e.$implicit,i=e.last;u.Gb(1),u.Uc(" ",n.getTitle()," "),u.Gb(1),u.tc("ngIf",!i)}}function dt(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"os-icon-container",27),u.Qc(2,mt,3,2,"span",28),u.Yb(),u.Yb()),2&t){var n=u.lc().row;u.Gb(2),u.tc("ngForOf",n.tags)}}function ht(t,e){if(1&t&&(u.Zb(0,"div",29),u.Zb(1,"os-icon-container",30),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Yb()),2&t){var n=u.lc().row;u.Gb(2),u.Tc(u.nc(3,1,n.verboseType))}}function gt(t,e){if(1&t&&(u.Zb(0,"div",29),u.Zb(1,"os-icon-container",31),u.Sc(2),u.Yb(),u.Yb()),2&t){var n=u.lc().row,i=u.lc();u.Gb(2),u.Uc(" ",i.durationService.durationToString(n.duration,"h")," ")}}function vt(t,e){if(1&t){var n=u.ac();u.Zb(0,"div",23),u.hc("click",(function(){u.Ic(n);var t=e.row;return u.lc().openEditInfo(t)})),u.Zb(1,"div",24),u.Qc(2,dt,3,1,"div",10),u.Qc(3,ht,4,3,"div",25),u.Qc(4,gt,3,1,"div",26),u.Yb(),u.Yb()}if(2&t){var i=e.row;u.Gb(2),u.tc("ngIf",i.tags&&i.tags.length),u.Gb(1),u.tc("osPerms","agenda.can_manage")("osPermsAnd",i.verboseType),u.Gb(1),u.tc("ngIf",i.duration)}}var St=function(t){return{item:t}};function kt(t,e){if(1&t){var n=u.ac();u.Zb(0,"div",13),u.Zb(1,"button",32),u.hc("click",(function(t){return u.Ic(n),t.stopPropagation()})),u.Zb(2,"mat-icon"),u.Sc(3,"more_vert"),u.Yb(),u.Yb(),u.Yb()}if(2&t){var i=e.row,a=u.lc(),r=u.Ec(27);u.Gb(1),u.tc("disabled",a.isMultiSelect)("matMenuTriggerFor",r)("matMenuTriggerData",u.zc(3,St,i))}}function yt(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",38),u.hc("click",(function(){return u.Ic(n),u.lc(3).onAutoNumbering()})),u.Zb(1,"mat-icon"),u.Sc(2,"format_list_numbered"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Numbering")))}function _t(t,e){if(1&t){var n=u.ac();u.Zb(0,"div"),u.Zb(1,"button",38),u.hc("click",(function(){return u.Ic(n),u.lc(2).toggleMultiSelect()})),u.Zb(2,"mat-icon"),u.Sc(3,"library_add"),u.Yb(),u.Zb(4,"span"),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Yb(),u.Ub(7,"mat-divider"),u.Qc(8,yt,6,3,"button",40),u.Zb(9,"button",41),u.Zb(10,"mat-icon"),u.Sc(11,"sort"),u.Yb(),u.Zb(12,"span"),u.Sc(13),u.mc(14,"translate"),u.Yb(),u.Yb(),u.Yb()}if(2&t){var i=u.lc(2);u.Gb(5),u.Tc(u.nc(6,3,"Multiselect")),u.Gb(3),u.tc("ngIf",i.isNumberingAllowed),u.Gb(5),u.Tc(u.nc(14,5,"Sort"))}}function Zt(t,e){1&t&&(u.Zb(0,"button",42),u.Zb(1,"mat-icon"),u.Sc(2,"mic"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()),2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Current list of speakers")))}function Yt(t,e){1&t&&(u.Zb(0,"button",43),u.Zb(1,"mat-icon"),u.Sc(2,"local_offer"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()),2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Tags")))}function Ct(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",38),u.hc("click",(function(){return u.Ic(n),u.lc(2).csvExportItemList()})),u.Zb(1,"mat-icon"),u.Sc(2,"archive"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Export as CSV")))}function wt(t,e){1&t&&(u.Zb(0,"button",44),u.Zb(1,"mat-icon"),u.Sc(2,"cloud_upload"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()),2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Import")))}function Ot(t,e){if(1&t){var n=u.ac();u.Zb(0,"div"),u.Ub(1,"mat-divider"),u.Zb(2,"button",45),u.hc("click",(function(){return u.Ic(n),u.lc(2).deleteAllSpeakersOfAllListsOfSpeakers()})),u.Zb(3,"mat-icon"),u.Sc(4,"delete"),u.Yb(),u.Zb(5,"span"),u.Sc(6),u.mc(7,"translate"),u.Yb(),u.Yb(),u.Yb()}2&t&&(u.Gb(6),u.Tc(u.nc(7,1,"Clear all list of speakers")))}function Tt(t,e){1&t&&(u.Zb(0,"div"),u.Ub(1,"mat-divider"),u.Zb(2,"button",46),u.Zb(3,"mat-icon"),u.Sc(4,"settings"),u.Yb(),u.Zb(5,"span"),u.Sc(6),u.mc(7,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Gb(6),u.Tc(u.nc(7,1,"Settings")))}function Gt(t,e){if(1&t){var n=u.ac();u.Zb(0,"div"),u.Qc(1,_t,15,7,"div",33),u.Ub(2,"os-projector-button",34),u.Qc(3,Zt,6,3,"button",35),u.Qc(4,Yt,6,3,"button",36),u.Ub(5,"mat-divider"),u.Qc(6,Ct,6,3,"button",37),u.Zb(7,"button",38),u.hc("click",(function(){return u.Ic(n),u.lc().onDownloadPdf()})),u.Zb(8,"mat-icon"),u.Sc(9,"archive"),u.Yb(),u.Zb(10,"span"),u.Sc(11),u.mc(12,"translate"),u.Yb(),u.Yb(),u.Qc(13,wt,6,3,"button",39),u.Qc(14,Ot,8,3,"div",33),u.Qc(15,Tt,8,3,"div",33),u.Yb()}if(2&t){var i=u.lc();u.Gb(1),u.tc("osPerms","agenda.can_manage"),u.Gb(1),u.tc("object",i.itemListSlide)("menuItem",!0),u.Gb(1),u.tc("osPerms","agenda.can_see_list_of_speakers"),u.Gb(1),u.tc("osPerms","core.can_manage_tags"),u.Gb(2),u.tc("osPerms","agenda.can_manage"),u.Gb(5),u.Tc(u.nc(12,10,"Export as PDF")),u.Gb(2),u.tc("osPerms","agenda.can_manage"),u.Gb(1),u.tc("osPerms","agenda.can_manage"),u.Gb(1),u.tc("osPerms","core.can_manage_config")}}function It(t,e){if(1&t){var n=u.ac();u.Zb(0,"div"),u.Zb(1,"button",47),u.hc("click",(function(){return u.Ic(n),u.lc(2).setClosedSelected(!0)})),u.Zb(2,"mat-icon"),u.Sc(3,"done"),u.Yb(),u.Zb(4,"span"),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Yb(),u.Zb(7,"button",47),u.hc("click",(function(){return u.Ic(n),u.lc(2).setClosedSelected(!1)})),u.Zb(8,"mat-icon"),u.Sc(9,"redo"),u.Yb(),u.Zb(10,"span"),u.Sc(11),u.mc(12,"translate"),u.Yb(),u.Yb(),u.Ub(13,"mat-divider"),u.Zb(14,"button",47),u.hc("click",(function(){return u.Ic(n),u.lc(2).setAgendaType(1)})),u.Zb(15,"mat-icon"),u.Sc(16,"public"),u.Yb(),u.Zb(17,"span"),u.Sc(18),u.mc(19,"translate"),u.Yb(),u.Yb(),u.Zb(20,"button",47),u.hc("click",(function(){return u.Ic(n),u.lc(2).setAgendaType(2)})),u.Zb(21,"mat-icon"),u.Sc(22,"visibility"),u.Yb(),u.Zb(23,"span"),u.Sc(24),u.mc(25,"translate"),u.Yb(),u.Yb(),u.Zb(26,"button",47),u.hc("click",(function(){return u.Ic(n),u.lc(2).setAgendaType(3)})),u.Zb(27,"mat-icon"),u.Sc(28,"visibility_off"),u.Yb(),u.Zb(29,"span"),u.Sc(30),u.mc(31,"translate"),u.Yb(),u.Yb(),u.Ub(32,"mat-divider"),u.Zb(33,"button",47),u.hc("click",(function(){u.Ic(n);var t=u.lc(2);return t.duplicateMultipleTopics(t.selectedRows)})),u.Zb(34,"mat-icon"),u.Sc(35,"file_copy"),u.Yb(),u.Zb(36,"span"),u.Sc(37),u.mc(38,"translate"),u.Yb(),u.Yb(),u.Zb(39,"button",47),u.hc("click",(function(){return u.Ic(n),u.lc(2).removeSelected()})),u.Zb(40,"mat-icon"),u.Sc(41,"remove"),u.Yb(),u.Zb(42,"span"),u.Sc(43),u.mc(44,"translate"),u.Yb(),u.Yb(),u.Yb()}if(2&t){var i=u.lc(2);u.Gb(1),u.tc("disabled",!i.selectedRows.length),u.Gb(4),u.Tc(u.nc(6,14,"Close")),u.Gb(2),u.tc("disabled",!i.selectedRows.length),u.Gb(4),u.Tc(u.nc(12,16,"Open")),u.Gb(3),u.tc("disabled",!i.selectedRows.length),u.Gb(4),u.Tc(u.nc(19,18,"Set public")),u.Gb(2),u.tc("disabled",!i.selectedRows.length),u.Gb(4),u.Tc(u.nc(25,20,"Set internal")),u.Gb(2),u.tc("disabled",!i.selectedRows.length),u.Gb(4),u.Tc(u.nc(31,22,"Set hidden")),u.Gb(3),u.tc("disabled",!i.selectedRows.length),u.Gb(4),u.Tc(u.nc(38,24,"Duplicate")),u.Gb(2),u.tc("disabled",!i.selectedRows.length),u.Gb(4),u.Tc(u.nc(44,26,"Remove from agenda"))}}function xt(t,e){if(1&t){var n=u.ac();u.Zb(0,"div"),u.Zb(1,"button",38),u.hc("click",(function(){return u.Ic(n),u.lc().selectAll()})),u.Zb(2,"mat-icon"),u.Sc(3,"done_all"),u.Yb(),u.Zb(4,"span"),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Yb(),u.Zb(7,"button",47),u.hc("click",(function(){return u.Ic(n),u.lc().deselectAll()})),u.Zb(8,"mat-icon"),u.Sc(9,"clear"),u.Yb(),u.Zb(10,"span"),u.Sc(11),u.mc(12,"translate"),u.Yb(),u.Yb(),u.Ub(13,"mat-divider"),u.Qc(14,It,45,28,"div",33),u.Yb()}if(2&t){var i=u.lc();u.Gb(5),u.Tc(u.nc(6,4,"Select all")),u.Gb(2),u.tc("disabled",!i.selectedRows.length),u.Gb(4),u.Tc(u.nc(12,6,"Deselect all")),u.Gb(3),u.tc("osPerms","agenda.can_manage")}}function Mt(t,e){if(1&t&&(u.Zb(0,"div"),u.Ub(1,"os-projector-button",34),u.Ub(2,"os-speaker-button",34),u.Yb()),2&t){var n=u.lc().item;u.Gb(1),u.tc("object",n.contentObject)("menuItem",!0),u.Gb(1),u.tc("object",n.contentObjectData)("menuItem",!0)}}function Pt(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",38),u.hc("click",(function(){u.Ic(n);var t=u.lc(2).item;return u.lc().duplicateTopic(t.contentObject)})),u.Zb(1,"mat-icon"),u.Sc(2,"file_copy"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Duplicate")))}function Rt(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",38),u.hc("click",(function(){u.Ic(n);var t=u.lc(2).item;return u.lc().removeFromAgenda(t)})),u.Zb(1,"mat-icon"),u.Sc(2,"remove"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Remove from agenda")))}function Lt(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",45),u.hc("click",(function(){u.Ic(n);var t=u.lc(2).item;return u.lc().deleteTopic(t)})),u.Zb(1,"mat-icon"),u.Sc(2,"delete"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Delete")))}function jt(t,e){if(1&t){var n=u.ac();u.Zb(0,"div"),u.Zb(1,"button",38),u.hc("click",(function(){u.Ic(n);var t=u.lc().item;return u.lc().onDoneSingleButton(t)})),u.Zb(2,"mat-icon",48),u.Sc(3),u.Yb(),u.Zb(4,"span"),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Yb(),u.Zb(7,"button",38),u.hc("click",(function(t){u.Ic(n);var e=u.lc().item;return u.lc().openEditInfo(e,t)})),u.Zb(8,"mat-icon"),u.Sc(9,"edit"),u.Yb(),u.Zb(10,"span"),u.Sc(11),u.mc(12,"translate"),u.Yb(),u.Yb(),u.Qc(13,Pt,6,3,"button",40),u.Qc(14,Rt,6,3,"button",40),u.Qc(15,Lt,6,3,"button",49),u.Yb()}if(2&t){var i=u.lc().item,a=u.lc();u.Gb(3),u.Uc(" ",i.closed?"check_box":"check_box_outline_blank"," "),u.Gb(2),u.Tc(u.nc(6,6,"Done")),u.Gb(6),u.Tc(u.nc(12,8,"Edit details")),u.Gb(2),u.tc("ngIf",a.isTopic(i.contentObject)),u.Gb(1),u.tc("ngIf",!a.isTopic(i.contentObject)),u.Gb(1),u.tc("ngIf",a.isTopic(i.contentObject))}}function Dt(t,e){if(1&t&&(u.Qc(0,Mt,3,4,"div",10),u.Qc(1,jt,16,10,"div",33)),2&t){var n=u.lc();u.tc("ngIf",n.vp.isMobile),u.Gb(1),u.tc("osPerms","agenda.can_manage")}}var Et,Qt=function(){return["info"]},Ft=((Et=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,c,o,s,b,u,f,p,m,d,h,g,v,S,k){var y;return _classCallCheck(this,n),(y=e.call(this,t,i,a,r)).translate=i,y.operator=c,y.router=o,y.repo=s,y.promptService=b,y.dialog=u,y.config=f,y.vp=p,y.durationService=m,y.csvExport=d,y.filterService=h,y.agendaPdfService=g,y.pdfService=v,y.listOfSpeakersRepo=S,y.topicRepo=k,y.itemListSlide={getBasicProjectorElement:function(t){return{name:"agenda/item-list",getIdentifiers:function(){return["name"]}}},slideOptions:[{key:"only_main_items",displayName:Object(l.a)("Only main agenda items"),default:!1}],projectionDefaultName:"agenda_all_items",getDialogTitle:function(){return y.translate.instant("Agenda")}},y.tableColumnDefinition=[{prop:"title",width:"auto"},{prop:"info",width:"15%"}],y.restrictedColumns=[{columnName:"menu",permission:_.b.agendaCanManage}],y.filterProps=["item_number","comment","getListTitle"],y.canMultiSelect=!0,y}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;_get(_getPrototypeOf(n.prototype),"setTitle",this).call(this,"Agenda"),this.config.get("agenda_enable_numbering").subscribe((function(e){return t.isNumberingAllowed=e})),this.config.get("agenda_show_subtitle").subscribe((function(e){return t.showSubtitle=e}))}},{key:"getListOfSpeakers",value:function(t){return this.listOfSpeakersRepo.findByContentObject(t.item.content_object)}},{key:"getDetailUrl",value:function(t){if(t.contentObject&&!this.isMultiSelect)return t.contentObject.getDetailStateURL()}},{key:"openEditInfo",value:function(t){var e=this;!this.isMultiSelect&&this.canManage&&this.dialog.open(W,Object.assign(Object.assign({},x.a),{data:t})).afterClosed().subscribe((function(n){n&&(n.duration=n.durationText?e.durationService.stringToDuration(n.durationText):0,e.repo.update(n,t).catch(e.raiseError))}))}},{key:"onAutoNumbering",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to number all agenda items?"),t.next=3,this.promptService.open(e);case 3:if(t.t0=t.sent,!t.t0){t.next=7;break}return t.next=7,this.repo.autoNumbering().catch(this.raiseError);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"onDoneSingleButton",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.repo.update({closed:!t.closed},t).catch(this.raiseError);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onPlusButton",value:function(){this.router.navigate(["/topics/new"])}},{key:"removeFromAgenda",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.translate.instant("Are you sure you want to remove this entry from the agenda?"),i=t.contentObject.getTitle(),e.next=3,this.promptService.open(n,i);case 3:if(e.t0=e.sent,!e.t0){e.next=7;break}return e.next=7,this.repo.removeFromAgenda(t).catch(this.raiseError);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"deleteTopic",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.contentObject instanceof P.a){e.next=2;break}return e.abrupt("return");case 2:return n=this.translate.instant("Are you sure you want to delete this topic?"),i=t.contentObject.getTitle(),e.next=5,this.promptService.open(n,i);case 5:if(e.t0=e.sent,!e.t0){e.next=9;break}return e.next=9,this.topicRepo.delete(t.contentObject).catch(this.raiseError);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"removeSelected",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to remove all selected items from the agenda?"),n=this.translate.instant("All topics will be deleted and won't be accessible afterwards."),t.next=3,this.promptService.open(e,n);case 3:if(!t.sent){t.next=32;break}t.prev=4,i=_createForOfIteratorHelper(this.selectedRows),t.prev=6,i.s();case 8:if((a=i.n()).done){t.next=19;break}if(!((r=a.value).contentObject instanceof P.a)){t.next=15;break}return t.next=13,this.topicRepo.delete(r.contentObject);case 13:t.next=17;break;case 15:return t.next=17,this.repo.removeFromAgenda(r);case 17:t.next=8;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(6),i.e(t.t0);case 24:return t.prev=24,i.f(),t.finish(24);case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(4),this.raiseError(t.t1);case 32:case"end":return t.stop()}}),t,this,[[4,29],[6,21,24,27]])})))}},{key:"setClosedSelected",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=_createForOfIteratorHelper(this.selectedRows),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=10;break}return a=i.value,e.next=8,this.repo.update({closed:t},a);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(0),this.raiseError(e.t1);case 23:case"end":return e.stop()}}),e,this,[[0,20],[2,12,15,18]])})))}},{key:"setAgendaType",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=_createForOfIteratorHelper(this.selectedRows),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=10;break}return a=i.value,e.next=8,this.repo.update({type:t},a).catch(this.raiseError);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(0),this.raiseError(e.t1);case 23:case"end":return e.stop()}}),e,this,[[0,20],[2,12,15,18]])})))}},{key:"csvExportItemList",value:function(){this.csvExport.exportItemList(this.dataSource.filteredData)}},{key:"onDownloadPdf",value:function(){var t=this.translate.instant("Agenda");this.pdfService.download(this.agendaPdfService.agendaListToDocDef(this.dataSource.filteredData),t)}},{key:"getDurationEndString",value:function(){var t=this.repo.calculateDuration();if(!t)return"";var e=this.durationService.durationToString(t,"h"),n=this.repo.calculateEndTime(),i="".concat(this.translate.instant("Duration"),": ").concat(e);return n?i+" (".concat(this.translate.instant("Estimated end"),":\n            ").concat(n.toLocaleTimeString(this.translate.currentLang,{hour:"numeric",minute:"numeric"})," h)"):i}},{key:"deleteAllSpeakersOfAllListsOfSpeakers",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to clear all speakers of all lists?"),n=this.translate.instant("All lists of speakers will be cleared."),t.next=3,this.promptService.open(e,n);case 3:if(t.t0=t.sent,!t.t0){t.next=6;break}this.listOfSpeakersRepo.deleteAllSpeakersOfAllListsOfSpeakers().catch(this.raiseError);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"duplicateTopic",value:function(t){this.topicRepo.duplicateTopic(t)}},{key:"duplicateMultipleTopics",value:function(t){var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.isTopic(i.contentObject)&&this.duplicateTopic(i.contentObject)}}catch(a){n.e(a)}finally{n.f()}}},{key:"isTopic",value:function(t){return!!t&&void 0!==t.collectionString&&t.collectionString===P.a.COLLECTIONSTRING&&!!t.topic}},{key:"canManage",get:function(){return this.operator.hasPerms(_.b.agendaCanManage)}}]),n}(M.a)).\u0275fac=function(t){return new(t||Et)(u.Tb(K.d),u.Tb(f.k),u.Tb(X.a),u.Tb(d.a),u.Tb(_.a),u.Tb(o.f),u.Tb(Y.a),u.Tb(G.a),u.Tb(R.b),u.Tb(O.a),u.Tb(I.a),u.Tb(T.a),u.Tb(p),u.Tb(S),u.Tb(y),u.Tb(Z.b),u.Tb(C.a),u.Tb(w.a))},Et.\u0275cmp=u.Nb({type:Et,selectors:[["os-agenda-list"]],features:[u.Db],decls:29,vars:26,consts:[[3,"hasMainButton","multiSelectMode","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"central-info-slot"],["mat-icon-button","",3,"click"],["listStorageKey","agenda",3,"listObservableProvider","vScrollFixed","filterService","columns","multiSelect","restricted","hiddenInMobile","alwaysShowMenu","filterProps","selectedRows","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["class","cell-slot fill clickable",3,"click",4,"pblNgridCellDef"],["agendaMenu","matMenu"],[4,"ngIf"],["singleItemMenu","matMenu"],["matMenuContent",""],[1,"cell-slot","fill"],["class","detail-link",3,"routerLink",4,"ngIf"],[1,"innerTable",3,"ngStyle"],[1,"title-line","ellipsis-overflow"],["class","icon-prefix",4,"ngIf"],[1,"subtitle","ellipsis-overflow"],["class","subtitle ellipsis-overflow",4,"ngIf"],[1,"detail-link",3,"routerLink"],[1,"icon-prefix"],["size","small","icon","comment",3,"noWrap"],[1,"cell-slot","fill","clickable",3,"click"],[1,"info-col-items"],["class","spacer-top-5",4,"osPerms","osPermsAnd"],["class","spacer-top-5",4,"ngIf"],["icon","local_offer"],[4,"ngFor","ngForOf"],[1,"spacer-top-5"],["icon","visibility"],["icon","access_time"],["mat-icon-button","",3,"disabled","matMenuTriggerFor","matMenuTriggerData","click"],[4,"osPerms"],[3,"object","menuItem"],["mat-menu-item","","routerLink","speakers",4,"osPerms"],["mat-menu-item","","routerLink","/tags",4,"osPerms"],["mat-menu-item","",3,"click",4,"osPerms"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","import",4,"osPerms"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","routerLink","sort-agenda"],["mat-menu-item","","routerLink","speakers"],["mat-menu-item","","routerLink","/tags"],["mat-menu-item","","routerLink","import"],["mat-menu-item","",1,"red-warning-text",3,"click"],["mat-menu-item","","routerLink","/settings/agenda"],["mat-menu-item","",3,"disabled","click"],["color","accent"],["mat-menu-item","","class","red-warning-text",3,"click",4,"ngIf"]],template:function(t,e){if(1&t&&(u.Zb(0,"os-head-bar",0),u.hc("mainEvent",(function(){return e.onPlusButton()})),u.Zb(1,"div",1),u.Zb(2,"h2"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb(),u.Zb(5,"div",2),u.Zb(6,"button",3),u.Zb(7,"mat-icon"),u.Sc(8,"more_vert"),u.Yb(),u.Yb(),u.Yb(),u.Zb(9,"div",4),u.Zb(10,"button",5),u.hc("click",(function(){return e.toggleMultiSelect()})),u.Zb(11,"mat-icon"),u.Sc(12,"arrow_back"),u.Yb(),u.Yb(),u.Zb(13,"span"),u.Sc(14),u.Yb(),u.Zb(15,"span"),u.Sc(16),u.mc(17,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Zb(18,"os-list-view-table",6),u.hc("selectedRowsChange",(function(t){return e.selectedRows=t}))("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),u.Qc(19,ft,10,8,"div",7),u.Qc(20,vt,5,4,"div",8),u.Qc(21,kt,4,5,"div",7),u.Yb(),u.Zb(22,"mat-menu",null,9),u.Qc(24,Gt,16,12,"div",10),u.Qc(25,xt,15,8,"div",10),u.Yb(),u.Zb(26,"mat-menu",null,11),u.Qc(28,Dt,2,2,"ng-template",12),u.Yb()),2&t){var n=u.Ec(23);u.tc("hasMainButton",e.canManage)("multiSelectMode",e.isMultiSelect),u.Gb(3),u.Tc(u.nc(4,21,"Agenda")),u.Gb(3),u.tc("matMenuTriggerFor",n),u.Gb(8),u.Uc("",e.selectedRows.length,"\xa0"),u.Gb(2),u.Tc(u.nc(17,23,"selected")),u.Gb(2),u.tc("listObservableProvider",e.repo)("vScrollFixed",76)("filterService",e.filterService)("columns",e.tableColumnDefinition)("multiSelect",e.isMultiSelect)("restricted",e.restrictedColumns)("hiddenInMobile",u.yc(25,Qt))("alwaysShowMenu",!0)("filterProps",e.filterProps)("selectedRows",e.selectedRows),u.Gb(1),u.tc("pblNgridCellDef","title"),u.Gb(1),u.tc("pblNgridCellDef","info"),u.Gb(1),u.tc("pblNgridCellDef","menu"),u.Gb(3),u.tc("ngIf",!e.isMultiSelect),u.Gb(1),u.tc("ngIf",e.isMultiSelect)}},directives:[q.a,A.b,J.e,tt.a,et.a,nt.c,J.f,c.t,J.b,c.w,o.i,it.a,at.a,c.s,rt.a,ct.a,J.c,o.g,ot.a],pipes:[f.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}.info-col-items[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;font-size:14px}.info-col-items[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:18px;height:18px;width:18px}.align-right[_ngcontent-%COMP%]{margin-left:auto}"],changeDetection:0}),Et),At=n("2Vo4"),Ut=n("Qy/R"),Nt=n("XhcP"),Bt=n("Wp6s"),Vt=n("/tkw"),$t=n("bSwM"),zt=n("Qu3c");function Ht(t,e){if(1&t){var n=u.ac();u.Zb(0,"div",18),u.Zb(1,"div"),u.Zb(2,"span"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Sc(5,":\xa0 "),u.Yb(),u.Zb(6,"div"),u.Zb(7,"button",4),u.hc("click",(function(){return u.Ic(n),u.lc().resetFilters()})),u.Zb(8,"mat-icon",19),u.Sc(9,"cancel"),u.Yb(),u.Zb(10,"span"),u.Sc(11),u.mc(12,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb()}2&t&&(u.Gb(3),u.Tc(u.nc(4,2,"Active filters")),u.Gb(8),u.Tc(u.nc(12,4,"Visibility")))}function Wt(t,e){if(1&t){var n=u.ac();u.Zb(0,"mat-checkbox",20),u.hc("ngModelChange",(function(t){return u.Ic(n),e.$implicit.state=t}))("change",(function(){u.Ic(n);var t=e.$implicit;return u.lc().onFilterChange(t.id)})),u.Zb(1,"mat-icon",21),u.mc(2,"translate"),u.Sc(3),u.Yb(),u.Sc(4),u.mc(5,"translate"),u.Yb()}if(2&t){var i=e.$implicit,a=u.lc();u.tc("ngModel",i.state),u.Gb(1),u.uc("matTooltip",u.nc(2,4,i.label)),u.Gb(2),u.Tc(a.getIcon(i.label)),u.Gb(1),u.Uc(" ",u.nc(5,6,i.label)," ")}}function Kt(t,e){if(1&t&&(u.Zb(0,"span",22),u.Sc(1),u.Yb(),u.Zb(2,"span",23),u.Sc(3),u.mc(4,"translate"),u.Zb(5,"mat-icon"),u.Sc(6),u.Yb(),u.Yb()),2&t){var n=e.item,i=u.lc();u.Gb(1),u.Tc(n.getTitle()),u.Gb(2),u.Uc(" ",u.nc(4,3,n.verboseType)," "),u.Gb(3),u.Tc(i.getIcon(n.verboseType))}}var Xt,qt,Jt=((Xt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,c){var o;return _classCallCheck(this,n),(o=e.call(this,t,i,a,c)).agendaRepo=r,o.filterOptions=v.b.map((function(t){return{label:t.name,id:t.key,state:!1}})),o.activeFilters=new At.a([]),o.itemsObservable=o.agendaRepo.getViewModelListObservable(),o}return _createClass(n,[{key:"onFilterChange",value:function(t){var e=this.activeFilters.value;e.includes(t)?e.splice(e.indexOf(t),1):e.push(t),this.activeFilters.next(e)}},{key:"ngOnInit",value:function(){var t=this,e=this.activeFilters.subscribe((function(e){t.hasActiveFilter=0!==e.length,t.changeFilter.emit((function(t){return!(e.includes(t.type)||0===e.length)}))}));this.subscriptions.push(e)}},{key:"resetFilters",value:function(){var t,e=_createForOfIteratorHelper(this.filterOptions);try{for(e.s();!(t=e.n()).done;)t.value.state=!1}catch(n){e.e(n)}finally{e.f()}this.activeFilters.next([])}},{key:"onSave",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.agendaRepo.sortItems(this.osSortTree.getTreeData()).then((function(){return e.osSortTree.setSubscription()}),this.raiseError);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"onStateChange",value:function(t){this.changeState.emit(t)}},{key:"getIcon",value:function(t){switch(t.toLowerCase()){case"public item":return"public";case"internal item":return"visibility";case"hidden item":return"visibility_off"}}}]),n}(Ut.a)).\u0275fac=function(t){return new(t||Xt)(u.Tb(K.d),u.Tb(f.k),u.Tb(X.a),u.Tb(Y.a),u.Tb(G.a))},Xt.\u0275cmp=u.Nb({type:Xt,selectors:[["os-agenda-sort"]],features:[u.Db],decls:43,vars:27,consts:[[3,"nav","editMode","mainEvent","saveEvent"],[1,"title-slot"],[1,"custom-table-header","sort-header"],[1,"button-menu","left"],["mat-button","",3,"click"],["class","current-filters",4,"ngIf"],[1,"button-menu","right"],["mode","over","position","end"],["visibilityFilter",""],[1,"sort-drawer-content"],[1,"sort-grid"],[1,"hint"],[3,"ngModel","ngModelChange","change",4,"ngFor","ngForOf"],[1,"current-nodes"],["parentKey","parent_id","weightKey","weight",3,"model","stateChange","filterChange","hasChanged","visibleNodes"],["osSortedTree",""],["class","sorting-tree-node"],["innerNode",""],[1,"current-filters"],["inline",""],[3,"ngModel","ngModelChange","change"],[3,"matTooltip"],[1,"sort-node-title"],[1,"sort-node-icon"]],template:function(t,e){if(1&t){var n=u.ac();u.Zb(0,"os-head-bar",0),u.hc("mainEvent",(function(){return e.onCancel()}))("saveEvent",(function(){return e.onSave()})),u.Zb(1,"div",1),u.Zb(2,"h2"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Zb(5,"div",2),u.Zb(6,"div",3),u.Zb(7,"button",4),u.hc("click",(function(){return e.onStateChange(!0)})),u.Sc(8),u.mc(9,"translate"),u.Yb(),u.Zb(10,"button",4),u.hc("click",(function(){return e.onStateChange(!1)})),u.Sc(11),u.mc(12,"translate"),u.Yb(),u.Yb(),u.Qc(13,Ht,13,6,"div",5),u.Zb(14,"div",6),u.Zb(15,"button",4),u.hc("click",(function(){u.Ic(n);var t=u.Ec(18);return t.opened?t.close():t.open()})),u.Sc(16," Filter "),u.Yb(),u.Zb(17,"mat-drawer",7,8),u.Zb(19,"section",9),u.Zb(20,"button",4),u.hc("click",(function(){return u.Ic(n),u.Ec(18).toggle()})),u.Zb(21,"mat-icon"),u.Sc(22,"keyboard_arrow_right"),u.Yb(),u.Yb(),u.Zb(23,"span",10),u.Zb(24,"div",11),u.Sc(25),u.mc(26,"translate"),u.Yb(),u.Zb(27,"div"),u.Qc(28,Wt,6,8,"mat-checkbox",12),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(29,"mat-card"),u.Zb(30,"div",13),u.Sc(31),u.Zb(32,"span"),u.Sc(33),u.mc(34,"translate"),u.Yb(),u.Sc(35),u.Zb(36,"span"),u.Sc(37),u.mc(38,"translate"),u.Yb(),u.Yb(),u.Zb(39,"os-sorting-tree",14,15),u.hc("hasChanged",(function(t){return e.receiveChanges(t)}))("visibleNodes",(function(t){return e.onChangeAmountOfItems(t)})),u.Qc(41,Kt,7,5,"ng-template",16,17,u.Rc),u.Yb(),u.Yb()}2&t&&(u.tc("nav",!1)("editMode",e.hasChanged),u.Gb(3),u.Tc(u.nc(4,15,"Sort agenda")),u.Gb(5),u.Tc(u.nc(9,17,"Expand all")),u.Gb(3),u.Tc(u.nc(12,19,"Collapse all")),u.Gb(2),u.tc("ngIf",e.hasActiveFilter),u.Gb(12),u.Tc(u.nc(26,21,"Visibility")),u.Gb(3),u.tc("ngForOf",e.filterOptions),u.Gb(3),u.Uc(" ",e.seenNodes[0]," "),u.Gb(2),u.Tc(u.nc(34,23,"of")),u.Gb(2),u.Uc(" ",e.seenNodes[1]," "),u.Gb(2),u.Tc(u.nc(38,25,"items")),u.Gb(2),u.tc("model",e.itemsObservable)("stateChange",e.changeState)("filterChange",e.changeFilter))},directives:[q.a,A.b,c.t,Nt.a,tt.a,c.s,Bt.a,Vt.a,$t.a,j.s,j.v,zt.c],pipes:[f.j],styles:[".sort-header[_ngcontent-%COMP%]{display:block;padding:0 8px;width:auto;position:relative;text-align:center}.sort-header[_ngcontent-%COMP%]   .button-menu[_ngcontent-%COMP%]{display:inline-block}.sort-header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{float:left}.sort-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right}.sort-header[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%]{min-width:320px}.sort-header[_ngcontent-%COMP%]   .sort-drawer-content[_ngcontent-%COMP%]{text-align:left}.sort-header[_ngcontent-%COMP%]   .sort-drawer-content[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-left:8px}.sort-header[_ngcontent-%COMP%]   .sort-drawer-content[_ngcontent-%COMP%]   .sort-grid[_ngcontent-%COMP%]{display:inline-grid;grid-template-columns:auto;grid-template-rows:20px 30px;margin:8px;vertical-align:top;line-height:1.5}.sort-header[_ngcontent-%COMP%]   .sort-drawer-content[_ngcontent-%COMP%]   .sort-grid[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.sort-header[_ngcontent-%COMP%]   .current-filters[_ngcontent-%COMP%]{display:inline-block}.sort-header[_ngcontent-%COMP%]   .current-filters[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline}.current-nodes[_ngcontent-%COMP%]{position:relative;margin-bottom:8px}.sort-node-icon[_ngcontent-%COMP%]{margin:0 12px 0 auto}.sort-node-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;vertical-align:middle}"]}),Xt),te=n("+QJK"),ee=n("gjbj"),ne=n("E2rH"),ie=n("W+e+"),ae=n("P6Fj"),re=((qt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,c){var o;return _classCallCheck(this,n),(o=e.call(this,a,r,c)).durationService=t,o.repo=i,o.headerMap=["title","text","agenda_duration","agenda_comment","agenda_type"],o.requiredHeaderLength=1,o.errorList={NoTitle:"A Topic needs a title",ParsingErrors:"Some csv values could not be read correctly."},o.expectedHeader=o.headerMap,o}return _createClass(n,[{key:"clearData",value:function(){}},{key:"mapData",value:function(t){for(var e=new ie.a,n=Math.min(this.expectedHeader.length,t.length),i=!1,a=0;a<n;a++)switch(this.expectedHeader[a]){case"agenda_duration":try{var r=this.parseDuration(t[a]);r>0&&(e.agenda_duration=r)}catch(o){if(o instanceof TypeError){i=!0;continue}}break;case"agenda_type":try{e.agenda_type=this.parseType(t[a])}catch(o){if(o instanceof TypeError){i=!0;continue}}break;default:e[this.expectedHeader[a]]=t[a]}e.agenda_type||(e.agenda_type=1);var c={newEntry:e,status:"new",errors:[]};return i&&this.setError(c,"ParsingErrors"),c.newEntry.isValid||this.setError(c,"NoTitle"),c}},{key:"doImport",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=_createForOfIteratorHelper(this.entries),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=12;break}if(i=n.value,t.t0="new"===i.status,!t.t0){t.next=10;break}return t.next=9,this.repo.create(i.newEntry);case 9:i.status="done";case 10:t.next=3;break;case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(1),e.e(t.t1);case 17:return t.prev=17,e.f(),t.finish(17);case 20:this.updatePreview();case 21:case"end":return t.stop()}}),t,this,[[1,14,17,20]])})))}},{key:"parseDuration",value:function(t){return this.durationService.stringToDuration(t)}},{key:"parseType",value:function(t){if(!t)return 1;if("string"==typeof t){var e=v.b.find((function(e){return e.csvName===t}));if(e)return e.key}else{if(1!==t)throw new TypeError("type could not be matched");var n=v.b.find((function(t){return"Internal item"===t.name}));if(n)return n.key}}},{key:"parseTextArea",value:function(t){var e=[];this.clearData(),this.clearPreview(),t.split("\n").forEach((function(t){if(t.length){var n=new ie.a(new ie.a({title:t,agenda_type:1}));e.push({newEntry:n,status:"new",errors:[]})}})),this.setParsedEntries(e)}}]),n}(ne.a)).\u0275fac=function(t){return new(t||qt)(u.dc(T.a),u.dc(w.a),u.dc(f.k),u.dc(ae.a),u.dc(X.a))},qt.\u0275prov=u.Pb({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt),ce=n("wZkO"),oe=n("IZUe"),se=n("+0xr"),le=n("Dh3D");function be(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",20),u.hc("click",(function(){return u.Ic(n),u.lc().doImport()})),u.Zb(1,"span",21),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(2),u.Tc(u.nc(3,1,"Import")))}function ue(t,e){if(1&t&&(u.Zb(0,"mat-option",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){var n=e.$implicit;u.tc("value",n.value),u.Gb(1),u.Uc(" ",u.nc(2,2,n.label)," ")}}function fe(t,e){if(1&t&&(u.Zb(0,"mat-option",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){var n=e.$implicit;u.tc("value",n.value),u.Gb(1),u.Uc(" ",u.nc(2,2,n.label)," ")}}function pe(t,e){if(1&t&&(u.Zb(0,"mat-option",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){var n=e.$implicit;u.tc("value",n.value),u.Gb(1),u.Uc(" ",u.nc(2,2,n.label)," ")}}function me(t,e){if(1&t&&(u.Zb(0,"div"),u.Sc(1," \xa0 "),u.Zb(2,"mat-icon",42),u.Sc(3,"playlist_add"),u.Yb(),u.Zb(4,"span"),u.Sc(5),u.Yb(),u.Zb(6,"span"),u.Sc(7),u.mc(8,"translate"),u.Yb(),u.Yb()),2&t){var n=u.lc(2);u.Gb(5),u.Uc("\xa0",n.newCount,"\xa0"),u.Gb(2),u.Tc(u.nc(8,2,"Topics(s) will be imported."))}}function de(t,e){if(1&t&&(u.Zb(0,"div",43),u.Sc(1," \xa0 "),u.Zb(2,"mat-icon",42),u.Sc(3,"warning"),u.Yb(),u.Zb(4,"span"),u.Sc(5),u.Yb(),u.Zb(6,"span"),u.Sc(7),u.mc(8,"translate"),u.Yb(),u.Yb()),2&t){var n=u.lc(2);u.Gb(5),u.Uc("\xa0",n.nonImportableCount,"\xa0"),u.Gb(2),u.Tc(u.nc(8,2,"entries will be ommitted."))}}function he(t,e){if(1&t&&(u.Zb(0,"div",44),u.Sc(1," \xa0 "),u.Zb(2,"mat-icon",42),u.Sc(3,"done"),u.Yb(),u.Zb(4,"span"),u.Sc(5),u.Yb(),u.Zb(6,"span"),u.Sc(7),u.mc(8,"translate"),u.Yb(),u.Yb()),2&t){var n=u.lc(2);u.Gb(5),u.Uc("\xa0",n.doneCount,"\xa0"),u.Gb(2),u.Tc(u.nc(8,2,"Topics have been imported."))}}function ge(t,e){1&t&&(u.Zb(0,"div"),u.Zb(1,"span"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Yb()),2&t&&(u.Gb(2),u.Tc(u.nc(3,1,'After verifiy the preview click on "import" please (see top right).')))}function ve(t,e){if(1&t){var n=u.ac();u.Zb(0,"mat-select",45),u.hc("valueChange",(function(t){return u.Ic(n),u.lc(2).shown=t}))("selectionChange",(function(){return u.Ic(n),u.lc(2).setFilter()})),u.Zb(1,"mat-option",46),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"mat-option",47),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Zb(7,"mat-option",48),u.Sc(8),u.mc(9,"translate"),u.Yb(),u.Yb()}if(2&t){var i=u.lc(2);u.tc("value",i.shown),u.Gb(2),u.Tc(u.nc(3,4,"Show all")),u.Gb(3),u.Tc(u.nc(6,6,"Show errors only")),u.Gb(3),u.Tc(u.nc(9,8,"Show correct entries only"))}}function Se(t,e){1&t&&u.Ub(0,"mat-header-cell")}function ke(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"mat-icon",50),u.mc(2,"translate"),u.Sc(3),u.Yb(),u.Yb()),2&t){var n=u.lc().$implicit,i=u.lc(2);u.Gb(1),u.wc("matTooltip","",n.errors.length," ",u.nc(2,3,"errors"),""),u.Gb(2),u.Uc(" ",i.getActionIcon(n)," ")}}function ye(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"mat-icon",51),u.mc(2,"translate"),u.Sc(3),u.Yb(),u.Yb()),2&t){var n=u.lc().$implicit,i=u.lc(2);u.Gb(1),u.uc("matTooltip",u.nc(2,2,"Topic will be imported")),u.Gb(2),u.Uc(" ",i.getActionIcon(n)," ")}}function _e(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"mat-icon",51),u.mc(2,"translate"),u.Sc(3),u.Yb(),u.Yb()),2&t){var n=u.lc().$implicit,i=u.lc(2);u.Gb(1),u.uc("matTooltip",u.nc(2,2,"Topic has been imported")),u.Gb(2),u.Uc(" ",i.getActionIcon(n)," ")}}function Ze(t,e){if(1&t&&(u.Zb(0,"mat-cell",49),u.Qc(1,ke,4,5,"div",24),u.Qc(2,ye,4,4,"div",24),u.Qc(3,_e,4,4,"div",24),u.Yb()),2&t){var n=e.$implicit;u.Gb(1),u.tc("ngIf","error"===n.status),u.Gb(1),u.tc("ngIf","new"===n.status),u.Gb(1),u.tc("ngIf","done"===n.status)}}function Ye(t,e){1&t&&(u.Zb(0,"mat-header-cell"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Gb(1),u.Tc(u.nc(2,1,"Title")))}function Ce(t,e){if(1&t&&(u.Zb(0,"mat-icon",53),u.mc(1,"translate"),u.Sc(2," warning "),u.Yb()),2&t){var n=u.lc(3);u.uc("matTooltip",u.nc(1,1,n.getVerboseError("Duplicates")))}}function we(t,e){if(1&t&&(u.Zb(0,"mat-icon",53),u.mc(1,"translate"),u.Sc(2," warning "),u.Yb()),2&t){var n=u.lc(3);u.uc("matTooltip",u.nc(1,1,n.getVerboseError("NoTitle")))}}function Oe(t,e){if(1&t&&(u.Zb(0,"mat-cell"),u.Qc(1,Ce,3,3,"mat-icon",52),u.Qc(2,we,3,3,"mat-icon",52),u.Sc(3),u.Yb()),2&t){var n=e.$implicit,i=u.lc(2);u.Gb(1),u.tc("ngIf",i.hasError(n,"Duplicates")),u.Gb(1),u.tc("ngIf",i.hasError(n,"NoTitle")),u.Gb(1),u.Uc(" ",n.newEntry.title," ")}}function Te(t,e){1&t&&(u.Zb(0,"mat-header-cell"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Gb(1),u.Tc(u.nc(2,1,"Text")))}function Ge(t,e){if(1&t&&(u.Zb(0,"mat-cell",51),u.Sc(1),u.Yb()),2&t){var n=e.$implicit,i=u.lc(2);u.uc("matTooltip",i.getLongPreview(n.newEntry.text)),u.Gb(1),u.Uc(" ",i.getShortPreview(n.newEntry.text)," ")}}function Ie(t,e){1&t&&(u.Zb(0,"mat-header-cell"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Gb(1),u.Tc(u.nc(2,1,"Duration")))}function xe(t,e){if(1&t&&(u.Zb(0,"mat-cell"),u.Sc(1),u.Yb()),2&t){var n=e.$implicit,i=u.lc(2);u.Gb(1),u.Uc(" ",i.getDuration(n.newEntry.agenda_duration)," ")}}function Me(t,e){1&t&&(u.Zb(0,"mat-header-cell"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Gb(1),u.Tc(u.nc(2,1,"Comment")))}function Pe(t,e){if(1&t&&(u.Zb(0,"mat-cell"),u.Sc(1),u.Yb()),2&t){var n=e.$implicit;u.Gb(1),u.Uc(" ",n.newEntry.agenda_comment," ")}}function Re(t,e){1&t&&(u.Zb(0,"mat-header-cell"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Gb(1),u.Tc(u.nc(2,1,"Type")))}function Le(t,e){if(1&t&&(u.Zb(0,"mat-cell"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){var n=e.$implicit,i=u.lc(2);u.Gb(1),u.Uc(" ",u.nc(2,1,i.getTypeString(n.newEntry.agenda_type))," ")}}function je(t,e){1&t&&u.Ub(0,"mat-header-row")}function De(t,e){if(1&t&&u.Ub(0,"mat-row",54),2&t){var n=e.$implicit,i=u.lc(2);u.tc("ngClass",i.getStateClass(n))}}function Ee(t,e){if(1&t&&(u.Zb(0,"mat-card",4),u.Zb(1,"h3"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"div",23),u.Qc(5,me,9,4,"div",24),u.Qc(6,de,9,4,"div",25),u.Qc(7,he,9,4,"div",26),u.Yb(),u.Qc(8,ge,4,3,"div",24),u.Zb(9,"div"),u.Qc(10,ve,10,10,"mat-select",27),u.Yb(),u.Zb(11,"div",28),u.Zb(12,"table",29),u.Xb(13,30),u.Qc(14,Se,1,0,"mat-header-cell",31),u.Qc(15,Ze,4,3,"mat-cell",32),u.Wb(),u.Xb(16,33),u.Qc(17,Ye,3,3,"mat-header-cell",31),u.Qc(18,Oe,4,3,"mat-cell",34),u.Wb(),u.Xb(19,35),u.Qc(20,Te,3,3,"mat-header-cell",31),u.Qc(21,Ge,2,2,"mat-cell",36),u.Wb(),u.Xb(22,37),u.Qc(23,Ie,3,3,"mat-header-cell",31),u.Qc(24,xe,2,1,"mat-cell",34),u.Wb(),u.Xb(25,38),u.Qc(26,Me,3,3,"mat-header-cell",31),u.Qc(27,Pe,2,1,"mat-cell",34),u.Wb(),u.Xb(28,39),u.Qc(29,Re,3,3,"mat-header-cell",31),u.Qc(30,Le,3,3,"mat-cell",34),u.Wb(),u.Qc(31,je,1,0,"mat-header-row",40),u.Qc(32,De,1,1,"mat-row",41),u.Yb(),u.Yb(),u.Yb()),2&t){var n=u.lc();u.Gb(2),u.Tc(u.nc(3,9,"Preview")),u.Gb(3),u.tc("ngIf",n.newCount),u.Gb(1),u.tc("ngIf",n.nonImportableCount),u.Gb(1),u.tc("ngIf",n.doneCount),u.Gb(1),u.tc("ngIf",n.newCount),u.Gb(2),u.tc("ngIf",n.nonImportableCount),u.Gb(2),u.tc("dataSource",n.dataSource),u.Gb(19),u.tc("matHeaderRowDef",n.getColumnDefinition()),u.Gb(1),u.tc("matRowDefColumns",n.getColumnDefinition())}}var Qe,Fe=((Qe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,c,o,s){var l;return _classCallCheck(this,n),(l=e.call(this,r,t,a,i)).exporter=o,l.durationService=s,l.textAreaForm=c.group({inputtext:[""]}),l}return _createClass(n,[{key:"downloadCsvExample",value:function(){this.exporter.dummyCSVExport(["Title","Text","Duration","Comment","Internal item"],[["Demo 1","Demo text 1","1:00","test comment",null],["Break",null,"0:10",null,"internal",null],["Demo 2","Demo text 2","1:30",null,"hidden"]],"".concat(this.translate.instant("Agenda"),"-").concat(this.translate.instant("example"),".csv"))}},{key:"getTypeString",value:function(t){var e=v.b.find((function(e){return e.key===t}));return e?e.name:""}},{key:"parseTextArea",value:function(){this.importer.parseTextArea(this.textAreaForm.get("inputtext").value)}},{key:"onTabChange",value:function(){this.importer.clearPreview()}},{key:"getDuration",value:function(t){return t>=0?this.durationService.durationToString(t,"h"):""}}]),n}(ee.a)).\u0275fac=function(t){return new(t||Qe)(u.Tb(K.d),u.Tb(X.a),u.Tb(f.k),u.Tb(re),u.Tb(j.f),u.Tb(b.a),u.Tb(T.a))},Qe.\u0275cmp=u.Nb({type:Qe,selectors:[["os-topic-import-list"]],features:[u.Db],decls:91,vars:68,consts:[[3,"nav"],[1,"title-slot"],[1,"menu-slot"],["mat-button","",3,"click",4,"ngIf"],[1,"os-form-card","import-table","spacer-bottom-60"],[3,"selectedTabChange"],[3,"label"],[3,"formGroup"],["matInput","","osAutofocus","","formControlName","inputtext","cdkTextareaAutosize","","cdkAutosizeMinRows","3","cdkAutosizeMaxRows","10",3,"placeholder"],["mat-button","","color","accent",3,"click"],[1,"code","red-warning-text"],[1,"wrapper"],[1,"selection",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["value","",1,"selection",3,"selectionChange"],["value",'"',1,"selection",3,"selectionChange"],["id","agenda-import-file-input","type","file","accept","text",1,"hidden-input",3,"change"],["fileInput",""],["mat-button","","onclick","document.getElementById('agenda-import-file-input').click()"],["class","os-form-card import-table spacer-bottom-60",4,"ngIf"],["mat-button","",3,"click"],[1,"upper"],[3,"value"],[1,"summary"],[4,"ngIf"],["class","red-warning-text",4,"ngIf"],["class","green-text",4,"ngIf"],["class","filter-imports",3,"value","valueChange","selectionChange",4,"ngIf"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","status","sticky","",1,"first-column"],[4,"matHeaderCellDef"],["class","first-column",4,"matCellDef"],["matColumnDef","title"],[4,"matCellDef"],["matColumnDef","text"],[3,"matTooltip",4,"matCellDef"],["matColumnDef","agenda_duration"],["matColumnDef","agenda_comment"],["matColumnDef","agenda_type"],[4,"matHeaderRowDef"],[3,"ngClass",4,"matRowDef","matRowDefColumns"],["inline",""],[1,"red-warning-text"],[1,"green-text"],[1,"filter-imports",3,"value","valueChange","selectionChange"],["value","all"],["value","error"],["value","noerror"],[1,"first-column"],[1,"red-warning-text",3,"matTooltip"],[3,"matTooltip"],["color","warn","inline","",3,"matTooltip",4,"ngIf"],["color","warn","inline","",3,"matTooltip"],[3,"ngClass"]],template:function(t,e){1&t&&(u.Zb(0,"os-head-bar",0),u.Zb(1,"div",1),u.Zb(2,"h2"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb(),u.Zb(5,"div",2),u.Qc(6,be,4,3,"button",3),u.Yb(),u.Yb(),u.Zb(7,"mat-card",4),u.Zb(8,"mat-tab-group",5),u.hc("selectedTabChange",(function(){return e.onTabChange()})),u.Zb(9,"mat-tab",6),u.mc(10,"translate"),u.Zb(11,"div",7),u.Zb(12,"div"),u.Zb(13,"span"),u.Sc(14),u.mc(15,"translate"),u.Yb(),u.Zb(16,"span"),u.Sc(17),u.mc(18,"translate"),u.Yb(),u.Yb(),u.Zb(19,"mat-form-field"),u.Ub(20,"textarea",8),u.mc(21,"translate"),u.Yb(),u.Yb(),u.Zb(22,"div"),u.Zb(23,"button",9),u.hc("click",(function(){return e.parseTextArea()})),u.Zb(24,"span"),u.Sc(25),u.mc(26,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(27,"mat-tab",6),u.mc(28,"translate"),u.Zb(29,"span"),u.Sc(30),u.mc(31,"translate"),u.Yb(),u.Ub(32,"br"),u.Zb(33,"div",10),u.Zb(34,"span"),u.Sc(35),u.mc(36,"translate"),u.Yb(),u.Sc(37,",\xa0 "),u.Zb(38,"span"),u.Sc(39),u.mc(40,"translate"),u.Yb(),u.Sc(41,",\xa0 "),u.Zb(42,"span"),u.Sc(43),u.mc(44,"translate"),u.Yb(),u.Sc(45,",\xa0 "),u.Zb(46,"span"),u.Sc(47),u.mc(48,"translate"),u.Yb(),u.Sc(49,",\xa0 "),u.Zb(50,"span"),u.Sc(51),u.mc(52,"translate"),u.Yb(),u.Yb(),u.Zb(53,"ul"),u.Zb(54,"li"),u.Sc(55),u.mc(56,"translate"),u.Yb(),u.Zb(57,"li"),u.Sc(58),u.mc(59,"translate"),u.Yb(),u.Yb(),u.Zb(60,"button",9),u.hc("click",(function(){return e.downloadCsvExample()})),u.Sc(61),u.mc(62,"translate"),u.Yb(),u.Zb(63,"div",11),u.Zb(64,"mat-form-field"),u.Zb(65,"mat-label"),u.Sc(66),u.mc(67,"translate"),u.Yb(),u.Zb(68,"mat-select",12),u.hc("selectionChange",(function(t){return e.selectEncoding(t)})),u.Qc(69,ue,3,4,"mat-option",13),u.Yb(),u.Yb(),u.Zb(70,"mat-form-field"),u.Zb(71,"mat-label"),u.Sc(72),u.mc(73,"translate"),u.Yb(),u.Zb(74,"mat-select",14),u.hc("selectionChange",(function(t){return e.selectColSep(t)})),u.Qc(75,fe,3,4,"mat-option",13),u.Yb(),u.Yb(),u.Zb(76,"mat-form-field"),u.Zb(77,"mat-label"),u.Sc(78),u.mc(79,"translate"),u.Yb(),u.Zb(80,"mat-select",15),u.hc("selectionChange",(function(t){return e.selectTextSep(t)})),u.Qc(81,pe,3,4,"mat-option",13),u.Yb(),u.Yb(),u.Yb(),u.Zb(82,"div"),u.Zb(83,"div"),u.Zb(84,"input",16,17),u.hc("change",(function(t){return e.onSelectFile(t)})),u.Yb(),u.Zb(86,"button",18),u.Zb(87,"span"),u.Sc(88),u.mc(89,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Qc(90,Ee,33,11,"mat-card",19)),2&t&&(u.tc("nav",!1),u.Gb(3),u.Tc(u.nc(4,28,"Import topics")),u.Gb(3),u.tc("ngIf",e.hasFile&&e.newCount),u.Gb(3),u.uc("label",u.nc(10,30,"Text import")),u.Gb(2),u.tc("formGroup",e.textAreaForm),u.Gb(3),u.Tc(u.nc(15,32,"Paste/write your topics in this textbox.")),u.Gb(3),u.Tc(u.nc(18,34,"Keep each item in a single line.")),u.Gb(3),u.uc("placeholder",u.nc(21,36,"Insert topics here")),u.Gb(5),u.Tc(u.nc(26,38,"Preview")),u.Gb(2),u.uc("label",u.nc(28,40,"CSV import")),u.Gb(3),u.Tc(u.nc(31,42,"Required comma or semicolon separated values with these column header names in the first row:")),u.Gb(5),u.Tc(u.nc(36,44,"Title")),u.Gb(4),u.Tc(u.nc(40,46,"Text")),u.Gb(4),u.Tc(u.nc(44,48,"Duration")),u.Gb(4),u.Tc(u.nc(48,50,"Comment")),u.Gb(4),u.Tc(u.nc(52,52,"Internal item")),u.Gb(4),u.Tc(u.nc(56,54,"Title is required. All other fields are optional and may be empty.")),u.Gb(3),u.Uc(" ",u.nc(59,56,"Additional columns after the required ones may be present and will not affect the import.")," "),u.Gb(3),u.Uc(" ",u.nc(62,58,"Download CSV example file")," "),u.Gb(5),u.Tc(u.nc(67,60,"Encoding of the file")),u.Gb(2),u.tc("value",e.encodings[0].value),u.Gb(1),u.tc("ngForOf",e.encodings),u.Gb(3),u.Tc(u.nc(73,62,"Column separator")),u.Gb(3),u.tc("ngForOf",e.columnSeparators),u.Gb(3),u.Tc(u.nc(79,64,"Text separator")),u.Gb(3),u.tc("ngForOf",e.textSeparators),u.Gb(7),u.Tc(u.nc(89,66,"Select file")),u.Gb(2),u.tc("ngIf",e.hasFile))},directives:[q.a,c.t,Bt.a,ce.c,ce.a,j.t,j.k,D.c,Q.b,j.c,F.c,oe.a,j.s,j.i,A.b,D.g,E.a,c.s,U.n,se.n,le.a,se.c,se.i,se.b,se.k,se.m,tt.a,se.h,se.a,zt.c,se.j,se.l,c.q],pipes:[f.j],encapsulation:2}),Qe),Ae=n("TG9O"),Ue=n("3moa"),Ne=n("ZDbo"),Be=n("IBZR"),Ve=n("mV3u"),$e=n("kYDr"),ze=n("DJZM"),He=n("FyoB"),We=n("7EHt"),Ke=n("MutI"),Xe=n("oqD5");function qe(t,e){1&t&&(u.Zb(0,"span"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Gb(1),u.Tc(u.nc(2,1,"List of speakers")))}function Je(t,e){1&t&&(u.Zb(0,"span"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Gb(1),u.Tc(u.nc(2,1,"Current list of speakers")))}function tn(t,e){if(1&t){var n=u.ac();u.Zb(0,"div",11),u.Zb(1,"button",12),u.hc("click",(function(){return u.Ic(n),u.lc().readdLastSpeaker()})),u.mc(2,"translate"),u.Zb(3,"mat-icon"),u.Sc(4,"undo"),u.Yb(),u.Yb(),u.Zb(5,"button",13),u.Zb(6,"mat-icon"),u.Sc(7,"more_vert"),u.Yb(),u.Yb(),u.Yb()}if(2&t){var i=u.lc(),a=u.Ec(8);u.Gb(1),u.uc("matTooltip",u.nc(2,3,"Re-add last speaker")),u.tc("disabled",!i.finishedSpeakers||!i.finishedSpeakers.length),u.Gb(4),u.tc("matMenuTriggerFor",a)}}function en(t,e){1&t&&(u.Zb(0,"mat-icon"),u.Sc(1," lock "),u.Yb())}function nn(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",30),u.hc("click",(function(){u.Ic(n);var t=u.lc().$implicit;return u.lc(3).onDeleteButton(t)})),u.mc(1,"translate"),u.Zb(2,"mat-icon"),u.Sc(3,"close"),u.Yb(),u.Yb()}2&t&&u.uc("matTooltip",u.nc(1,1,"Remove"))}function an(t,e){if(1&t&&(u.Zb(0,"mat-list-item"),u.Zb(1,"div",24),u.Zb(2,"div",25),u.Sc(3),u.Yb(),u.Zb(4,"div",26),u.Sc(5),u.Yb(),u.Zb(6,"div",27),u.Sc(7),u.mc(8,"translate"),u.Yb(),u.Zb(9,"div",28),u.Qc(10,nn,4,3,"button",29),u.Yb(),u.Yb(),u.Yb()),2&t){var n=e.$implicit,i=e.index,a=u.lc(3);u.Gb(3),u.Uc("",i+1,"."),u.Gb(2),u.Tc(n.getTitle()),u.Gb(2),u.Wc(" ",a.durationString(n)," (",u.nc(8,6,"Start time"),": ",a.startTimeToString(n),") "),u.Gb(3),u.tc("osPerms","agenda.can_manage_list_of_speakers")}}function rn(t,e){if(1&t&&(u.Zb(0,"mat-expansion-panel",22),u.Zb(1,"mat-expansion-panel-header"),u.Zb(2,"mat-panel-title"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb(),u.Zb(5,"mat-list"),u.Qc(6,an,11,8,"mat-list-item",23),u.Yb(),u.Yb()),2&t){var n=u.lc(2);u.Gb(3),u.Tc(u.nc(4,2,"Last speakers")),u.Gb(3),u.tc("ngForOf",n.finishedSpeakers)}}function cn(t,e){1&t&&u.Ub(0,"mat-divider")}function on(t,e){1&t&&u.Ub(0,"div",31)}function sn(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",30),u.hc("click",(function(){return u.Ic(n),u.lc(3).onStopButton()})),u.mc(1,"translate"),u.Zb(2,"mat-icon"),u.Sc(3,"stop"),u.Yb(),u.Yb()}2&t&&u.uc("matTooltip",u.nc(1,1,"End speech"))}function ln(t,e){if(1&t&&(u.Zb(0,"div",32),u.Zb(1,"span",33),u.Zb(2,"mat-icon"),u.Sc(3,"mic"),u.Yb(),u.Yb(),u.Zb(4,"span",26),u.Sc(5),u.Yb(),u.Zb(6,"span",34),u.Qc(7,sn,4,3,"button",29),u.Yb(),u.Yb()),2&t){var n=u.lc(2);u.Gb(5),u.Tc(n.activeSpeaker.getListTitle()),u.Gb(2),u.tc("osPerms","agenda.can_manage_list_of_speakers")}}function bn(t,e){if(1&t&&(u.Zb(0,"span",38),u.Sc(1),u.Zb(2,"span"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb()),2&t){var n=u.lc(2).$implicit,i=u.lc(3);u.Gb(1),u.Uc(" ",i.hasSpokenCount(n)+1,". "),u.Gb(2),u.Tc(u.nc(4,2,"contribution"))}}function un(t,e){1&t&&(u.Zb(0,"span",38),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Gb(1),u.Uc(" ",u.nc(2,1,"First speech")," "))}function fn(t,e){if(1&t&&(u.Zb(0,"span"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){var n=u.lc(2).$implicit;u.Gb(1),u.Uc("(",u.nc(2,1,n.gender),")")}}function pn(t,e){if(1&t&&(u.Zb(0,"span"),u.Qc(1,bn,5,4,"span",37),u.Qc(2,un,3,3,"span",37),u.Qc(3,fn,3,3,"span",2),u.Yb()),2&t){var n=u.lc().$implicit,i=u.lc(3);u.Gb(1),u.tc("ngIf",i.hasSpokenCount(n)),u.Gb(1),u.tc("ngIf",i.showFistContributionHint&&i.isFirstContribution(n)),u.Gb(1),u.tc("ngIf",n.gender)}}function mn(t,e){if(1&t){var n=u.ac();u.Zb(0,"span"),u.Zb(1,"button",30),u.hc("click",(function(){u.Ic(n);var t=u.lc().$implicit;return u.lc(3).onStartButton(t)})),u.mc(2,"translate"),u.Zb(3,"mat-icon"),u.Sc(4,"play_arrow"),u.Yb(),u.Yb(),u.Zb(5,"button",30),u.hc("click",(function(){u.Ic(n);var t=u.lc().$implicit;return u.lc(3).onMarkButton(t)})),u.mc(6,"translate"),u.Zb(7,"mat-icon"),u.Sc(8),u.Yb(),u.Yb(),u.Zb(9,"button",30),u.hc("click",(function(){u.Ic(n);var t=u.lc().$implicit;return u.lc(3).onDeleteButton(t)})),u.mc(10,"translate"),u.Zb(11,"mat-icon"),u.Sc(12,"close"),u.Yb(),u.Yb(),u.Yb()}if(2&t){var i=u.lc().$implicit;u.Gb(1),u.uc("matTooltip",u.nc(2,4,"Begin speech")),u.Gb(4),u.uc("matTooltip",u.nc(6,6,"Mark speaker")),u.Gb(3),u.Tc(i.marked?"star":"star_border"),u.Gb(1),u.uc("matTooltip",u.nc(10,8,"Remove"))}}function dn(t,e){1&t&&(u.Qc(0,pn,4,3,"span",20),u.Qc(1,mn,13,10,"span",20)),2&t&&(u.tc("osPerms","agenda.can_manage_list_of_speakers"),u.Gb(1),u.tc("osPerms","agenda.can_manage_list_of_speakers"))}function hn(t,e){if(1&t){var n=u.ac();u.Zb(0,"div",35),u.Zb(1,"os-sorting-list",36),u.hc("sortEvent",(function(t){return u.Ic(n),u.lc(2).onSortingChanged(t)})),u.Qc(2,dn,2,2,"ng-template"),u.Yb(),u.Yb()}if(2&t){var i=u.lc(2);u.Gb(1),u.tc("live",!0)("input",i.speakers)("count",!0)("enable",i.opCanManage()&&i.isSortMode)}}function gn(t,e){if(1&t){var n=u.ac();u.Zb(0,"form",40),u.Zb(1,"mat-form-field",41),u.Zb(2,"os-search-value-selector",42),u.hc("clickNotFound",(function(t){return u.Ic(n),u.lc(3).onCreateUser(t)})),u.mc(3,"translate"),u.Xb(4,43),u.Zb(5,"mat-icon"),u.Sc(6,"add"),u.Yb(),u.Sc(7),u.mc(8,"translate"),u.Wb(),u.Yb(),u.Yb(),u.Yb()}if(2&t){var i=u.lc(3);u.tc("formGroup",i.addSpeakerForm),u.Gb(2),u.uc("placeholder",u.nc(3,5,"Select or search new speaker ...")),u.tc("inputListValues",i.filteredUsers)("showNotFoundButton",!0),u.Gb(5),u.Uc(" ",u.nc(8,7,"Create user")," ")}}function vn(t,e){if(1&t&&(u.Zb(0,"div"),u.Qc(1,gn,9,9,"form",39),u.Yb()),2&t){var n=u.lc(2);u.Gb(1),u.tc("ngIf",n.filteredUsers&&n.filteredUsers.value.length>0)}}function Sn(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",47),u.hc("click",(function(){return u.Ic(n),u.lc(4).addNewSpeaker()})),u.Zb(1,"mat-icon"),u.Sc(2,"add"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}if(2&t){var i=u.lc(4);u.tc("disabled",i.viewListOfSpeakers.closed),u.Gb(4),u.Tc(u.nc(5,2,"Add me"))}}function kn(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",48),u.hc("click",(function(){return u.Ic(n),u.lc(4).onDeleteButton()})),u.Zb(1,"mat-icon"),u.Sc(2,"remove"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Remove me")))}function yn(t,e){if(1&t&&(u.Zb(0,"div"),u.Qc(1,Sn,6,4,"button",45),u.Qc(2,kn,6,3,"button",46),u.Yb()),2&t){var n=u.lc(3);u.Gb(1),u.tc("ngIf",!n.isOpInList()&&n.canAddSelf),u.Gb(1),u.tc("ngIf",n.isOpInList())}}function _n(t,e){if(1&t&&(u.Zb(0,"div",44),u.Qc(1,yn,3,2,"div",2),u.Yb()),2&t){var n=u.lc(2);u.Gb(1),u.tc("ngIf",n.speakers&&!n.closedList)}}function Zn(t,e){if(1&t&&(u.Zb(0,"mat-card",14),u.Zb(1,"h1",15),u.Sc(2),u.Qc(3,en,2,0,"mat-icon",2),u.Yb(),u.Qc(4,rn,7,4,"mat-expansion-panel",16),u.Qc(5,cn,1,0,"mat-divider",2),u.Qc(6,on,1,0,"div",17),u.Qc(7,ln,8,2,"div",18),u.Qc(8,hn,3,4,"div",19),u.Qc(9,vn,2,1,"div",20),u.Qc(10,_n,2,1,"div",21),u.Yb()),2&t){var n=u.lc();u.Gb(2),u.Uc(" ",n.viewListOfSpeakers.getTitle()," "),u.Gb(1),u.tc("ngIf",n.viewListOfSpeakers.closed),u.Gb(1),u.tc("ngIf",n.finishedSpeakers&&n.finishedSpeakers.length>0),u.Gb(1),u.tc("ngIf",n.finishedSpeakers&&n.finishedSpeakers.length),u.Gb(1),u.tc("ngIf",n.finishedSpeakers&&n.finishedSpeakers.length),u.Gb(1),u.tc("ngIf",n.activeSpeaker),u.Gb(1),u.tc("ngIf",n.speakers&&n.speakers.length>0),u.Gb(1),u.tc("osPerms","agenda.can_manage_list_of_speakers"),u.Gb(1),u.tc("osPerms","agenda.can_be_speaker")}}function Yn(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",49),u.hc("click",(function(){return u.Ic(n),u.lc().isSortMode=!0})),u.Zb(1,"mat-icon"),u.Sc(2,"sort"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Sort")))}function Cn(t,e){if(1&t&&u.Ub(0,"os-projector-button",50),2&t){var n=u.lc();u.tc("object",n.getClosSlide())("menuItem",!0)}}function wn(t,e){if(1&t&&u.Ub(0,"os-projector-button",51),2&t){var n=u.lc();u.tc("object",n.viewListOfSpeakers)("menuItem",!0)}}function On(t,e){if(1&t&&u.Ub(0,"os-projector-button",52),2&t){var n=u.lc();u.tc("object",n.viewListOfSpeakers.contentObject)("menuItem",!0)("text",n.getContentObjectProjectorButtonText())}}function Tn(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",49),u.hc("click",(function(){return u.Ic(n),u.lc().openSpeakerList()})),u.Zb(1,"mat-icon"),u.Sc(2,"lock_open"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Open list of speakers")))}function Gn(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",49),u.hc("click",(function(){return u.Ic(n),u.lc().closeSpeakerList()})),u.Zb(1,"mat-icon"),u.Sc(2,"lock"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Close list of speakers")))}function In(t,e){1&t&&u.Ub(0,"mat-divider")}function xn(t,e){if(1&t){var n=u.ac();u.Zb(0,"button",53),u.hc("click",(function(){return u.Ic(n),u.lc().clearSpeakerList()})),u.Zb(1,"mat-icon"),u.Sc(2,"delete"),u.Yb(),u.Zb(3,"span"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb()}2&t&&(u.Gb(4),u.Tc(u.nc(5,1,"Remove all speakers")))}var Mn,Pn,Rn,Ln=function(){return["agenda.can_manage_list_of_speakers","core.can_manage_projector"]},jn=((Mn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,c,o,s,l,b,u,f,p,m,d,h,g){var v;return _classCallCheck(this,n),(v=e.call(this,t,i,a)).translate=i,v.projectorRepo=r,v.route=c,v.listOfSpeakersRepo=o,v.operator=s,v.promptService=l,v.currentListOfSpeakersService=b,v.durationService=u,v.userRepository=f,v.collectionStringMapper=p,v.currentListOfSpeakersSlideService=m,v.config=d,v.viewport=h,v.cd=g,v.isCurrentListOfSpeakers=!1,v.isSortMode=!1,v.users=new At.a([]),v.filteredUsers=new At.a([]),v.isMobile=!1,v.speakerListAsSelectable=[],v.addSpeakerForm=new j.j({user_id:new j.g}),v}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.isCurrentListOfSpeakers=!(this.route.snapshot.url.length>0)||"speakers"===this.route.snapshot.url[this.route.snapshot.url.length-1].path,this.isCurrentListOfSpeakers?(this.projectors=this.projectorRepo.getViewModelList(),this.updateClosProjector(),this.subscriptions.push(this.projectorRepo.getViewModelListObservable().subscribe((function(e){t.projectors=e,t.updateClosProjector()})))):this.setListOfSpeakersId(+this.route.snapshot.url[this.route.snapshot.url.length-1].path),this.subscriptions.push(this.userRepository.getViewModelListObservable().subscribe((function(e){t.users.next(e),t.filterUsers(),t.cd.markForCheck()})),this.addSpeakerForm.valueChanges.subscribe((function(e){e&&e.user_id&&t.addNewSpeaker(e.user_id)})),this.viewport.isMobileSubject.subscribe((function(e){return t.checkSortMode(e)})),this.config.get("agenda_present_speakers_only").subscribe((function(){t.filterUsers()})),this.config.get("agenda_show_first_contribution").subscribe((function(e){t.showFistContributionHint=e})))}},{key:"opCanManage",value:function(){return this.operator.hasPerms(_.b.agendaCanManageListOfSpeakers)}},{key:"updateClosProjector",value:function(){var t=this;if(this.projectors.length){var e=this.projectors[0].referenceProjector;e&&e.id!==this.closReferenceProjectorId&&(this.closReferenceProjectorId=e.id,this.projectorSubscription&&(this.projectorSubscription.unsubscribe(),this.viewListOfSpeakers=null),this.projectorSubscription=this.currentListOfSpeakersService.getListOfSpeakersObservable(e).subscribe((function(e){e&&t.setListOfSpeakers(e)})),this.subscriptions.push(this.projectorSubscription))}}},{key:"getClosSlide",value:function(){return this.currentListOfSpeakersSlideService.getSlide(!1)}},{key:"setListOfSpeakersId",value:function(t){var e=this;this.closSubscription&&this.closSubscription.unsubscribe(),this.closSubscription=this.listOfSpeakersRepo.getViewModelObservable(t).subscribe((function(t){t&&e.setListOfSpeakers(t)}))}},{key:"setListOfSpeakers",value:function(t){var e=this.isCurrentListOfSpeakers?"Current list of speakers":t.getTitle()+" - "+this.translate.instant("List of speakers");_get(_getPrototypeOf(n.prototype),"setTitle",this).call(this,e),this.viewListOfSpeakers=t;var i=this.viewListOfSpeakers.speakers.sort((function(t,e){return t.weight-e.weight}));this.speakers=i.filter((function(t){return t.state===He.a.WAITING})),this.speakers.sort((function(t,e){return t.weight-e.weight})),this.filterUsers(),this.finishedSpeakers=i.filter((function(t){return t.state===He.a.FINISHED})),this.finishedSpeakers.sort((function(t,e){return new Date(t.begin_time).getTime()-new Date(e.begin_time).getTime()})),this.activeSpeaker=i.find((function(t){return t.state===He.a.CURRENT}))}},{key:"getContentObjectProjectorButtonText",value:function(){return this.collectionStringMapper.getRepository(this.viewListOfSpeakers.listOfSpeakers.content_object.collection).getVerboseName()}},{key:"addNewSpeaker",value:function(t){var e=this;this.listOfSpeakersRepo.createSpeaker(this.viewListOfSpeakers,t).then((function(){return e.addSpeakerForm.reset()}),this.raiseError)}},{key:"onMobileSaveSorting",value:function(){this.onSaveSorting(this.speakerListAsSelectable),this.isSortMode=!1}},{key:"onSortingChanged",value:function(t){this.speakerListAsSelectable=t,this.isMobile||this.onSaveSorting(t)}},{key:"onCancelSorting",value:function(){this.isSortMode&&(this.isSortMode=!1,this.listElement.restore())}},{key:"onStartButton",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.listOfSpeakersRepo.startSpeaker(this.viewListOfSpeakers,t);case 3:this.filterUsers(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.raiseError(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"onStopButton",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.listOfSpeakersRepo.stopCurrentSpeaker(this.viewListOfSpeakers);case 3:this.filterUsers(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),this.raiseError(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"onMarkButton",value:function(t){this.listOfSpeakersRepo.markSpeaker(this.viewListOfSpeakers,t,!t.marked).catch(this.raiseError)}},{key:"readdLastSpeaker",value:function(){this.listOfSpeakersRepo.readdLastSpeaker(this.viewListOfSpeakers).catch(this.raiseError)}},{key:"onDeleteButton",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.translate.instant("Are you sure you want to delete this speaker from this list of speakers?"),e.next=3,this.promptService.open(n);case 3:if(!e.sent){e.next=13;break}return e.prev=4,e.next=7,this.listOfSpeakersRepo.delete(this.viewListOfSpeakers,t?t.id:null);case 7:this.filterUsers(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),this.raiseError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[4,10]])})))}},{key:"isOpInList",value:function(){var t=this;return this.speakers.some((function(e){return e.user_id===t.operator.user.id}))}},{key:"hasSpokenCount",value:function(t){return this.finishedSpeakers.filter((function(e){if(e&&e.user)return e.user.id===t.user.id})).length}},{key:"isFirstContribution",value:function(t){return this.listOfSpeakersRepo.isFirstContribution(t)}},{key:"closeSpeakerList",value:function(){if(!this.viewListOfSpeakers.closed)return this.listOfSpeakersRepo.update({closed:!0},this.viewListOfSpeakers).catch(this.raiseError)}},{key:"openSpeakerList",value:function(){if(this.viewListOfSpeakers.closed)return this.listOfSpeakersRepo.update({closed:!1},this.viewListOfSpeakers).catch(this.raiseError)}},{key:"clearSpeakerList",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to delete all speakers from this list of speakers?"),t.next=3,this.promptService.open(e);case 3:if(t.t0=t.sent,!t.t0){t.next=6;break}this.listOfSpeakersRepo.deleteAllSpeakers(this.viewListOfSpeakers);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"startTimeToString",value:function(t){return new Date(t.begin_time).toLocaleString(this.translate.currentLang)}},{key:"durationString",value:function(t){var e=Math.floor((new Date(t.end_time).valueOf()-new Date(t.begin_time).valueOf())/1e3);return""+this.durationService.durationToString(e,"m")}},{key:"onCreateUser",value:function(t){var e=this;this.userRepository.createFromString(t).then((function(t){e.addNewSpeaker(t.id)}))}},{key:"filterUsers",value:function(){var t=this,e=this.config.instant("agenda_present_speakers_only")?this.users.getValue().filter((function(t){return t.is_present})):this.users.getValue();this.filteredUsers.next(this.speakers&&this.speakers.length?e.filter((function(e){return!t.speakers.some((function(t){return t.user_id===e.id}))})):e)}},{key:"onSaveSorting",value:function(t){this.isSortMode&&this.listOfSpeakersRepo.sortSpeakers(this.viewListOfSpeakers,t.map((function(t){return t.id}))).catch(this.raiseError)}},{key:"checkSortMode",value:function(t){this.isMobile=t,this.isSortMode=!t}},{key:"isListOfSpeakersClosed",get:function(){return this.viewListOfSpeakers&&this.viewListOfSpeakers.closed}},{key:"isListOfSpeakersEmpty",get:function(){return!(this.speakers&&this.speakers.length||this.finishedSpeakers&&this.finishedSpeakers.length||this.activeSpeaker)}},{key:"canAddSelf",get:function(){return!this.config.instant("agenda_present_speakers_only")||this.operator.user.is_present}}]),n}(Ve.a)).\u0275fac=function(t){return new(t||Mn)(u.Tb(K.d),u.Tb(f.k),u.Tb(X.a),u.Tb(Ue.a),u.Tb(o.a),u.Tb(C.a),u.Tb(_.a),u.Tb(G.a),u.Tb(ze.a),u.Tb(T.a),u.Tb(Ne.a),u.Tb(Ae.a),u.Tb($e.a),u.Tb(O.a),u.Tb(I.a),u.Tb(u.h))},Mn.\u0275cmp=u.Nb({type:Mn,selectors:[["os-list-of-speakers"]],viewQuery:function(t,e){var n;1&t&&u.Zc(Be.a,!0),2&t&&u.Dc(n=u.ic())&&(e.listElement=n.first)},features:[u.Db],decls:17,vars:16,consts:[[3,"nav","goBack","editMode","cancelEditEvent","saveEvent"],[1,"title-slot"],[4,"ngIf"],["class","menu-slot",4,"osPerms"],["class","os-card speaker-card",4,"ngIf"],["speakerMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["text","Current list of speakers (as slide)",3,"object","menuItem",4,"ngIf"],["text","List of speakers",3,"object","menuItem",4,"ngIf"],[3,"object","menuItem","text",4,"ngIf"],["mat-menu-item","","class","red-warning-text",3,"click",4,"ngIf"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matTooltip","disabled","click"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"os-card","speaker-card"],[1,"los-title"],["class","finished-list",4,"ngIf"],["class","spacer-bottom-40",4,"ngIf"],["class","current-speaker",4,"ngIf"],["class","waiting-list",4,"ngIf"],[4,"osPerms"],["class","add-self-buttons",4,"osPerms"],[1,"finished-list"],[4,"ngFor","ngForOf"],[1,"finished-speaker-grid"],[1,"number"],[1,"name"],[1,"time"],[1,"controls"],["mat-icon-button","",3,"matTooltip","click",4,"osPerms"],["mat-icon-button","",3,"matTooltip","click"],[1,"spacer-bottom-40"],[1,"current-speaker"],[1,"prefix"],[1,"suffix"],[1,"waiting-list"],[3,"live","input","count","enable","sortEvent"],["class","red-warning-text speaker-warning",4,"ngIf"],[1,"red-warning-text","speaker-warning"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"search-users-field"],["formControlName","user_id",1,"search-users",3,"placeholder","inputListValues","showNotFoundButton","clickNotFound"],["notFoundDescription",""],[1,"add-self-buttons"],["mat-stroked-button","",3,"disabled","click",4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"disabled","click"],["mat-stroked-button","",3,"click"],["mat-menu-item","",3,"click"],["text","Current list of speakers (as slide)",3,"object","menuItem"],["text","List of speakers",3,"object","menuItem"],[3,"object","menuItem","text"],["mat-menu-item","",1,"red-warning-text",3,"click"]],template:function(t,e){1&t&&(u.Zb(0,"os-head-bar",0),u.hc("cancelEditEvent",(function(){return e.onCancelSorting()}))("saveEvent",(function(){return e.onMobileSaveSorting()})),u.Zb(1,"div",1),u.Zb(2,"h2"),u.Qc(3,qe,3,3,"span",2),u.Qc(4,Je,3,3,"span",2),u.Yb(),u.Yb(),u.Qc(5,tn,8,5,"div",3),u.Yb(),u.Qc(6,Zn,11,9,"mat-card",4),u.Zb(7,"mat-menu",null,5),u.Qc(9,Yn,6,3,"button",6),u.Qc(10,Cn,1,2,"os-projector-button",7),u.Qc(11,wn,1,2,"os-projector-button",8),u.Qc(12,On,1,3,"os-projector-button",9),u.Qc(13,Tn,6,3,"button",6),u.Qc(14,Gn,6,3,"button",6),u.Qc(15,In,1,0,"mat-divider",2),u.Qc(16,xn,6,3,"button",10),u.Yb()),2&t&&(u.tc("nav",!1)("goBack",!0)("editMode",e.isMobile&&e.isSortMode),u.Gb(3),u.tc("ngIf",!e.isCurrentListOfSpeakers),u.Gb(1),u.tc("ngIf",e.isCurrentListOfSpeakers),u.Gb(1),u.tc("osPerms",u.yc(15,Ln)),u.Gb(1),u.tc("ngIf",e.viewListOfSpeakers),u.Gb(3),u.tc("ngIf",e.isMobile),u.Gb(1),u.tc("ngIf",e.viewListOfSpeakers&&e.projectors&&e.projectors.length>1),u.Gb(1),u.tc("ngIf",e.viewListOfSpeakers),u.Gb(1),u.tc("ngIf",e.viewListOfSpeakers),u.Gb(1),u.tc("ngIf",e.isListOfSpeakersClosed),u.Gb(1),u.tc("ngIf",!e.isListOfSpeakersClosed),u.Gb(1),u.tc("ngIf",!e.isListOfSpeakersEmpty),u.Gb(1),u.tc("ngIf",!e.isListOfSpeakersEmpty))},directives:[q.a,c.t,at.a,J.f,A.b,zt.c,tt.a,J.e,Bt.a,We.c,We.g,We.h,Ke.a,c.s,Ke.d,ct.a,Be.a,j.I,j.t,j.k,D.c,Xe.a,j.s,j.i,J.c,rt.a],pipes:[f.j],styles:['.los-title[_ngcontent-%COMP%]{margin-left:25px}.finished-list[_ngcontent-%COMP%]{box-shadow:none!important;margin-bottom:15px}.finished-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:auto;margin-bottom:10px}.finished-list[_ngcontent-%COMP%]   .finished-speaker-grid[_ngcontent-%COMP%]{display:grid;width:100%;grid-gap:5px;grid-template-areas:"number name controls" "number time controls";grid-template-columns:30px 1fr -webkit-min-content;grid-template-columns:30px 1fr min-content}@media (min-width:960px){.finished-list[_ngcontent-%COMP%]   .finished-speaker-grid[_ngcontent-%COMP%]{grid-template-areas:"number name time controls";grid-template-columns:30px 1fr -webkit-min-content -webkit-min-content;grid-template-columns:30px 1fr min-content min-content}}.finished-list[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{grid-area:number;margin:0}.finished-list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name;margin:0}.finished-list[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{grid-area:time;margin:0;white-space:nowrap;font-size:80%}.finished-list[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{grid-area:controls;margin:0;opacity:.7}.finished-list[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px;line-height:1}.finished-list[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{line-height:19px}.current-speaker[_ngcontent-%COMP%]{display:table;width:-webkit-fill-available;height:50px;margin:50px 25px 20px;box-shadow:0 3px 10px 0 rgba(0,0,0,.25)}.current-speaker[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{display:table-cell;padding:0 15px;vertical-align:middle}.current-speaker[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.current-speaker[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;font-weight:700;padding-left:10px;width:100%}.current-speaker[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;white-space:nowrap;padding-right:10px}.waiting-list[_ngcontent-%COMP%]{padding:10px 25px 0}form[_ngcontent-%COMP%]{padding:15px 25px 10px;width:auto}form[_ngcontent-%COMP%]   .search-users-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .search-users-field[_ngcontent-%COMP%]   .search-users[_ngcontent-%COMP%]{display:grid}form[_ngcontent-%COMP%]   .search-users-field[_ngcontent-%COMP%]   .search-users[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.add-self-buttons[_ngcontent-%COMP%]{padding:15px 0 20px 25px}.speaker-warning[_ngcontent-%COMP%]{margin-right:5px}'],changeDetection:0}),Mn),Dn=[{path:"",component:Ft,pathMatch:"full"},{path:"import",component:Fe,data:{basePerm:_.b.agendaCanManage}},{path:"sort-agenda",component:Jt,canDeactivate:[te.a],data:{basePerm:_.b.agendaCanManage}},{path:"speakers",component:jn,data:{basePerm:_.b.agendaCanSeeListOfSpeakers}},{path:"speakers/:id",component:jn,data:{basePerm:_.b.agendaCanSeeListOfSpeakers}}],En=((Pn=function t(){_classCallCheck(this,t)}).\u0275mod=u.Rb({type:Pn}),Pn.\u0275inj=u.Qb({factory:function(t){return new(t||Pn)},imports:[[o.j.forChild(Dn)],o.j]}),Pn),Qn=n("PCNd"),Fn=((Rn=function t(){_classCallCheck(this,t)}).\u0275mod=u.Rb({type:Rn}),Rn.\u0275inj=u.Qb({factory:function(t){return new(t||Rn)},imports:[[c.c,En,Qn.a]]}),Rn)},wL0i:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var c;return _classCallCheck(this,n),(c=e.call(this,t,i,a)).storage=r,c.canMultiSelect=!1,c._multiSelectMode=!1,c.singleButtonWidth="40px",c.badgeButtonWidth="45px",c.selectedRows=[],c}return _createClass(n,[{key:"onDataSourceChange",value:function(t){this.dataSource=t}},{key:"toggleMultiSelect",value:function(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}},{key:"selectAll",value:function(){var t;(t=this.dataSource.selection).select.apply(t,_toConsumableArray(this.dataSource.filteredData))}},{key:"deselectAll",value:function(){this.dataSource&&this.dataSource.selection.clear()}},{key:"isMultiSelect",get:function(){return this._multiSelectMode}}]),n}(n("mV3u").a)}}]);