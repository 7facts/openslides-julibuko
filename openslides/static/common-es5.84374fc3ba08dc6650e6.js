function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=_superPropBase(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+Gc/":function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var o=n("TG9O"),r=n("O7yW"),i=n("+KbT"),a=n("9st3"),c=n("fXoL"),s=n("ofXK"),l=n("NFeN"),u=n("sYmb");function f(t,e){1&t&&(c.Zb(0,"mat-icon"),c.Sc(1,"lock"),c.Yb())}function d(t,e){if(1&t&&(c.Zb(0,"span"),c.Sc(1),c.Zb(2,"span"),c.Sc(3),c.mc(4,"translate"),c.Yb(),c.Yb()),2&t){var n=c.lc(2);c.Gb(1),c.Uc(" \u2013 ",n.getSpeakersCount()," "),c.Gb(2),c.Tc(c.nc(4,2,"Speakers"))}}function p(t,e){1&t&&(c.Zb(0,"mat-icon"),c.Sc(1,"star"),c.Yb())}function h(t,e){if(1&t&&(c.Zb(0,"div",4),c.Sc(1),c.Qc(2,p,2,0,"mat-icon",0),c.Yb()),2&t){var n=e.$implicit;c.Gb(1),c.Uc(" ",n.user," "),c.Gb(1),c.tc("ngIf",n.marked)}}function g(t,e){if(1&t&&(c.Zb(0,"div"),c.Qc(1,h,3,2,"div",3),c.Yb()),2&t){var n=c.lc(2);c.Gb(1),c.tc("ngForOf",n.data.data.finished)}}function b(t,e){1&t&&(c.Zb(0,"mat-icon"),c.Sc(1,"star"),c.Yb())}function m(t,e){if(1&t&&(c.Zb(0,"div",5),c.Zb(1,"mat-icon"),c.Sc(2,"mic"),c.Yb(),c.Zb(3,"span"),c.Sc(4),c.Yb(),c.Qc(5,b,2,0,"mat-icon",0),c.Yb()),2&t){var n=c.lc(2);c.Gb(4),c.Tc(n.data.data.current.user),c.Gb(1),c.tc("ngIf",n.data.data.current.marked)}}function v(t,e){1&t&&(c.Zb(0,"mat-icon"),c.Sc(1,"star"),c.Yb())}function w(t,e){if(1&t&&(c.Zb(0,"li"),c.Sc(1),c.Qc(2,v,2,0,"mat-icon",0),c.Yb()),2&t){var n=e.$implicit;c.Gb(1),c.Uc(" ",n.user," "),c.Gb(1),c.tc("ngIf",n.marked)}}function _(t,e){if(1&t&&(c.Zb(0,"div"),c.Zb(1,"ol",6),c.Qc(2,w,3,2,"li",7),c.Yb(),c.Yb()),2&t){var n=c.lc(2);c.Gb(2),c.tc("ngForOf",n.data.data.waiting)}}function C(t,e){if(1&t&&(c.Zb(0,"div"),c.Zb(1,"div",1),c.Zb(2,"h1"),c.Sc(3),c.mc(4,"translate"),c.Qc(5,f,2,0,"mat-icon",0),c.Yb(),c.Zb(6,"h2"),c.Sc(7),c.Qc(8,d,5,4,"span",0),c.Yb(),c.Yb(),c.Qc(9,g,2,1,"div",0),c.Qc(10,m,6,2,"div",2),c.Qc(11,_,3,1,"div",0),c.Yb()),2&t){var n=c.lc();c.Gb(3),c.Uc(" ",c.nc(4,7,"List of speakers")," "),c.Gb(2),c.tc("ngIf",n.data.data.closed),c.Gb(2),c.Uc(" ",n.getTitle()," "),c.Gb(1),c.tc("ngIf",n.getSpeakersCount()>0&&!n.hideAmountOfSpeakers),c.Gb(1),c.tc("ngIf",n.data.data.finished&&n.data.data.finished.length),c.Gb(1),c.tc("ngIf",n.data.data.current),c.Gb(1),c.tc("ngIf",n.data.data.waiting&&n.data.data.waiting.length)}}var O=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o){var r;return _classCallCheck(this,n),(r=e.call(this)).collectionStringMapperService=t,r.configService=o,r}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.configService.get("agenda_hide_amount_of_speakers").subscribe((function(e){return t.hideAmountOfSpeakers=e}))}},{key:"getTitle",value:function(){if(!this.data.data.content_object_collection||!this.data.data.title_information)return"";var t=this.collectionStringMapperService.getRepository(this.data.data.content_object_collection);if(Object(r.a)(t))return t.getAgendaSlideTitle(this.data.data.title_information);throw new Error("The content object has no agenda base repository!")}},{key:"getSpeakersCount",value:function(){return this.data&&this.data.data.waiting?this.data.data.waiting.length:0}},{key:"data",set:function(t){Object.entries(t.data).length&&(t.data.title_information.agenda_item_number=function(){return t.data.title_information._agenda_item_number},this._data=t)},get:function(){return this._data}}]),n}(a.a);return t.\u0275fac=function(e){return new(e||t)(c.Tb(o.a),c.Tb(i.a))},t.\u0275cmp=c.Nb({type:t,selectors:[["os-common-list-of-speakers-slide"]],inputs:{data:"data"},features:[c.Db],decls:1,vars:1,consts:[[4,"ngIf"],[1,"slidetitle"],["class","currentSpeaker",4,"ngIf"],["class","lastSpeakers",4,"ngFor","ngForOf"],[1,"lastSpeakers"],[1,"currentSpeaker"],[1,"nextSpeakers"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&c.Qc(0,C,12,9,"div",0),2&t&&c.tc("ngIf",e.data)},directives:[s.t,l.a,s.s],pipes:[u.j],styles:[".lastSpeakers[_ngcontent-%COMP%]{color:#9a9898;margin:20px 0 10px 33px}.currentSpeaker[_ngcontent-%COMP%]{font-weight:700;margin:20px 0 16px}.currentSpeaker[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .currentSpeaker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}.currentSpeaker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:8px}.nextSpeakers[_ngcontent-%COMP%]{margin:0;padding-left:6px;margin-top:20px!important}.nextSpeakers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-position:inside;line-height:150%}"]}),t}()},"+QJK":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("mrSG"),r=n("fXoL"),i=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"canDeactivate",value:function(t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!t.canDeactivate,e.t0){e.next=5;break}return e.next=4,t.canDeactivate();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"2aHC":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("fXoL"),r=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"stringToDuration",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",o=t.replace(n,"").split(":");return o.length>1&&!isNaN(+o[0])&&!isNaN(+o[1])?e=60*+o[0]+ +o[1]:1!==o.length||isNaN(+o[0])||(e=+o[0]),(!e||e<0)&&(e=0),e}},{key:"durationToStringWithHours",value:function(t){var e=Math.floor(t/3600),n=("0"+Math.floor(t%3600/60)).slice(-2),o=("0"+Math.floor(t%60)).slice(-2);return isNaN(+n)||isNaN(+o)?"":"".concat(e,":").concat(n,":").concat(o," h")}},{key:"durationToString",value:function(t,e){var n=t<0,o=n?Math.ceil(t/60):Math.floor(t/60),r=("0"+Math.abs(t)%60).slice(-2);return isNaN(+o)||isNaN(+r)||!e?"":"".concat(0===o&&n?"-"+Math.abs(o):o,":").concat(r," ").concat(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},AOla:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("mrSG"),r=n("D/ll"),i=n("AqIO"),a=n("+KbT"),c=n("T9hM"),s=n("fXoL"),l=n("sYmb"),u=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,i){var a;return _classCallCheck(this,n),(a=e.call(this,t,o,r,i)).translate=t,a.storageKey="AmendmentList",a.amendmentSortOptions=[{property:"parentAndLineNumber",label:a.translate.instant("Main motion and line number")}],a}return _createClass(n,[{key:"getSortOptions",value:function(){return this.amendmentSortOptions.concat(_get(_getPrototypeOf(n.prototype),"getSortOptions",this).call(this))}},{key:"getDefaultDefinition",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{sortProperty:"parentAndLineNumber",sortAscending:!0});case 1:case"end":return t.stop()}}),t)})))}}]),n}(c.a);return t.\u0275fac=function(e){return new(e||t)(s.dc(l.k),s.dc(i.a),s.dc(r.a),s.dc(a.a))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},B5uJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n("fXoL"),r=n("ofXK");function i(t,e){1&t&&o.rc(0)}var a=["*"],c=function(){var t=function(){function t(){_classCallCheck(this,t),this.clicked=new o.p}return _createClass(t,[{key:"ngOnInit",value:function(){if(this.preferredSize||(this.preferredSize=4),"number"==typeof this.preferredSize)this.setLargeSize(this.preferredSize),this.setMediumSize(this.preferredSize),this.setTabletSize(this.preferredSize),this.setMobileSize(this.preferredSize);else{var t=this.preferredSize,e=t.mobile,n=t.tablet,o=t.medium,r=t.large;this.setMobileSize(e),this.setTabletSize(n),this.setMediumSize(o),this.setLargeSize(r)}}},{key:"onClick",value:function(t){this.clicked.emit({data:this.data,source:t})}},{key:"setMobileSize",value:function(t){this.mobileSize=t<=4&&t>=0?t:4}},{key:"setTabletSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.tabletSize=t<=8&&t>=0?t:8}},{key:"setMediumSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.mediumSize=t<=12&&t>=0?t:12}},{key:"setLargeSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.largeSize=t<=16&&t>=0?t:16}},{key:"classes",get:function(){return"os-tile os-tile--xs-"+this.mobileSize+" os-tile--sm-"+this.tabletSize+" os-tile--md-"+this.mediumSize+" os-tile--lg-"+this.largeSize}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["os-tile"]],contentQueries:function(t,e,n){var r;1&t&&o.Nc(n,o.P,!0),2&t&&o.Dc(r=o.ic())&&(e.tileContext=r.first)},hostVars:2,hostBindings:function(t,e){2&t&&o.Ib(e.classes)},inputs:{data:"data",preferredSize:"preferredSize"},outputs:{clicked:"clicked"},ngContentSelectors:a,decls:3,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tileContext",""]],template:function(t,e){if(1&t&&(o.sc(),o.Vb(0,0),o.Qc(1,i,1,0,"ng-template",null,1,o.Rc)),2&t){var n=o.Ec(2);o.tc("ngTemplateOutlet",n)("ngTemplateOutletContext",e.data)}},directives:[r.A],styles:[""]}),t}()},DGQJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var o=n("HRp2"),r=n("o7cs"),i=n("fXoL"),a=n("ofXK"),c=n("sYmb"),s=n("6ako"),l=n("j7f2"),u=n("QUb3");function f(t,e){1&t&&(i.Zb(0,"span"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Gb(1),i.Uc(" ",i.nc(2,1,"Yes")," "))}function d(t,e){1&t&&(i.Zb(0,"span"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Gb(1),i.Uc(" ",i.nc(2,1,"Votes")," "))}function p(t,e){1&t&&(i.Zb(0,"th",7),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Gb(1),i.Tc(i.nc(2,1,"No")))}function h(t,e){1&t&&(i.Zb(0,"th",8),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Gb(1),i.Tc(i.nc(2,1,"Abstain")))}function g(t,e){if(1&t&&(i.Zb(0,"span",11),i.Ub(1,"br"),i.Sc(2),i.Yb()),2&t){var n=i.lc().$implicit;i.Gb(2),i.Uc(" ",n.votingOptionSubtitle," ")}}function b(t,e){if(1&t&&(i.Zb(0,"span"),i.Sc(1),i.mc(2,"pollPercentBase"),i.Yb()),2&t){var n=i.lc(2).$implicit,o=i.lc(3);i.Gb(1),i.Uc(" ",i.oc(2,1,n.amount,o.poll)," ")}}function m(t,e){if(1&t&&(i.Zb(0,"div",14),i.Zb(1,"span"),i.Qc(2,b,3,4,"span",0),i.Sc(3),i.mc(4,"parsePollNumber"),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,o=i.lc(3);i.tc("ngClass",o.getVoteClass(n)),i.Gb(2),i.tc("ngIf",n.showPercent),i.Gb(1),i.Uc(" ",i.nc(4,3,n.amount)," ")}}function v(t,e){if(1&t&&(i.Zb(0,"td",12),i.Qc(1,m,5,5,"div",13),i.Yb()),2&t){var n=e.$implicit,o=i.lc(3);i.Gb(1),i.tc("ngIf",n&&o.voteFitsMethod(n))}}function w(t,e){if(1&t&&(i.Zb(0,"tr"),i.Zb(1,"td",2),i.Zb(2,"div"),i.Zb(3,"span"),i.Sc(4),i.mc(5,"translate"),i.mc(6,"pollKeyVerbose"),i.Yb(),i.Qc(7,g,3,1,"span",9),i.Yb(),i.Yb(),i.Qc(8,v,2,1,"td",10),i.Yb()),2&t){var n=e.$implicit;i.Ib(n.class),i.Gb(4),i.Uc(" ",i.nc(5,5,i.nc(6,7,n.votingOption))," "),i.Gb(3),i.tc("ngIf",n.votingOptionSubtitle),i.Gb(1),i.tc("ngForOf",n.value)}}function _(t,e){if(1&t&&(i.Zb(0,"div"),i.Zb(1,"table",1),i.Zb(2,"tbody"),i.Zb(3,"tr"),i.Zb(4,"th",2),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Zb(7,"th",3),i.Qc(8,f,3,3,"span",0),i.Qc(9,d,3,3,"span",0),i.Yb(),i.Qc(10,p,3,3,"th",4),i.Qc(11,h,3,3,"th",5),i.Yb(),i.Qc(12,w,9,9,"tr",6),i.Yb(),i.Yb(),i.Yb()),2&t){var n=i.lc();i.Gb(5),i.Tc(i.nc(6,6,"Candidates")),i.Gb(3),i.tc("ngIf",!n.isMethodY),i.Gb(1),i.tc("ngIf",n.isMethodY),i.Gb(1),i.tc("ngIf",!n.isMethodY),i.Gb(1),i.tc("ngIf",n.isMethodYNA),i.Gb(1),i.tc("ngForOf",n.tableData)}}var C=function(){var t=function(){function t(e){_classCallCheck(this,t),this.pollService=e}return _createClass(t,[{key:"getVoteClass",value:function(t){return t.vote}},{key:"voteFitsMethod",value:function(t){if(this.isMethodY){if("abstain"===t.vote||"no"===t.vote)return!1}else if(this.isMethodYN&&"abstain"===t.vote)return!1;return!0}},{key:"method",get:function(){return this.poll.pollmethod}},{key:"isMethodY",get:function(){return this.method===o.b.Votes}},{key:"isMethodYN",get:function(){return this.method===o.b.YN}},{key:"isMethodYNA",get:function(){return this.method===o.b.YNA}},{key:"tableData",get:function(){return this.pollService.generateTableData(this.poll)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(r.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["os-assignment-poll-detail-content"]],inputs:{poll:"poll"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"assignment-result-table"],[1,"voting-option"],[1,"result","yes"],["class","result no",4,"ngIf"],["class","result abstain",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"result","no"],[1,"result","abstain"],["class","user-subtitle",4,"ngIf"],["class","result",4,"ngFor","ngForOf"],[1,"user-subtitle"],[1,"result"],["class","single-result",3,"ngClass",4,"ngIf"],[1,"single-result",3,"ngClass"]],template:function(t,e){1&t&&i.Qc(0,_,13,8,"div",0),2&t&&i.tc("ngIf",e.poll)},directives:[a.t,a.s,a.q],pipes:[c.j,s.a,l.a,u.a],styles:[".yes[_ngcontent-%COMP%]{color:#4caf50}.no[_ngcontent-%COMP%]{color:#cc6c5b}.abstain[_ngcontent-%COMP%]{color:#a6a6a6}.voted-yes[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.voted-no[_ngcontent-%COMP%]{background-color:#cc6c5b;color:#fff}.voted-abstain[_ngcontent-%COMP%]{background-color:#a6a6a6;color:#fff}.start-poll-button[_ngcontent-%COMP%]{color:#4caf50}.stop-poll-button[_ngcontent-%COMP%]{color:#ff5252}.publish-poll-button[_ngcontent-%COMP%]{color:#e6b100}.assignment-result-table[_ngcontent-%COMP%]{margin-top:2em;display:block;overflow-x:auto;border-collapse:collapse}.assignment-result-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400}.assignment-result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px}.assignment-result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-right:1em}.assignment-result-table[_ngcontent-%COMP%]   tr.sums[_ngcontent-%COMP%]{border-bottom:none}.assignment-result-table[_ngcontent-%COMP%]   tr.sums[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em}.assignment-result-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{text-align:right;padding-left:1em}.assignment-result-table[_ngcontent-%COMP%]   .voting-option[_ngcontent-%COMP%]{min-width:200px;width:100%;text-align:left}.assignment-result-table[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%] + .sums[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:2em}.assignment-result-table[_ngcontent-%COMP%]   .single-result[_ngcontent-%COMP%]{white-space:pre}"]}),t}()},EHvM:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(){function t(e,n){var o=this;_classCallCheck(this,t),this.configService=e,this.userRepo=n,this.configService.get("general_event_name").subscribe((function(t){return o.eventName=t})),this.configService.get("logo_pdf_ballot_paper").subscribe((function(t){t&&t.path&&(0===t.path.indexOf("/")&&(t.path=t.path.substr(1)),o.logo=t.path)}))}return _createClass(t,[{key:"getBallotCount",value:function(){switch(this.ballotCountSelection){case"NUMBER_OF_ALL_PARTICIPANTS":return this.userRepo.getViewModelList().length;case"NUMBER_OF_DELEGATES":return this.userRepo.getViewModelList().filter((function(t){return t.groups_id&&t.groups_id.includes(2)})).length;case"CUSTOM_NUMBER":return this.ballotCustomCount;default:throw new Error("Amount of ballots cannot be computed")}}},{key:"createBallotOption",value:function(t){return{margin:[48,10,0,0],columns:[{width:15,canvas:this.drawCircle(6,8)},{width:"auto",text:t}]}}},{key:"drawCircle",value:function(t,e){return[{type:"ellipse",x:0,y:t,lineColor:"black",r1:e,r2:e}]}},{key:"getPages",value:function(t,e){for(var n=this.getBallotCount(),o=Math.floor(n/(2*t)),r=n%(2*t),i=[],a=0;a<o;a++){for(var c=[],s=0;s<t;s++)c.push([this.createBallot(e),this.createBallot(e)]);i.push({table:{headerRows:1,widths:["*","*"],body:c,pageBreak:"after"},rowsperpage:t})}if(r){for(var l=[];r>1;)l.push([this.createBallot(e),this.createBallot(e)]),r-=2;1===r&&l.push([this.createBallot(e),""]),i.push({table:{headerRows:1,widths:["50%","50%"],body:l},rowsperpage:t})}return i}},{key:"getHeader",value:function(){var t=[];return t.push({text:this.eventName,fontSize:8,alignment:"left",width:"60%"}),this.logo&&t.push({image:this.logo,fit:[90,25],alignment:"right",width:"40%"}),{color:"#555",fontSize:10,margin:[30,10,10,-10],columns:t,columnGap:5}}},{key:"getTitle",value:function(t){return{text:t,style:"title"}}},{key:"getSubtitle",value:function(t){return{text:t,style:"description"}}}]),t}()},EV9s:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o){var r;return _classCallCheck(this,n),(r=e.call(this)).translate=t,r.motionRepo=o,r}return _createClass(n,[{key:"replaceReferencedMotions",value:function(t,e){var n=this;return t.replace(/\[motion:(\d+)\]/g,(function(t,o){var r=e[o];return r?n.motionRepo.getIdentifierOrTitle(r):n.translate.instant("<unknown motion>")}))}}]),n}(n("9st3").a)},JTqh:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("fXoL"),r=n("2Vo4"),i=n("qnZ9"),a=n("lq69"),c=n("9st3"),s=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var o;return _classCallCheck(this,n),(o=e.call(this)).pollService=t,o.chartDataSubject=new r.a([]),o}return _createClass(n,[{key:"data",set:function(t){if(this._data=t,t.data.poll.state===i.e.Published){var e=this.pollService.generateChartData(t.data.poll);this.chartDataSubject.next(e)}},get:function(){return this._data}}]),n}(c.a);return t.\u0275fac=function(e){return new(e||t)(o.Tb(Object(o.Y)((function(){return a.a}))))},t.\u0275dir=o.Ob({type:t,inputs:{data:"data"},features:[o.Db]}),t}()},"Qy/R":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var o=n("mrSG"),r=n("fXoL"),i=n("F48D"),a=(n("/tkw"),n("mV3u")),c=n("jhN1"),s=n("sYmb"),l=n("dNgK"),u=["osSortedTree"],f=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,i,a){var c;return _classCallCheck(this,n),(c=e.call(this,t,o,i)).translate=o,c.promptService=a,c.changeState=new r.p,c.changeFilter=new r.p,c.forceSort=new r.p,c.hasChanged=!1,c.hasActiveFilter=!1,c.seenNodes=[0,0],c}return _createClass(n,[{key:"onCancel",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.canDeactivate();case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}this.osSortTree.setSubscription();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"receiveChanges",value:function(t){this.hasChanged=t}},{key:"onChangeAmountOfItems",value:function(t){this.seenNodes=t}},{key:"onStateChange",value:function(t){this.changeState.emit(t)}},{key:"canDeactivate",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasChanged){t.next=5;break}return e=this.translate.instant("Do you really want to exit this page?"),n=this.translate.instant("You made changes."),t.next=4,this.promptService.open(e,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})))}}]),n}(a.a);return t.\u0275fac=function(e){return new(e||t)(r.Tb(c.d),r.Tb(s.k),r.Tb(l.a),r.Tb(i.a))},t.\u0275dir=r.Ob({type:t,viewQuery:function(t,e){var n;1&t&&r.Oc(u,!0),2&t&&r.Dc(n=r.ic())&&(e.osSortTree=n.first)},features:[r.Db]}),t}()},RY0B:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n("490r"),r=n("+KbT"),i=n("fXoL"),a=n("ofXK"),c=function(t){return{"only-time-indicator":t}};function s(t,e){if(1&t&&(i.Zb(0,"div",3),i.Ub(1,"div",4),i.Yb()),2&t){var n=i.lc();i.tc("ngClass",i.zc(1,c,!n.showCountdown&&n.showTimeIndicator))}}var l=function(t){return{"only-countdown":t}};function u(t,e){if(1&t&&(i.Zb(0,"div",5),i.Zb(1,"span",6),i.Sc(2),i.Yb(),i.Yb()),2&t){var n=i.lc();i.tc("ngClass",i.zc(2,l,n.showCountdown&&!n.showTimeIndicator)),i.Gb(2),i.Uc(" ",n.time," ")}}var f=function(t,e,n){return{"negative-time":t,"warning-time":e,"stretch-to-fill-parent":n}},d=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.servertimeService=e,this.configService=n,this.fullscreen=!1,this.showTimeIndicator=!1,this.showCountdown=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.configService.get("font_monospace").subscribe((function(t){t&&new FontFace("OSFont Monospace","url(".concat(t.path||t.default,")")).load().then((function(t){document.fonts.add(t)})).catch((function(t){console.log(t)}))}))}},{key:"updateCountdownTime",value:function(){this.seconds=this.countdown.running?Math.floor(this.countdown.countdown_time-this.servertimeService.getServertime()/1e3):this.countdown.countdown_time;var t=this.seconds<0,e=this.seconds;t&&(e=-e);var n=new Date(1e3*e),o="0"+n.getMinutes(),r="0"+n.getSeconds();this.time=o.slice(-2)+":"+r.slice(-2),t&&(this.time="-"+this.time)}},{key:"ngOnDestroy",value:function(){this.countdownInterval&&clearInterval(this.countdownInterval)}},{key:"displayType",set:function(t){t||(t="onlyCountdown"),this.showTimeIndicator="countdownAndTimeIndicator"===t||"onlyTimeIndicator"===t,this.showCountdown="onlyCountdown"===t||"countdownAndTimeIndicator"===t}},{key:"countdown",set:function(t){var e=this;this._countdown=t,this.countdownInterval&&clearInterval(this.countdownInterval),t&&(this.updateCountdownTime(),this.countdownInterval=setInterval((function(){return e.updateCountdownTime()}),500))},get:function(){return this._countdown}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(o.a),i.Tb(r.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["os-countdown-time"]],inputs:{warningTime:"warningTime",fullscreen:"fullscreen",displayType:"displayType",countdown:"countdown"},decls:3,vars:7,consts:[[1,"countdown-time-wrapper",3,"ngClass"],["class","time-indicator-wrapper",3,"ngClass",4,"ngIf"],["class","countdown-wrapper",3,"ngClass",4,"ngIf"],[1,"time-indicator-wrapper",3,"ngClass"],["id","timeIndicator"],[1,"countdown-wrapper",3,"ngClass"],["id","countdown"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Qc(1,s,2,3,"div",1),i.Qc(2,u,3,4,"div",2),i.Yb()),2&t&&(i.tc("ngClass",i.Bc(3,f,e.seconds<=0,e.seconds<=e.warningTime&&e.seconds>0,e.fullscreen)),i.Gb(1),i.tc("ngIf",e.showTimeIndicator),i.Gb(1),i.tc("ngIf",e.showCountdown))},directives:[a.q,a.t],styles:['@font-face{font-family:OSFont;font-style:normal;font-display:swap;font-weight:400;src:url(fira-sans-latin-400.a6dfc650c384fc216db7.woff) format("woff")}@font-face{font-family:OSFont;font-style:italic;font-display:swap;font-weight:400;src:url(fira-sans-latin-400italic.bba27fdf478c53625712.woff) format("woff")}@font-face{font-family:OSFont;font-style:normal;font-display:swap;font-weight:500;src:url(fira-sans-latin-500.b4df85773252b69873f7.woff) format("woff")}@font-face{font-family:OSFont;font-style:italic;font-display:swap;font-weight:500;src:url(fira-sans-latin-500italic.3af610c018c6850a3344.woff) format("woff")}@font-face{font-family:OSFont Condensed;font-style:normal;font-display:swap;font-weight:400;src:url(fira-sans-condensed-latin-400.93da92e83626ed5b1a0b.woff) format("woff")}@font-face{font-family:"OSFont Monospace";font-style:normal;font-display:swap;font-weight:400;src:url(roboto-condensed-bold.8b1204b2d4afe3341531.woff) format("woff")}.countdown-time-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.countdown-time-wrapper.warning-time[_ngcontent-%COMP%]{color:#ed940e}.countdown-time-wrapper.warning-time[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{background:#ed940e}.countdown-time-wrapper.negative-time[_ngcontent-%COMP%]{color:#c00}.countdown-time-wrapper.negative-time[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{background:#c00}.countdown-time-wrapper[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]{text-align:left}.countdown-time-wrapper[_ngcontent-%COMP%]   .time-indicator-wrapper.only-time-indicator[_ngcontent-%COMP%]{width:100%;text-align:right}.countdown-time-wrapper[_ngcontent-%COMP%]   .time-indicator-wrapper.only-time-indicator[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{width:60px;height:60px}.countdown-time-wrapper[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{width:50px;height:50px;display:inline-block;background:green;border-radius:50%}.countdown-time-wrapper[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]{width:170px;text-align:right!important;position:relative;height:100%}.countdown-time-wrapper[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]:not(.only-countdown){margin-left:10px;font-size:60px;line-height:60px}.countdown-time-wrapper[_ngcontent-%COMP%]   .countdown-wrapper.only-countdown[_ngcontent-%COMP%]{width:100%;line-height:100%;text-align:center}.countdown-time-wrapper[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   #countdown[_ngcontent-%COMP%]{white-space:nowrap;font-family:"OSFont Monospace";font-weight:700;text-align:center}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]{width:30%}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{width:auto;height:auto;margin-left:50px}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]{width:70%}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   #countdown[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:50px}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper.only-time-indicator[_ngcontent-%COMP%]{width:100%;text-align:center}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper.only-time-indicator[_ngcontent-%COMP%]   #timeIndicator[_ngcontent-%COMP%]{padding:0 0 70% 70%}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .time-indicator-wrapper[_ngcontent-%COMP%]:not(.only-time-indicator)   #timeIndicator[_ngcontent-%COMP%]{padding:0 0 65% 65%}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper.only-countdown[_ngcontent-%COMP%]{margin:0 50px;width:calc(100% - 100px)}.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper.only-countdown[_ngcontent-%COMP%]   #countdown[_ngcontent-%COMP%]{line-height:300px;font-size:300px;bottom:calc(50% - 150px)}@media screen and (max-width:599px){.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]:not(.only-countdown)   #countdown[_ngcontent-%COMP%]{font-size:210px;line-height:210px;bottom:calc(50% - 105px)}}@media screen and (min-width:600px){.countdown-time-wrapper.stretch-to-fill-parent[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]:not(.only-countdown)   #countdown[_ngcontent-%COMP%]{line-height:230px;font-size:230px;bottom:calc(50% - 115px)}}']}),t}()},VVsa:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var o=n("D/ll"),r=n("OwvW"),i=n("AqIO"),a=n("iTQr"),c=n("D5Qf"),s=n("+B0n"),l=n("dOok"),u=n("s3dr"),f=n("lv9T"),d=n("+KbT"),p=n("Q5D0"),h=n("fXoL"),g=n("sYmb"),b=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,i,a,c,s,l,u,f,d){var p;return _classCallCheck(this,n),(p=e.call(this,t,o,r,i,a,c,s,l,u,f)).keyPrefix="AmendmentList",p.motionFilterOptions={property:"parent_id",label:"Motion",options:[]},p.updateFilterForRepo(d,p.motionFilterOptions,null,(function(t){return d.hasAmendments(t)})),p}return _createClass(n,[{key:"updateStorageKey",value:function(){this.storageKey=this._parentMotionId?"".concat(this.keyPrefix,"_parentId_").concat(this._parentMotionId):this.keyPrefix}},{key:"preFilter",value:function(t){var e=this;return t.filter((function(t){return e._parentMotionId?t.parent_id===e._parentMotionId:!!t.parent_id}))}},{key:"getFilterDefinitions",value:function(){if(this.motionFilterOptions)return[this.motionFilterOptions].concat(_get(_getPrototypeOf(n.prototype),"getFilterDefinitions",this).call(this))}},{key:"parentMotionId",set:function(t){this._parentMotionId=t,this.updateStorageKey()}}]),n}(p.a);return t.\u0275fac=function(e){return new(e||t)(h.dc(i.a),h.dc(o.a),h.dc(a.a),h.dc(c.a),h.dc(s.a),h.dc(f.a),h.dc(u.a),h.dc(g.k),h.dc(r.a),h.dc(d.a),h.dc(l.a))},t.\u0275prov=h.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},VaoK:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("iu6c").a)},Xqcw:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("M0z7"),r=n("mV3u"),i=n("fXoL"),a=n("jhN1"),c=n("sYmb"),s=n("dNgK"),l=n("OwvW"),u=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,a){var c;return _classCallCheck(this,n),(c=e.call(this,t,r,i)).operator=a,c.votingErrors=o.a,c.deliveringVote=!1,c.subscriptions.push(c.operator.getViewUserObservable().subscribe((function(t){c.user=t}))),c}return n}(r.a);return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.d),i.Tb(c.k),i.Tb(s.a),i.Tb(l.a))},t.\u0275dir=i.Ob({type:t,inputs:{poll:"poll"},features:[i.Db]}),t}()},c3p6:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("mrSG"),r=n("2Vo4"),i=n("qnZ9"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,c,s,l,u){var f,d;return _classCallCheck(this,n),(d=e.call(this,t,a,o)).translate=a,d.dialog=c,d.promptService=s,d.repo=l,d.pollDialog=u,d.stateChangePending=!1,d.chartDataSubject=new r.a([]),d.pollStateActions=(_defineProperty(f={},i.e.Created,{icon:"play_arrow",css:"start-poll-button"}),_defineProperty(f,i.e.Started,{icon:"stop",css:"stop-poll-button"}),_defineProperty(f,i.e.Finished,{icon:"public",css:"publish-poll-button"}),f),d}return _createClass(n,[{key:"changeState",value:function(t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==i.e.Created){e.next=9;break}return n=this.translate.instant("Are you sure you want to reset this vote?"),o=this.translate.instant("All votes will be lost."),e.next=4,this.promptService.open(n,o);case 4:if(e.t0=e.sent,!e.t0){e.next=7;break}this.stateChangePending=!0,this.repo.resetPoll(this._poll).catch(this.raiseError).finally((function(){r.stateChangePending=!1}));case 7:e.next=10;break;case 9:this.stateChangePending=!0,this.repo.changePollState(this._poll).catch(this.raiseError).finally((function(){r.stateChangePending=!1}));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"resetState",value:function(){this.changeState(i.e.Created)}},{key:"onDeletePoll",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to delete this vote?"),t.next=3,this.promptService.open(e);case 3:if(t.t0=t.sent,!t.t0){t.next=7;break}return t.next=7,this.repo.delete(this._poll).catch(this.raiseError);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"openDialog",value:function(){this.pollDialog.openDialog(this._poll)}},{key:"initPoll",value:function(t){this._poll=t}},{key:"refreshPoll",value:function(){this.repo.refresh(this._poll)}},{key:"hideChangeState",get:function(){return this._poll.isPublished||this._poll.isCreated&&this._poll.type===i.f.Analog}}]),n}(n("mV3u").a)},cfFX:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("OwvW"),r=n("fXoL"),i=function(){var t=function(){function t(e,n,o){_classCallCheck(this,t),this.template=e,this.viewContainer=n,this.operator=o,this.lastIsSuperAdminCheckResult=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.operatorSubscription=this.operator.getUserObservable().subscribe((function(){t.updateView()}))}},{key:"ngOnDestroy",value:function(){this.operatorSubscription&&this.operatorSubscription.unsubscribe()}},{key:"updateView",value:function(){var t=this.operator.isSuperAdmin;t&&t!==this.lastIsSuperAdminCheckResult?(this.viewContainer.clear(),this.viewContainer.createEmbeddedView(this.template)):t||this.viewContainer.clear(),this.lastIsSuperAdminCheckResult=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.P),r.Tb(r.T),r.Tb(o.a))},t.\u0275dir=r.Ob({type:t,selectors:[["","osIsSuperAdmin",""]]}),t}()},f3I0:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("OwvW"),r=n("+KbT"),i=n("fXoL"),a=function(){var t=function(){function t(e,n){var o=this;_classCallCheck(this,t),this.operator=e,this.configService=n,this.configService.get("motions_min_supporters").subscribe((function(t){return o.configMinSupporters=t})),this.configService.get("motions_amendments_enabled").subscribe((function(t){return o.amendmentEnabled=t})),this.configService.get("motions_amendments_of_amendments").subscribe((function(t){return o.amendmentOfAmendment=t}))}return _createClass(t,[{key:"canAccessMobileDotMenu",value:function(){return this.operator.hasPerms(o.b.agendaCanSeeListOfSpeakers,o.b.coreCanManageProjector)}},{key:"isAllowed",value:function(t,e){var n=this;switch(t){case"create":return this.operator.hasPerms(o.b.motionsCanCreate);case"support":return!(!e||!e.state)&&this.operator.hasPerms(o.b.motionsCanSupport)&&this.configMinSupporters>0&&e.state&&e.state.allow_support&&e.submitters&&!e.submittersAsUsers.includes(this.operator.viewUser)&&e.supporters&&!e.supporters.includes(this.operator.viewUser);case"unsupport":return!!e&&e.state&&e.state.allow_support&&e.supporters&&-1!==e.supporters.indexOf(this.operator.viewUser);case"createpoll":return!!e&&(this.operator.hasPerms(o.b.motionsCanManage)||this.operator.hasPerms(o.b.motionsCanManageMetadata))&&e.state&&e.state.allow_create_poll;case"update":return!(!e||!e.id)&&(this.operator.hasPerms(o.b.motionsCanManage)||e.state&&e.state.allow_submitter_edit&&e.submitters&&e.submitters.length&&!this.operator.isAnonymous&&e.submitters.some((function(t){return t.user_id===n.operator.user.id})));case"update_submitters":return this.operator.hasPerms(o.b.motionsCanManage);case"delete":return!!e&&this.operator.hasPerms(o.b.motionsCanManage)&&e.state&&e.state.allow_submitter_edit&&e.submitters&&e.submitters.length&&e.submitters.some((function(t){return t.user_id===n.operator.user.id}));case"change_state":return!(!e||!e.id)&&(this.operator.hasPerms(o.b.motionsCanManage)||this.operator.hasPerms(o.b.motionsCanManageMetadata)||e.state&&e.state.allow_submitter_edit&&!this.operator.isAnonymous&&e.submitters&&e.submitters.some((function(t){return t.user_id===n.operator.user.id})));case"change_metadata":return this.operator.hasPerms(o.b.motionsCanManage)||this.operator.hasPerms(o.b.motionsCanManageMetadata);case"can_create_amendments":return!!e&&this.operator.hasPerms(o.b.motionsCanCreateAmendments)&&this.amendmentEnabled&&(!e.parent_id||e.parent_id&&this.amendmentOfAmendment);case"can_manage_metadata":return this.operator.hasPerms(o.b.motionsCanManage)&&this.operator.hasPerms(o.b.motionsCanManageMetadata);case"manage":return this.operator.hasPerms(o.b.motionsCanManage);default:return!1}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(o.a),i.dc(r.a))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},iVKA:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("XNiG"),r=n("2Vo4"),i=n("3UWI"),a=n("EqxN"),c=n("fXoL"),s=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.websocketService=e,this.openProjectorInstances={},this.currentProjectorData={},this.updateProjectorDataDebounceSubject=new o.a,this.currentChangeId=0,this.websocketService.getOberservable("projector").subscribe((function(t){n.currentChangeId>t.change_id||(Object.keys(t.data).forEach((function(e){var o=parseInt(e,10);n.currentProjectorData[o]&&n.currentProjectorData[o].next(t.data[o])})),n.currentChangeId=t.change_id)})),this.websocketService.generalConnectEvent.subscribe((function(){return n.updateProjectorDataSubscription()})),this.updateProjectorDataDebounceSubject.pipe(Object(i.a)(10)).subscribe((function(){var t=Object.keys(n.openProjectorInstances).map((function(t){return parseInt(t,10)})).filter((function(t){return n.openProjectorInstances[t]>0}));n.websocketService.send("listenToProjectors",{projector_ids:t})}))}return _createClass(t,[{key:"getProjectorObservable",value:function(t){return this.openProjectorInstances[t]?this.openProjectorInstances[t]++:(this.openProjectorInstances[t]=1,this.currentProjectorData[t]||(this.currentProjectorData[t]=new r.a(null))),1===this.openProjectorInstances[t]&&this.updateProjectorDataSubscription(),this.currentProjectorData[t].asObservable()}},{key:"projectorClosed",value:function(t){this.openProjectorInstances[t]&&this.openProjectorInstances[t]--,0===this.openProjectorInstances[t]&&(this.updateProjectorDataSubscription(),this.currentProjectorData[t].next(null))}},{key:"updateProjectorDataSubscription",value:function(){this.updateProjectorDataDebounceSubject.next()}},{key:"getAvailableProjectorData",value:function(t){if(this.currentProjectorData[t.id])return this.currentProjectorData[t.id].getValue()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.dc(a.b))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},kYDr:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("mrSG"),r=n("+WZz"),i=n("fXoL"),a=function(){var t=function(){function t(e){_classCallCheck(this,t),this.projectorService=e}return _createClass(t,[{key:"getCurrentListOfSpeakersProjectorElement",value:function(t){return{name:t?"agenda/current-list-of-speakers-overlay":"agenda/current-list-of-speakers",stable:t,getIdentifiers:function(){return["name"]}}}},{key:"getSlide",value:function(t){var e=this;return{getBasicProjectorElement:function(n){return e.getCurrentListOfSpeakersProjectorElement(t)},slideOptions:[],projectionDefaultName:"agenda_current_list_of_speakers",getDialogTitle:function(){return"Current list of speakers"}}}},{key:"isProjectedOn",value:function(t,e){return this.projectorService.isProjectedOn(this.getCurrentListOfSpeakersProjectorElement(e),t.projector)}},{key:"toggleOn",value:function(t,e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.isProjectedOn(t,e)){n.next=5;break}return n.next=3,this.projectorService.removeFrom(t.projector,this.getCurrentListOfSpeakersProjectorElement(e));case 3:n.next=7;break;case 5:return n.next=7,this.projectorService.projectOn(t.projector,this.getCurrentListOfSpeakersProjectorElement(e));case 7:case"end":return n.stop()}}),n,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(r.a))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},m1Ob:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("fXoL"),r=n("ofXK"),i=n("f0Cb"),a=function(t){return{"no-space":t}};function c(t,e){if(1&t&&(o.Zb(0,"div",2),o.Zb(1,"h3"),o.Sc(2),o.Yb(),o.Ub(3,"mat-divider"),o.Yb()),2&t){var n=o.lc();o.tc("ngClass",o.zc(2,a,n.noSpace)),o.Gb(2),o.Tc(n.title)}}var s=["*"],l=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["os-grid-layout"]],inputs:{title:"title",noSpace:"noSpace"},ngContentSelectors:s,decls:3,vars:4,consts:[["class","heading-container",3,"ngClass",4,"ngIf"],[1,"os-grid",3,"ngClass"],[1,"heading-container",3,"ngClass"]],template:function(t,e){1&t&&(o.sc(),o.Qc(0,c,4,4,"div",0),o.Zb(1,"div",1),o.rc(2),o.Yb()),2&t&&(o.tc("ngIf",e.title),o.Gb(1),o.tc("ngClass",o.zc(2,a,e.noSpace)))},directives:[r.t,r.q,i.a],styles:[".heading-container[_ngcontent-%COMP%]{padding:0 16px}.heading-container.no-space[_ngcontent-%COMP%]{padding:0}.os-grid[_ngcontent-%COMP%]{padding:8px;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap}.os-grid.no-space[_ngcontent-%COMP%]{padding:0}"]}),t}()},pA48:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var o=n("lJxs"),r=n("ZDbo"),i=n("mV3u"),a=(n("8fOK"),n("fXoL")),c=n("jhN1"),s=n("sYmb"),l=n("dNgK"),u=n("bv9b"),f=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,i){var a;return _classCallCheck(this,n),(a=e.call(this,t,o,r)).translate=o,a.userRepo=i,a}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.poll&&this.subscriptions.push(this.userRepo.getViewModelListObservable().pipe(Object(o.a)((function(e){return e.filter((function(e){return e.is_present&&t.poll.groups_id.intersect(e.groups_id).length}))}))).subscribe((function(e){t.max=e.length})))}},{key:"votescast",get:function(){var t;return(null===(t=this.poll)||void 0===t?void 0:t.votescast)||0}},{key:"valueInPercent",get:function(){return this.votescast/this.max*100}}]),n}(i.a);return t.\u0275fac=function(e){return new(e||t)(a.Tb(c.d),a.Tb(s.k),a.Tb(l.a),a.Tb(r.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["os-poll-progress"]],inputs:{poll:"poll"},features:[a.Db],decls:8,vars:6,consts:[[1,"poll-progress-wrapper"],[1,"vote-number"],[1,"voting-progress-bar",3,"value"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"span"),a.Sc(3),a.Yb(),a.Yb(),a.Zb(4,"span"),a.Sc(5),a.mc(6,"translate"),a.Yb(),a.Ub(7,"mat-progress-bar",2),a.Yb()),2&t&&(a.Gb(3),a.Vc("",e.votescast," / ",e.max,""),a.Gb(2),a.Tc(a.nc(6,4,"Received votes")),a.Gb(2),a.tc("value",e.valueInPercent))},directives:[u.a],pipes:[s.j],styles:[".poll-progress-wrapper[_ngcontent-%COMP%]{margin:1em 0 2em}.poll-progress-wrapper[_ngcontent-%COMP%]   .vote-number[_ngcontent-%COMP%]{text-align:center;font-size:150%}"]}),t}()},rsMv:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("ofXK"),r=n("PCNd"),i=n("fXoL"),a=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[o.c,r.a]]}),t}()},ycpk:function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var o=n("B5uJ"),r=n("fXoL"),i=n("Wp6s"),a=n("ofXK"),c=n("f0Cb"),s=["contentNode"],l=["blockNode"],u=["actionNode"];function f(t,e){if(1&t&&(r.Xb(0),r.Sc(1),r.Wb()),2&t){var n=r.lc(2);r.Gb(1),r.Uc(" ",n.block," ")}}function d(t,e){if(1&t&&(r.Xb(0),r.Vb(1,10),r.Wb()),2&t){var n=r.lc(2),o=r.Ec(4);r.Gb(1),r.tc("ngTemplateOutlet",o)("ngTemplateOutletContext",n.data)}}var p=function(t){return{"no-padding":t}};function h(t,e){if(1&t&&(r.Zb(0,"div",6),r.Zb(1,"div",7,8),r.Qc(3,f,2,1,"ng-container",9),r.Qc(4,d,2,2,"ng-container",9),r.Yb(),r.Yb()),2&t){var n=r.lc();r.tc("ngSwitch",n.blockType)("ngClass",r.zc(6,p,n.noPaddingBlock)),r.Gb(1),r.Pc("border-radius","horizontal"===n.orientation?"4px 0 0 4px":"4px 4px 0 0"),r.Gb(2),r.tc("ngSwitchCase","text"),r.Gb(1),r.tc("ngSwitchCase","node")}}function g(t,e){if(1&t&&(r.Zb(0,"mat-card-subtitle",17),r.Sc(1),r.Yb()),2&t){var n=r.lc(4);r.Gb(1),r.Uc(" ",n.subtitle," ")}}function b(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"mat-card-title",15),r.Sc(2),r.Yb(),r.Qc(3,g,2,1,"mat-card-subtitle",16),r.Wb()),2&t){var n=r.lc(3);r.Gb(2),r.Uc(" ",n.title," "),r.Gb(1),r.tc("ngIf",n.subtitle)}}function m(t,e){1&t&&r.Ub(0,"mat-divider")}var v=function(t){return{"only-content":t}};function w(t,e){if(1&t&&(r.Zb(0,"div",18,19),r.Vb(2,10),r.Yb()),2&t){var n=r.lc(3),o=r.Ec(6);r.tc("ngClass",r.zc(3,v,"content"===n.only)),r.Gb(2),r.tc("ngTemplateOutlet",o)("ngTemplateOutletContext",n.data)}}function _(t,e){if(1&t&&(r.Xb(0),r.Qc(1,b,4,2,"ng-container",13),r.Qc(2,m,1,0,"mat-divider",13),r.Qc(3,w,3,5,"div",14),r.Wb()),2&t){var n=r.lc(2);r.Gb(1),r.tc("ngIf",!n.only||"title"===n.only),r.Gb(1),r.tc("ngIf",!n.only),r.Gb(1),r.tc("ngIf",!n.only||"content"===n.only)}}function C(t,e){if(1&t&&(r.Zb(0,"mat-card-actions",null,20),r.Vb(2,21),r.Yb()),2&t){r.lc(2);var n=r.Ec(8);r.Gb(2),r.tc("ngTemplateOutlet",n)}}function O(t,e){if(1&t&&(r.Zb(0,"div",11),r.Zb(1,"mat-card-content",12),r.Qc(2,_,4,3,"ng-container",13),r.Qc(3,C,3,1,"mat-card-actions",13),r.Yb(),r.Yb()),2&t){var n=r.lc();r.Gb(2),r.tc("ngIf",n.showContentNode),r.Gb(1),r.tc("ngIf",n.showActions)}}function P(t,e){1&t&&r.rc(0)}function k(t,e){1&t&&r.rc(0,1)}function y(t,e){1&t&&r.rc(0,2)}var M=[[["",8,"block-node"]],[["",8,"block-content-node"]],[["",8,"block-action-node"]]],S=function(t,e){return{"is-square":t,vertical:e}},x=[".block-node",".block-content-node",".block-action-node"],I=function(t){return t.text="text",t.node="node",t}({}),T=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var o;return _classCallCheck(this,n),(o=e.call(this)).cd=t,o.blockType=I.node,o.noPaddingBlock=!1,o.isSquare=!1,o.orientation="horizontal",o.only=null,o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){void 0===this._showBlockNode&&(this.showBlockNode=this.checkForContent(this.blockNode)),void 0===this._showContentNode&&(this.showContentNode=this.checkForContent(this.contentNode)),void 0===this._showActionNode&&(this.showActions=this.checkForContent(this.actionNode)),this.cd.detectChanges()}},{key:"checkForContent",value:function(t){return!!t&&Array.from(t.nativeElement.childNodes).some((function(t){return 8!==t.nodeType}))}},{key:"showBlockNode",set:function(t){this._showBlockNode=t},get:function(){return void 0===this._showBlockNode||this._showBlockNode}},{key:"showContentNode",set:function(t){this._showContentNode=t},get:function(){return void 0===this._showContentNode||this._showContentNode||!!this.only||!!this.title}},{key:"showActions",set:function(t){this._showActionNode=t},get:function(){return void 0===this._showActionNode||this._showActionNode}}]),n}(o.a);return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.h))},t.\u0275cmp=r.Nb({type:t,selectors:[["os-block-tile"]],viewQuery:function(t,e){var n;1&t&&(r.Zc(s,!0),r.Zc(l,!0),r.Zc(u,!0)),2&t&&(r.Dc(n=r.ic())&&(e.contentNode=n.first),r.Dc(n=r.ic())&&(e.blockNode=n.first),r.Dc(n=r.ic())&&(e.actionNode=n.first))},inputs:{blockType:"blockType",noPaddingBlock:"noPaddingBlock",isSquare:"isSquare",block:"block",title:"title",subtitle:"subtitle",orientation:"orientation",only:"only",showBlockNode:"showBlockNode",showContentNode:"showContentNode",showActions:"showActions"},features:[r.Db],ngContentSelectors:x,decls:9,vars:8,consts:[[1,"block-tile",3,"ngClass","click"],["class","block-node-container",3,"ngSwitch","ngClass",4,"ngIf"],["class","tile-content-node-container",4,"ngIf"],["blockNodeTemplate",""],["contentNodeTemplate",""],["actionNodeTemplate",""],[1,"block-node-container",3,"ngSwitch","ngClass"],[1,"tile-text","stretch-to-fill-parent","tile-color"],["blockNode",""],[4,"ngSwitchCase"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tile-content-node-container"],[1,"tile-content"],[4,"ngIf"],["class","tile-content-extra",3,"ngClass",4,"ngIf"],[1,"tile-content-title"],["class","tile-content-subtitle",4,"ngIf"],[1,"tile-content-subtitle"],[1,"tile-content-extra",3,"ngClass"],["contentNode",""],["actionNode",""],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.sc(M),r.Zb(0,"mat-card",0),r.hc("click",(function(t){return e.onClick(t)})),r.Qc(1,h,5,8,"div",1),r.Qc(2,O,4,2,"div",2),r.Yb(),r.Qc(3,P,1,0,"ng-template",null,3,r.Rc),r.Qc(5,k,1,0,"ng-template",null,4,r.Rc),r.Qc(7,y,1,0,"ng-template",null,5,r.Rc)),2&t&&(r.Pc("display","horizontal"===e.orientation?"flex":"block"),r.tc("ngClass",r.Ac(5,S,e.isSquare,"vertical"===e.orientation)),r.Gb(1),r.tc("ngIf",e.showBlockNode),r.Gb(1),r.tc("ngIf",e.showContentNode||e.showActions))},directives:[i.a,a.q,a.t,a.x,a.y,a.A,i.d,i.m,i.l,c.a,i.b],styles:[".block-tile[_ngcontent-%COMP%]{padding:0}.block-tile.is-square[_ngcontent-%COMP%]:not(.vertical)   .block-node-container[_ngcontent-%COMP%]{padding-bottom:100%}.block-tile.vertical.is-square[_ngcontent-%COMP%]{padding-bottom:100%;height:0}.block-tile.vertical[_ngcontent-%COMP%]   .block-node-container[_ngcontent-%COMP%]{padding-bottom:50%}.block-tile.vertical[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]{margin:0}.block-tile[_ngcontent-%COMP%]   .block-node-container[_ngcontent-%COMP%]{position:relative;min-width:30%}.block-tile[_ngcontent-%COMP%]   .block-node-container[_ngcontent-%COMP%]:not(.no-padding){padding-bottom:50%}.block-tile[_ngcontent-%COMP%]   .block-node-container[_ngcontent-%COMP%]   .tile-text[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{height:100%;width:100%;text-align:center;font-size:24px;font-weight:500}.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]{width:100%;margin:8px 16px}.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]{margin-bottom:0;height:100%}.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   .tile-content-title[_ngcontent-%COMP%]{font-weight:unset;margin-bottom:0;overflow:hidden}@media (max-width:500px){.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   .tile-content-title[_ngcontent-%COMP%]{font-size:calc(12px + 1vmin)}}@media (min-width:500px) and (max-width:959px){.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   .tile-content-title[_ngcontent-%COMP%]{font-size:calc(11px + 1vw)}}@media (min-width:960px){.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content[_ngcontent-%COMP%]   .tile-content-title[_ngcontent-%COMP%]{font-size:calc(10px + .5vmax)}}.block-tile[_ngcontent-%COMP%]   .tile-content-node-container[_ngcontent-%COMP%]   .tile-content-extra[_ngcontent-%COMP%]:not(.only-content){padding-top:8px}.block-tile[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)!important}"]}),t}()}}]);