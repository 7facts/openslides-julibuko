function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _get(t,e,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=_superPropBase(t,e);if(n){var c=Object.getOwnPropertyDescriptor(n,e);return c.get?c.get.call(i):c.value}})(t,e,i||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(t);if(e){var c=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,c)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[32,36],{"0bnU":function(t,e,i){"use strict";i.r(e),i.d(e,"MediafilesModule",(function(){return ce}));var n,c,r,a=i("ofXK"),o=i("tyNb"),l=i("OwvW"),s=i("SSyl"),u=i("mV3u"),b=i("fXoL"),f=i("jhN1"),d=i("sYmb"),m=i("dNgK"),p=i("mksl"),h=i("bTqV"),g=i("STbY"),v=i("NFeN"),y=i("Wp6s"),S=i("GTZY"),k=((n=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,n,c,r,a,o){var l;return _classCallCheck(this,i),(l=e.call(this,t,n,c)).location=r,l.route=a,l.repo=o,l.parallel=!0,l.directoryId=null,l}return _createClass(i,[{key:"ngOnInit",value:function(){var t=this;this.repo.getDirectoryIdByPath(this.route.snapshot.url.map((function(t){return t.path}))).then((function(e){t.directoryId=e}))}},{key:"uploadSuccess",value:function(){this.location.back()}},{key:"showError",value:function(t){this.raiseError(t)}},{key:"setUploadStrategy",value:function(t){this.parallel=t}}]),i}(u.a)).\u0275fac=function(t){return new(t||n)(b.Tb(f.d),b.Tb(d.k),b.Tb(m.a),b.Tb(a.n),b.Tb(o.a),b.Tb(s.a))},n.\u0275cmp=b.Nb({type:n,selectors:[["os-media-upload"]],features:[b.Db],decls:19,vars:12,consts:[[3,"nav","goBack"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"os-card"],[3,"parallel","directoryId","uploadSuccessEvent","errorEvent"],["uploadMenu","matMenu"],["mat-menu-item","",3,"click"],["color","accent"]],template:function(t,e){if(1&t&&(b.Zb(0,"os-head-bar",0),b.Zb(1,"div",1),b.Zb(2,"h2"),b.Sc(3),b.mc(4,"translate"),b.Yb(),b.Yb(),b.Zb(5,"div",2),b.Zb(6,"button",3),b.Zb(7,"mat-icon"),b.Sc(8,"more_vert"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(9,"mat-card",4),b.Zb(10,"os-media-upload-content",5),b.hc("uploadSuccessEvent",(function(){return e.uploadSuccess()}))("errorEvent",(function(t){return e.showError(t)})),b.Yb(),b.Yb(),b.Zb(11,"mat-menu",null,6),b.Zb(13,"button",7),b.hc("click",(function(){return e.setUploadStrategy(!e.parallel)})),b.Zb(14,"mat-icon",8),b.Sc(15),b.Yb(),b.Zb(16,"span"),b.Sc(17),b.mc(18,"translate"),b.Yb(),b.Yb(),b.Yb()),2&t){var i=b.Ec(12);b.tc("nav",!1)("goBack",!0),b.Gb(3),b.Tc(b.nc(4,8,"Upload files")),b.Gb(3),b.tc("matMenuTriggerFor",i),b.Gb(4),b.tc("parallel",e.parallel)("directoryId",e.directoryId),b.Gb(5),b.Tc(e.parallel?"check_box":"check_box_outline_blank"),b.Gb(2),b.Tc(b.nc(18,10,"Parallel upload"))}},directives:[p.a,h.b,g.e,v.a,y.a,S.a,g.f,g.c],pipes:[d.j],styles:[""]}),n),Y=i("mrSG"),Z=i("3Pt+"),_=i("dRZP"),w=i("2Vo4"),T=i("HDdC"),G=i("AqIO"),I=i("R+Vs"),M=i("Hila"),C=i("+KbT"),F=((c=function(){function t(e,i){_classCallCheck(this,t),this.config=e,this.httpService=i}return _createClass(t,[{key:"setAs",value:function(t,e){return Object(Y.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n="/rest/core/config/".concat(e,"/"),c=this.getMediaConfig(e),i.abrupt("return",this.httpService.put(n,{id:t.id,key:c.key,default:c.default,value:{display_name:c.display_name,key:c.key,default:c.default,path:c.path!==t.url?t.url:""}}));case 2:case"end":return i.stop()}}),i,this)})))}},{key:"isImageConfigObject",value:function(t){if(void 0!==t)return void 0!==t.path}},{key:"getLogoActions",value:function(){return this.config.get("logos_available")}},{key:"getFontActions",value:function(){return this.config.get("fonts_available")}},{key:"getMediaConfig",value:function(t){return this.config.instant(t)}}]),t}()).\u0275fac=function(t){return new(t||c)(b.dc(C.a),b.dc(M.a))},c.\u0275prov=b.Pb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),D=i("F48D"),O=i("KL36"),x=i("smbJ"),A=i("Izkr"),E=i("wL0i"),P=i("D/ll"),Q=i("A6Ob"),j=((r=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,n,c){var r;return _classCallCheck(this,i),(r=e.call(this,t,n,c)).storageKey="MediafileList",r.mediafilesSortOptions=[{property:"title"},{property:"mimetype",label:r.translate.instant("Type")},{property:"filesize",label:r.translate.instant("Size")}],r}return _createClass(i,[{key:"getSortOptions",value:function(){return this.mediafilesSortOptions}},{key:"getDefaultDefinition",value:function(){return Object(Y.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{sortProperty:"title",sortAscending:!0});case 1:case"end":return t.stop()}}),t)})))}}]),i}(Q.a)).\u0275fac=function(t){return new(t||r)(b.dc(d.k),b.dc(G.a),b.dc(P.a))},r.\u0275prov=b.Pb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),R=i("0IaG"),N=i("3Xi6"),L=i("1yIO"),B=i("SOyc"),U=i("vYAO"),z=i("Qu3c"),V=i("f0Cb"),q=i("Tp2j"),W=i("kmnG"),$=i("qFsG"),H=i("IZUe"),K=i("oqD5"),X=["fileEditForm"],J=["fileEditDialog"];function tt(t,e){if(1&t){var i=b.ac();b.Zb(0,"button",26),b.hc("click",(function(){b.Ic(i);var t=b.lc(2),e=b.Ec(34);return t.createNewFolder(e)})),b.Zb(1,"mat-icon"),b.Sc(2,"create_new_folder"),b.Yb(),b.Yb()}}function et(t,e){if(1&t&&(b.Zb(0,"div",23),b.Qc(1,tt,3,0,"button",24),b.Zb(2,"button",25),b.Zb(3,"mat-icon"),b.Sc(4,"more_vert"),b.Yb(),b.Yb(),b.Yb()),2&t){var i=b.lc(),n=b.Ec(28);b.Gb(1),b.tc("ngIf",!i.isMultiSelect),b.Gb(1),b.tc("matMenuTriggerFor",n)}}function it(t,e){if(1&t){var i=b.ac();b.Zb(0,"div",27),b.Zb(1,"button",28),b.hc("click",(function(){return b.Ic(i),b.lc().toggleMultiSelect()})),b.Zb(2,"mat-icon"),b.Sc(3,"arrow_back"),b.Yb(),b.Yb(),b.Zb(4,"span"),b.Sc(5),b.Yb(),b.Zb(6,"span"),b.Sc(7),b.mc(8,"translate"),b.Yb(),b.Yb()}if(2&t){var n=b.lc();b.Gb(5),b.Uc("",n.selectedRows.length,"\xa0"),b.Gb(2),b.Tc(b.nc(8,2,"selected"))}}function nt(t,e){if(1&t){var i=b.ac();b.Zb(0,"button",6),b.hc("click",(function(){b.Ic(i);var t=b.lc().$implicit;return b.lc().changeDirectory(t.id)})),b.Zb(1,"span",34),b.Sc(2),b.Yb(),b.Yb()}if(2&t){var n=b.lc().$implicit,c=b.lc();b.tc("disabled",c.isMultiSelect),b.Gb(2),b.Uc(" ",n.filename," ")}}var ct=function(t){return{mediafile:t}};function rt(t,e){if(1&t&&(b.Zb(0,"button",35),b.Zb(1,"os-icon-container",36),b.Sc(2),b.Yb(),b.Yb()),2&t){var i=b.lc().$implicit,n=b.lc(),c=b.Ec(25);b.tc("matMenuTriggerFor",c)("matMenuTriggerData",b.zc(5,ct,i))("disabled",n.isMultiSelect),b.Gb(1),b.tc("noWrap",!0),b.Gb(1),b.Uc(" ",i.filename," ")}}function at(t,e){if(1&t&&(b.Zb(0,"span",37),b.Sc(1),b.Yb()),2&t){var i=b.lc().$implicit;b.Gb(1),b.Uc(" ",i.filename," ")}}function ot(t,e){if(1&t&&(b.Zb(0,"span",29),b.Zb(1,"span",30),b.Zb(2,"mat-icon"),b.Sc(3,"chevron_right"),b.Yb(),b.Yb(),b.Qc(4,nt,3,2,"button",31),b.Qc(5,rt,3,7,"button",32),b.Qc(6,at,2,1,"span",33),b.Yb()),2&t){var i=e.$implicit,n=e.last,c=b.lc();b.Gb(4),b.tc("ngIf",!n),b.Gb(1),b.tc("ngIf",n&&c.showFileMenu(i)),b.Gb(1),b.tc("ngIf",n&&!c.showFileMenu(i))}}function lt(t,e){1&t&&(b.Zb(0,"span"),b.Sc(1,", "),b.Yb())}function st(t,e){1&t&&(b.Zb(0,"span"),b.Sc(1,"..."),b.Yb())}function ut(t,e){if(1&t&&(b.Zb(0,"span"),b.Zb(1,"span"),b.Sc(2),b.mc(3,"translate"),b.Yb(),b.Qc(4,lt,2,0,"span",19),b.Qc(5,st,2,0,"span",19),b.Yb()),2&t){var i=e.$implicit,n=e.last,c=b.lc(2);b.Gb(2),b.Tc(b.nc(3,3,i.getTitle())),b.Gb(2),b.tc("ngIf",!n),b.Gb(1),b.tc("ngIf",n&&c.directory.inherited_access_groups.length>3)}}function bt(t,e){if(1&t){var i=b.ac();b.Zb(0,"span",38),b.Zb(1,"button",39),b.hc("click",(function(){b.Ic(i);var t=b.lc();return t.onEditFile(t.directory)})),b.Zb(2,"os-icon-container",40),b.mc(3,"translate"),b.Qc(4,ut,6,5,"span",41),b.mc(5,"slice"),b.Yb(),b.Yb(),b.Yb()}if(2&t){var n=b.lc();b.Gb(2),b.uc("matTooltip",b.nc(3,2,"Allowed access groups for this directory")),b.Gb(2),b.tc("ngForOf",b.pc(5,4,n.directory.inherited_access_groups,0,3))}}function ft(t,e){if(1&t&&b.Ub(0,"a",45),2&t){var i=b.lc().row;b.tc("routerLink",i.url)}}function dt(t,e){if(1&t){var i=b.ac();b.Zb(0,"a",46),b.hc("click",(function(){b.Ic(i);var t=b.lc().row;return b.lc().changeDirectory(t.id)})),b.Yb()}}function mt(t,e){if(1&t&&(b.Zb(0,"div",42),b.Qc(1,ft,1,1,"a",43),b.Qc(2,dt,1,0,"a",44),b.Zb(3,"mat-icon",7),b.Sc(4),b.Yb(),b.Yb()),2&t){var i=e.row,n=b.lc();b.Gb(1),b.tc("ngIf",!i.is_directory&&!n.isMultiSelect),b.Gb(1),b.tc("ngIf",i.is_directory&&!n.isMultiSelect),b.Gb(2),b.Tc(i.getIcon())}}function pt(t,e){if(1&t&&b.Ub(0,"a",45),2&t){var i=b.lc().row;b.tc("routerLink",i.url)}}function ht(t,e){if(1&t){var i=b.ac();b.Zb(0,"a",46),b.hc("click",(function(){b.Ic(i);var t=b.lc().row;return b.lc().changeDirectory(t.id)})),b.Yb()}}function gt(t,e){if(1&t&&(b.Zb(0,"div",50),b.Zb(1,"span"),b.Sc(2),b.Yb(),b.Yb()),2&t){var i=b.lc().row,n=b.lc();b.Gb(2),b.Vc(" ",n.getDateFromTimestamp(i.timestamp)," \xb7 ",i.filesize," ")}}function vt(t,e){if(1&t&&(b.Zb(0,"div",42),b.Qc(1,pt,1,1,"a",43),b.Qc(2,ht,1,0,"a",44),b.Zb(3,"div",47),b.Zb(4,"div",48),b.Sc(5),b.Yb(),b.Qc(6,gt,3,2,"div",49),b.Yb(),b.Yb()),2&t){var i=e.row,n=b.lc();b.Gb(1),b.tc("ngIf",!i.is_directory&&!n.isMultiSelect),b.Gb(1),b.tc("ngIf",i.is_directory&&!n.isMultiSelect),b.Gb(3),b.Uc(" ",i.filename," "),b.Gb(1),b.tc("ngIf",!i.is_directory)}}function yt(t,e){1&t&&(b.Zb(0,"span"),b.Sc(1,", "),b.Yb())}function St(t,e){1&t&&(b.Zb(0,"span"),b.Sc(1,"..."),b.Yb())}function kt(t,e){if(1&t&&(b.Zb(0,"span"),b.Zb(1,"span"),b.Sc(2),b.mc(3,"translate"),b.Yb(),b.Qc(4,yt,2,0,"span",19),b.Qc(5,St,2,0,"span",19),b.Yb()),2&t){var i=e.$implicit,n=e.last,c=b.lc(2).row;b.Gb(2),b.Tc(b.nc(3,3,i.getTitle())),b.Gb(2),b.tc("ngIf",!n),b.Gb(1),b.tc("ngIf",n&&c.access_groups.length>3)}}function Yt(t,e){if(1&t&&(b.Zb(0,"os-icon-container",53),b.Qc(1,kt,6,5,"span",41),b.mc(2,"slice"),b.Yb()),2&t){var i=b.lc().row;b.Gb(1),b.tc("ngForOf",b.pc(2,1,i.access_groups,0,3))}}function Zt(t,e){if(1&t){var i=b.ac();b.Zb(0,"div",51),b.hc("click",(function(){b.Ic(i);var t=e.row;return b.lc().onEditFile(t)})),b.Qc(1,Yt,3,5,"os-icon-container",52),b.Yb()}if(2&t){var n=e.row;b.Gb(1),b.tc("ngIf",n.access_groups.length)}}function _t(t,e){1&t&&(b.Zb(0,"mat-icon",7),b.Sc(1,"text_fields"),b.Yb())}function wt(t,e){1&t&&(b.Zb(0,"mat-icon",7),b.Sc(1,"insert_photo"),b.Yb())}function Tt(t,e){if(1&t&&(b.Zb(0,"div",56),b.Qc(1,_t,2,0,"mat-icon",57),b.Qc(2,wt,2,0,"mat-icon",57),b.Yb()),2&t){var i=b.lc().row,n=b.lc(),c=b.Ec(25);b.tc("matMenuTriggerFor",c)("matMenuTriggerData",b.zc(5,ct,i))("matTooltip",n.formatIndicatorTooltip(i)),b.Gb(1),b.tc("ngIf",i.isFont()),b.Gb(1),b.tc("ngIf",i.isImage())}}function Gt(t,e){if(1&t&&(b.Zb(0,"div",54),b.Qc(1,Tt,3,7,"div",55),b.Yb()),2&t){var i=e.row,n=b.lc();b.Gb(1),b.tc("ngIf",n.getFileSettings(i).length>0)}}function It(t,e){if(1&t&&(b.Zb(0,"button",59),b.Zb(1,"mat-icon"),b.Sc(2,"more_vert"),b.Yb(),b.Yb()),2&t){var i=b.lc().row,n=b.lc(),c=b.Ec(25);b.tc("matMenuTriggerFor",c)("matMenuTriggerData",b.zc(3,ct,i))("disabled",n.isMultiSelect)}}function Mt(t,e){if(1&t&&(b.Zb(0,"div",54),b.Qc(1,It,3,5,"button",58),b.Yb()),2&t){var i=e.row,n=b.lc();b.Gb(1),b.tc("ngIf",n.showFileMenu(i))}}function Ct(t,e){1&t&&(b.Zb(0,"div",60),b.Zb(1,"span"),b.Sc(2),b.mc(3,"translate"),b.Yb(),b.Yb()),2&t&&(b.Gb(2),b.Tc(b.nc(3,1,"No data")))}function Ft(t,e){if(1&t){var i=b.ac();b.Zb(0,"button",61),b.hc("click",(function(t){b.Ic(i);var n=e.mediafile,c=e.action;return b.lc().onManageButton(t,n,c)})),b.Zb(1,"mat-icon",62),b.Sc(2),b.Yb(),b.Zb(3,"span"),b.Sc(4),b.Yb(),b.Yb()}if(2&t){var n=e.mediafile,c=e.action,r=b.lc();b.Gb(2),b.Uc(" ",r.isUsedAs(n,c)?"check_box":"check_box_outline_blank"," "),b.Gb(2),b.Tc(r.getNameOfAction(c))}}function Dt(t,e){1&t&&b.Vb(0)}var Ot=function(t,e){return{mediafile:t,action:e}};function xt(t,e){if(1&t&&(b.Zb(0,"div"),b.Qc(1,Dt,1,0,"ng-container",65),b.Yb()),2&t){var i=e.$implicit,n=b.lc(3).mediafile;b.lc();var c=b.Ec(23);b.Gb(1),b.tc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.Ac(2,Ot,n,i))}}function At(t,e){if(1&t&&(b.Zb(0,"div"),b.Qc(1,xt,2,5,"div",41),b.Yb()),2&t){var i=b.lc(3);b.Gb(1),b.tc("ngForOf",i.logoActions)}}function Et(t,e){1&t&&b.Vb(0)}function Pt(t,e){if(1&t&&(b.Zb(0,"div"),b.Qc(1,Et,1,0,"ng-container",65),b.Yb()),2&t){var i=e.$implicit,n=b.lc(3).mediafile;b.lc();var c=b.Ec(23);b.Gb(1),b.tc("ngTemplateOutlet",c)("ngTemplateOutletContext",b.Ac(2,Ot,n,i))}}function Qt(t,e){if(1&t&&(b.Zb(0,"div"),b.Qc(1,Pt,2,5,"div",41),b.Yb()),2&t){var i=b.lc(3);b.Gb(1),b.tc("ngForOf",i.fontActions)}}function jt(t,e){1&t&&b.Ub(0,"mat-divider")}function Rt(t,e){if(1&t&&(b.Zb(0,"div"),b.Qc(1,At,2,1,"div",19),b.Qc(2,Qt,2,1,"div",19),b.Qc(3,jt,1,0,"mat-divider",19),b.Yb()),2&t){var i=b.lc().mediafile;b.Gb(1),b.tc("ngIf",i.isImage()),b.Gb(1),b.tc("ngIf",i.isFont()),b.Gb(1),b.tc("ngIf",i.isFont()||i.isImage())}}function Nt(t,e){if(1&t&&b.Ub(0,"os-projector-button",66),2&t){var i=b.lc().mediafile;b.tc("object",i)("menuItem",!0)}}function Lt(t,e){if(1&t){var i=b.ac();b.Zb(0,"div"),b.Zb(1,"button",61),b.hc("click",(function(){b.Ic(i);var t=b.lc().mediafile;return b.lc().onEditFile(t)})),b.Zb(2,"mat-icon"),b.Sc(3,"edit"),b.Yb(),b.Zb(4,"span"),b.Sc(5),b.mc(6,"translate"),b.Yb(),b.Yb(),b.Zb(7,"button",61),b.hc("click",(function(){b.Ic(i);var t=b.lc().mediafile,e=b.lc(),n=b.Ec(36);return e.move(n,[t])})),b.Zb(8,"mat-icon"),b.Sc(9,"near_me"),b.Yb(),b.Zb(10,"span"),b.Sc(11),b.mc(12,"translate"),b.Yb(),b.Yb(),b.Zb(13,"button",67),b.hc("click",(function(){b.Ic(i);var t=b.lc().mediafile;return b.lc().onDelete(t)})),b.Zb(14,"mat-icon"),b.Sc(15,"delete"),b.Yb(),b.Zb(16,"span"),b.Sc(17),b.mc(18,"translate"),b.Yb(),b.Yb(),b.Yb()}2&t&&(b.Gb(5),b.Tc(b.nc(6,3,"Edit")),b.Gb(6),b.Tc(b.nc(12,5,"Move")),b.Gb(6),b.Tc(b.nc(18,7,"Delete")))}function Bt(t,e){if(1&t&&(b.Qc(0,Rt,4,3,"div",63),b.Qc(1,Nt,1,2,"os-projector-button",64),b.Qc(2,Lt,19,9,"div",19)),2&t){var i=e.mediafile,n=b.lc();b.tc("osPerms","core.can_manage_logos_and_fonts"),b.Gb(1),b.tc("ngIf",i.isProjectable()),b.Gb(1),b.tc("ngIf",n.canEdit)}}function Ut(t,e){if(1&t){var i=b.ac();b.Zb(0,"button",61),b.hc("click",(function(){return b.Ic(i),b.lc(2).toggleMultiSelect()})),b.Zb(1,"mat-icon"),b.Sc(2,"library_add"),b.Yb(),b.Zb(3,"span"),b.Sc(4),b.mc(5,"translate"),b.Yb(),b.Yb()}2&t&&(b.Gb(4),b.Tc(b.nc(5,1,"Multiselect")))}function zt(t,e){1&t&&(b.Zb(0,"div"),b.Qc(1,Ut,6,3,"button",68),b.Yb()),2&t&&(b.Gb(1),b.tc("osPerms","mediafiles.can_manage"))}function Vt(t,e){if(1&t){var i=b.ac();b.Zb(0,"button",69),b.hc("click",(function(){return b.Ic(i),b.lc(2).deleteSelected()})),b.Zb(1,"mat-icon",71),b.Sc(2,"delete"),b.Yb(),b.Zb(3,"span"),b.Sc(4),b.mc(5,"translate"),b.Yb(),b.Yb()}if(2&t){var n=b.lc(2);b.tc("disabled",!n.selectedRows.length),b.Gb(4),b.Tc(b.nc(5,2,"Delete"))}}function qt(t,e){if(1&t){var i=b.ac();b.Zb(0,"div"),b.Zb(1,"button",69),b.hc("click",(function(){b.Ic(i);var t=b.lc(),e=b.Ec(36);return t.move(e,t.selectedRows)})),b.Zb(2,"mat-icon"),b.Sc(3,"near_me"),b.Yb(),b.Zb(4,"span"),b.Sc(5),b.mc(6,"translate"),b.Yb(),b.Yb(),b.Ub(7,"mat-divider"),b.Zb(8,"button",61),b.hc("click",(function(){return b.Ic(i),b.lc().selectAll()})),b.Zb(9,"mat-icon"),b.Sc(10,"done_all"),b.Yb(),b.Zb(11,"span"),b.Sc(12),b.mc(13,"translate"),b.Yb(),b.Yb(),b.Zb(14,"button",69),b.hc("click",(function(){return b.Ic(i),b.lc().deselectAll()})),b.Zb(15,"mat-icon"),b.Sc(16,"clear"),b.Yb(),b.Zb(17,"span"),b.Sc(18),b.mc(19,"translate"),b.Yb(),b.Yb(),b.Ub(20,"mat-divider"),b.Qc(21,Vt,6,4,"button",70),b.Yb()}if(2&t){var n=b.lc();b.Gb(1),b.tc("disabled",!n.selectedRows.length),b.Gb(4),b.Tc(b.nc(6,6,"Move")),b.Gb(7),b.Tc(b.nc(13,8,"Select all")),b.Gb(2),b.tc("disabled",!n.selectedRows.length),b.Gb(4),b.Tc(b.nc(19,10,"Deselect all")),b.Gb(3),b.tc("osPerms","mediafiles.can_manage")}}function Wt(t,e){1&t&&(b.Zb(0,"mat-error"),b.Sc(1),b.mc(2,"translate"),b.Yb()),2&t&&(b.Gb(1),b.Tc(b.nc(2,1,"Required")))}function $t(t,e){if(1&t){var i=b.ac();b.Zb(0,"h1",72),b.Sc(1),b.mc(2,"translate"),b.Yb(),b.Zb(3,"div",73),b.Zb(4,"form",74),b.Zb(5,"mat-form-field"),b.Ub(6,"input",75),b.mc(7,"translate"),b.Qc(8,Wt,3,3,"mat-error",19),b.Yb(),b.Zb(9,"mat-form-field"),b.Ub(10,"os-search-value-selector",76),b.mc(11,"translate"),b.Yb(),b.Yb(),b.Yb(),b.Zb(12,"div",77),b.Zb(13,"button",78),b.hc("click",(function(){b.Ic(i);var t=b.lc();return t.onSaveEditedFile(t.fileEditForm.value)})),b.Zb(14,"span"),b.Sc(15),b.mc(16,"translate"),b.Yb(),b.Yb(),b.Zb(17,"button",79),b.Zb(18,"span"),b.Sc(19),b.mc(20,"translate"),b.Yb(),b.Yb(),b.Yb()}if(2&t){var n=b.lc();b.Gb(1),b.Tc(b.nc(2,11,"Edit details for")),b.Gb(3),b.tc("formGroup",n.fileEditForm),b.Gb(2),b.uc("placeholder",b.nc(7,13,"New file name")),b.Gb(2),b.tc("ngIf",n.fileEditForm.invalid),b.Gb(2),b.uc("placeholder",b.nc(11,15,"Access groups")),b.tc("multiple",!0)("inputListValues",n.groupsBehaviorSubject),b.Gb(3),b.tc("disabled",!n.fileEditForm.valid),b.Gb(2),b.Tc(b.nc(16,17,"Save")),b.Gb(2),b.tc("mat-dialog-close",null),b.Gb(2),b.Tc(b.nc(20,19,"Cancel"))}}function Ht(t,e){if(1&t&&(b.Zb(0,"h1",72),b.Sc(1),b.mc(2,"translate"),b.Yb(),b.Zb(3,"div",73),b.Zb(4,"form",74),b.Zb(5,"p"),b.Sc(6),b.mc(7,"translate"),b.Yb(),b.Zb(8,"mat-form-field"),b.Ub(9,"input",80),b.mc(10,"translate"),b.Yb(),b.Zb(11,"mat-form-field"),b.Ub(12,"os-search-value-selector",76),b.mc(13,"translate"),b.Yb(),b.Yb(),b.Yb(),b.Zb(14,"div",77),b.Zb(15,"button",81),b.Zb(16,"span"),b.Sc(17),b.mc(18,"translate"),b.Yb(),b.Yb(),b.Zb(19,"button",79),b.Zb(20,"span"),b.Sc(21),b.mc(22,"translate"),b.Yb(),b.Yb(),b.Yb()),2&t){var i=b.lc();b.Gb(1),b.Tc(b.nc(2,12,"New directory")),b.Gb(3),b.tc("formGroup",i.newDirectoryForm),b.Gb(2),b.Tc(b.nc(7,14,"Please enter a name for the new directory:")),b.Gb(3),b.uc("placeholder",b.nc(10,16,"Title")),b.Gb(3),b.uc("placeholder",b.nc(13,18,"Access groups")),b.tc("multiple",!0)("inputListValues",i.groupsBehaviorSubject),b.Gb(3),b.tc("disabled",!i.newDirectoryForm.valid)("mat-dialog-close",!0),b.Gb(2),b.Tc(b.nc(18,20,"Save")),b.Gb(2),b.tc("mat-dialog-close",null),b.Gb(2),b.Tc(b.nc(22,22,"Cancel"))}}function Kt(t,e){if(1&t&&(b.Zb(0,"h1",72),b.Zb(1,"span"),b.Sc(2),b.mc(3,"translate"),b.Yb(),b.Yb(),b.Zb(4,"div",82),b.Zb(5,"p"),b.Sc(6),b.mc(7,"translate"),b.Yb(),b.Zb(8,"mat-form-field"),b.Ub(9,"os-search-value-selector",83),b.mc(10,"translate"),b.Yb(),b.Yb(),b.Zb(11,"div",77),b.Zb(12,"button",84),b.Zb(13,"span"),b.Sc(14),b.mc(15,"translate"),b.Yb(),b.Yb(),b.Zb(16,"button",79),b.Zb(17,"span"),b.Sc(18),b.mc(19,"translate"),b.Yb(),b.Yb(),b.Yb()),2&t){var i=b.lc();b.Gb(2),b.Tc(b.nc(3,11,"Move into directory")),b.Gb(2),b.tc("formGroup",i.moveForm),b.Gb(2),b.Tc(b.nc(7,13,"Please select the directory:")),b.Gb(3),b.uc("placeholder",b.nc(10,15,"Parent directory")),b.tc("includeNone",!0)("noneTitle","Base folder")("inputListValues",i.filteredDirectoryBehaviorSubject),b.Gb(3),b.tc("mat-dialog-close",!0),b.Gb(2),b.Tc(b.nc(15,17,"Move")),b.Gb(2),b.tc("mat-dialog-close",null),b.Gb(2),b.Tc(b.nc(19,19,"Cancel"))}}var Xt,Jt,te,ee=[{path:"",redirectTo:"files",pathMatch:"full"},{path:"files",children:[{path:"**",component:(Xt=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,n,c,r,a,o,l,s,u,b,f,d,m,p,h,g,v){var y,S;return _classCallCheck(this,i),(S=e.call(this,t,n,c,r)).translate=n,S.route=a,S.router=o,S.repo=l,S.mediaManage=s,S.promptService=u,S.vp=b,S.sortService=f,S.operator=d,S.dialog=m,S.fb=p,S.formBuilder=h,S.groupRepo=g,S.cd=v,S.filteredDirectoryBehaviorSubject=new w.a([]),S.tableColumnDefinition=[{prop:"selection",width:"40px"},{prop:"icon",label:"",width:"40px"},{prop:"title",width:"auto",minWidth:60},{prop:"info",width:"20%",minWidth:60},{prop:"indicator",label:"",width:"40px"},{prop:"menu",label:"",width:"40px"}],S.columnSet=(y=Object(_.p)()).table.apply(y,_toConsumableArray(S.tableColumnDefinition)).build(),S.directoryObservable=new T.a,S.canMultiSelect=!0,S.newDirectoryForm=S.formBuilder.group({title:["",Z.G.required],access_groups_id:[]}),S.moveForm=S.formBuilder.group({directory_id:[]}),S.directoryBehaviorSubject=S.repo.getDirectoryBehaviorSubject(),S.groupsBehaviorSubject=S.groupRepo.getViewModelListBehaviorSubject(),S}return _createClass(i,[{key:"ngOnInit",value:function(){var t=this;_get(_getPrototypeOf(i.prototype),"setTitle",this).call(this,"Files"),this.repo.getDirectoryIdByPath(this.route.snapshot.url.map((function(t){return t.path}))).then((function(e){t.changeDirectory(e)})),this.mediaManage.getLogoActions().subscribe((function(e){t.logoActions=e})),this.mediaManage.getFontActions().subscribe((function(e){t.fontActions=e})),this.createDataSource()}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(i.prototype),"ngOnDestroy",this).call(this),this.clearSubscriptions(),this.cd.detach()}},{key:"showFileMenu",value:function(t){return t.isProjectable()&&this.operator.hasPerms(l.b.coreCanManageProjector)||t.isFont()&&this.operator.hasPerms(l.b.coreCanManageLogosAndFonts)||t.isImage()&&this.operator.hasPerms(l.b.coreCanManageLogosAndFonts)||this.canEdit}},{key:"getDateFromTimestamp",value:function(t){return new Date(t).toLocaleString(this.translate.currentLang)}},{key:"createDataSource",value:function(){var t=this;this.dataSource=Object(_.q)().onTrigger((function(){return t.directoryObservable})).create(),this.dataSource.selection.changed.subscribe((function(e){t.selectedRows=e.source.selected}))}},{key:"changeDirectory",value:function(t){var e=this;this.clearSubscriptions(),this.directoryObservable=this.repo.getListObservableDirectory(t),this.folderSubscription=this.directoryObservable.subscribe((function(t){t&&(e.dataSource.refresh(),e.cd.markForCheck())})),t?this.directorySubscription=this.repo.getViewModelObservable(t).subscribe((function(t){e.directory=t,t?(e.directoryChain=t.getDirectoryChain(),e.router.navigate(["/mediafiles/files/"+t.path],{replaceUrl:!0})):(e.directoryChain=[],e.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))})):(this.directory=null,this.directoryChain=[],this.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))}},{key:"onMainEvent",value:function(){this.router.navigate(["/mediafiles/upload/"+(this.directory?this.directory.path:"")])}},{key:"onEditFile",value:function(t){var e=this;this.isMultiSelect||(this.fileToEdit=t,this.fileEditForm=this.fb.group({title:[t.filename,Z.G.required],access_groups_id:[t.access_groups_id]}),this.dialogRef=this.dialog.open(this.fileEditDialog,A.a),this.dialogRef.keydownEvents().subscribe((function(t){"Enter"===t.key&&t.shiftKey&&e.fileEditForm.valid&&e.onSaveEditedFile(e.fileEditForm.value)})))}},{key:"onSaveEditedFile",value:function(t){var e=this;this.repo.update(t,this.fileToEdit).then((function(){e.dialogRef.close()}),this.raiseError)}},{key:"onDelete",value:function(t){return Object(Y.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.translate.instant("Are you sure you want to delete this file?"),n=t.getTitle(),e.next=3,this.promptService.open(i,n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.repo.delete(t);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"deleteSelected",value:function(){return Object(Y.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to delete all selected files and folders?"),t.next=3,this.promptService.open(e);case 3:if(t.t0=t.sent,!t.t0){t.next=8;break}return t.next=7,this.repo.bulkDelete(this.selectedRows);case 7:this.deselectAll();case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getNameOfAction",value:function(t){return this.translate.instant(this.mediaManage.getMediaConfig(t).display_name)}},{key:"formatIndicatorTooltip",value:function(t){var e=this;return this.getFileSettings(t).map((function(t){return e.getNameOfAction(t)})).join("\n")}},{key:"isUsedAs",value:function(t,e){var i=this.mediaManage.getMediaConfig(e);return!!i&&i.path===t.url}},{key:"getFileSettings",value:function(t){var e=this,i=[];return t&&(t.isFont()?i=this.fontActions.filter((function(i){return e.isUsedAs(t,i)})):t.isImage()&&(i=this.logoActions.filter((function(i){return e.isUsedAs(t,i)})))),i}},{key:"onManageButton",value:function(t,e,i){var n=this;t.stopPropagation(),this.mediaManage.setAs(e,i).then((function(){n.cd.markForCheck()}))}},{key:"createNewFolder",value:function(t){var e=this;this.newDirectoryForm.reset(),this.dialog.open(t,A.a).afterClosed().subscribe((function(t){if(t){var i=new x.a(Object.assign(Object.assign({},e.newDirectoryForm.value),{parent_id:e.directory?e.directory.id:null,is_directory:!0}));e.repo.create(i).catch(e.raiseError)}}))}},{key:"move",value:function(t,e){var i=this;this.moveForm.reset(),e.some((function(t){return t.is_directory}))?this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value.filter((function(t){return!e.some((function(e){return t.path.startsWith(e.path)}))}))):this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value),this.dialog.open(t,A.a).afterClosed().subscribe((function(t){t&&i.repo.move(e,i.moveForm.value.directory_id).then((function(){i.dataSource.selection.clear(),i.cd.markForCheck()}),i.raiseError)}))}},{key:"onSelectRow",value:function(t){if(this.isMultiSelect){var e=t.row;this.dataSource.selection.isSelected(e)?this.dataSource.selection.deselect(e):this.dataSource.selection.select(e)}}},{key:"clearSubscriptions",value:function(){this.folderSubscription&&(this.folderSubscription.unsubscribe(),this.folderSubscription=null),this.directorySubscription&&(this.directorySubscription.unsubscribe(),this.directorySubscription=null)}},{key:"canEdit",get:function(){return this.operator.hasPerms(l.b.mediafilesCanManage)}},{key:"canAccessFileMenu",get:function(){return this.operator.hasPerms(l.b.coreCanManageProjector)||this.operator.hasPerms(l.b.agendaCanSeeListOfSpeakers)||this.operator.hasPerms(l.b.coreCanManageLogosAndFonts)||this.canEdit}},{key:"hiddenColumns",get:function(){var t=[];return this.canEdit||t.push("info"),this.isMultiSelect||t.push("selection"),this.canAccessFileMenu||t.push("menu"),t}}]),i}(E.a),Xt.\u0275fac=function(t){return new(t||Xt)(b.Tb(f.d),b.Tb(d.k),b.Tb(m.a),b.Tb(G.a),b.Tb(o.a),b.Tb(o.f),b.Tb(s.a),b.Tb(F),b.Tb(D.a),b.Tb(O.a),b.Tb(j),b.Tb(l.a),b.Tb(R.b),b.Tb(Z.f),b.Tb(Z.f),b.Tb(I.a),b.Tb(b.h))},Xt.\u0275cmp=b.Nb({type:Xt,selectors:[["os-mediafile-list"]],viewQuery:function(t,e){var i;1&t&&(b.Oc(X,!0),b.Oc(J,!0)),2&t&&(b.Dc(i=b.ic())&&(e.fileEditForm=i.first),b.Dc(i=b.ic())&&(e.fileEditDialog=i.first))},features:[b.Db],decls:37,vars:20,consts:[[3,"hasMainButton","multiSelectMode","mainEvent"],[1,"title-slot"],["class","menu-slot",4,"osPerms"],["class","central-info-slot",4,"ngIf"],[1,"custom-table-header"],[1,"folder-nav-bar","h-scroller"],["mat-button","",1,"folder",3,"disabled","click"],[1,"file-icon"],["class","folder-section",4,"ngFor","ngForOf"],["class","visibility",4,"ngIf"],["showHeader","false","vScrollAuto","","matCheckboxSelection","selection",1,"file-manager-table",3,"dataSource","columns","hideColumns","rowClick"],["class","fill clickable",4,"pblNgridCellDef"],["class","fill clickable",3,"click",4,"pblNgridCellDef"],["class","fill",4,"pblNgridCellDef"],["class","pbl-ngrid-no-data",4,"pblNgridNoDataRef"],["manageButton",""],["singleMediafileMenu","matMenu"],["matMenuContent",""],["mediafilesMenu","matMenu"],[4,"ngIf"],["fileEditDialog",""],["newFolderDialog",""],["moveDialog",""],[1,"menu-slot"],["type","button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[1,"central-info-slot"],["mat-icon-button","",3,"click"],[1,"folder-section"],[1,"arrow"],["class","folder","mat-button","",3,"disabled","click",4,"ngIf"],["class","folder","mat-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["class","folder fake-folder folder-text",4,"ngIf"],[1,"folder-text"],["mat-button","",1,"folder",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],["icon","arrow_drop_down","swap","true","size","large",3,"noWrap"],[1,"folder","fake-folder","folder-text"],[1,"visibility"],["mat-button","",1,"visible-for",3,"click"],["icon","group",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"fill","clickable"],["class","detail-link","target","_blank",3,"routerLink",4,"ngIf"],["class","detail-link",3,"click",4,"ngIf"],["target","_blank",1,"detail-link",3,"routerLink"],[1,"detail-link",3,"click"],[1,"innerTable"],[1,"file-title","ellipsis-overflow"],["class","info-text",4,"ngIf"],[1,"info-text"],[1,"fill","clickable",3,"click"],["icon","group",4,"ngIf"],["icon","group"],[1,"fill"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip",4,"ngIf"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip"],["class","file-icon",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],[1,"pbl-ngrid-no-data"],["mat-menu-item","",3,"click"],["color","accent"],[4,"osPerms"],[3,"object","menuItem",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"object","menuItem"],["mat-menu-item","",1,"red-warning-text",3,"click"],["mat-menu-item","",3,"click",4,"osPerms"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"disabled","click",4,"osPerms"],["color","warn"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[1,"edit-file-form",3,"formGroup"],["type","text","matInput","","osAutofocus","","required","","formControlName","title",3,"placeholder"],["formControlName","access_groups_id",3,"multiple","placeholder","inputListValues"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","button","mat-button","",3,"mat-dialog-close"],["matInput","","osAutofocus","","formControlName","title","required","",3,"placeholder"],["type","submit","mat-button","","color","accent",3,"disabled","mat-dialog-close"],["mat-dialog-content","",1,"os-form-card-mobile",3,"formGroup"],["formControlName","directory_id",3,"includeNone","noneTitle","placeholder","inputListValues"],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"]],template:function(t,e){1&t&&(b.Zb(0,"os-head-bar",0),b.hc("mainEvent",(function(){return e.onMainEvent()})),b.Zb(1,"div",1),b.Zb(2,"h2"),b.Sc(3),b.mc(4,"translate"),b.Yb(),b.Yb(),b.Qc(5,et,5,2,"div",2),b.Qc(6,it,9,4,"div",3),b.Yb(),b.Zb(7,"div"),b.Zb(8,"div",4),b.Zb(9,"span",5),b.Zb(10,"button",6),b.hc("click",(function(){return e.changeDirectory(null)})),b.Zb(11,"mat-icon",7),b.Sc(12,"home"),b.Yb(),b.Yb(),b.Qc(13,ot,7,3,"span",8),b.Yb(),b.Qc(14,bt,6,8,"span",9),b.Yb(),b.Yb(),b.Zb(15,"pbl-ngrid",10),b.hc("rowClick",(function(t){return e.onSelectRow(t)})),b.Qc(16,mt,5,3,"div",11),b.Qc(17,vt,7,4,"div",11),b.Qc(18,Zt,2,1,"div",12),b.Qc(19,Gt,2,1,"div",13),b.Qc(20,Mt,2,1,"div",13),b.Qc(21,Ct,4,3,"div",14),b.Yb(),b.Qc(22,Ft,5,2,"ng-template",null,15,b.Rc),b.Zb(24,"mat-menu",null,16),b.Qc(26,Bt,3,3,"ng-template",17),b.Yb(),b.Zb(27,"mat-menu",null,18),b.Qc(29,zt,2,1,"div",19),b.Qc(30,qt,22,12,"div",19),b.Yb(),b.Qc(31,$t,21,21,"ng-template",null,20,b.Rc),b.Qc(33,Ht,23,24,"ng-template",null,21,b.Rc),b.Qc(35,Kt,20,21,"ng-template",null,22,b.Rc)),2&t&&(b.tc("hasMainButton",e.canEdit)("multiSelectMode",e.isMultiSelect),b.Gb(3),b.Tc(b.nc(4,18,"Files")),b.Gb(2),b.tc("osPerms","mediafiles.can_manage"),b.Gb(1),b.tc("ngIf",e.isMultiSelect),b.Gb(4),b.tc("disabled",e.isMultiSelect),b.Gb(3),b.tc("ngForOf",e.directoryChain),b.Gb(1),b.tc("ngIf",e.canEdit&&e.directory&&e.directory.has_inherited_access_groups),b.Gb(1),b.tc("dataSource",e.dataSource)("columns",e.columnSet)("hideColumns",e.hiddenColumns),b.Gb(1),b.tc("pblNgridCellDef","icon"),b.Gb(1),b.tc("pblNgridCellDef","title"),b.Gb(1),b.tc("pblNgridCellDef","info"),b.Gb(1),b.tc("pblNgridCellDef","indicator"),b.Gb(1),b.tc("pblNgridCellDef","menu"),b.Gb(9),b.tc("ngIf",!e.isMultiSelect),b.Gb(1),b.tc("ngIf",e.isMultiSelect))},directives:[p.a,N.a,a.t,h.b,v.a,a.s,_.e,_.A,L.b,B.b,_.c,_.l,g.f,g.b,g.e,U.a,z.c,o.i,g.c,a.A,V.a,q.a,R.i,R.f,Z.I,Z.t,Z.k,W.c,$.b,Z.c,H.a,Z.D,Z.s,Z.i,K.a,R.c,R.d,W.b],pipes:[d.j,a.E],styles:[".title-line{font-weight:500;font-size:16px}.title-line .icon-prefix .mat-icon{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line .favorite-star{padding-right:3px}.mat-table{width:100%}.mat-table .mat-header-row .mat-column-anchor{display:none}.mat-table .mat-row{position:relative}.mat-table .mat-row .mat-column-anchor{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table .mat-row .mat-column-anchor a{display:block;height:100%;width:100%}.mat-table .mat-cell{position:relative}.mat-table .mat-cell .fill{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table .mat-cell .fill *{margin-top:auto;margin-bottom:auto}.mat-table .mat-cell>*{z-index:2}.mat-table .mat-table-sticky{z-index:3!important}.folder-nav-bar{width:100%}.folder-nav-bar,.folder-section{display:-ms-flexbox;display:flex}.folder-section{white-space:nowrap}.folder-section .mat-button{padding:0}.arrow{height:64px}.arrow .mat-icon{line-height:64px;height:64px}.folder{height:64px}.folder>.content-node{white-space:nowrap}.fake-folder{padding:0 16px}.folder-text{font-size:16px;font-weight:500;margin:auto 5px;overflow:hidden}.visibility{display:-ms-flexbox;display:flex}.visibility .visible-for{width:-webkit-min-content;width:-moz-min-content;width:min-content}.file-manager-table{display:block;height:calc(100vh - 130px)}.file-manager-table .file-title{font-weight:500;font-size:16px}.file-manager-table .info-text{font-size:90%}.file-manager-table .pbl-ngrid-row,.file-manager-table .pbl-ngrid-row .pbl-ngrid-cell{height:60px!important}.file-manager-table .pbl-ngrid-row:last-of-type{margin-bottom:60px!important}"],encapsulation:2,changeDetection:0}),Xt)}],pathMatch:"prefix"},{path:"upload",data:{basePerm:l.b.mediafilesCanManage},children:[{path:"**",component:k}],pathMatch:"prefix"}],ie=((Jt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Rb({type:Jt}),Jt.\u0275inj=b.Qb({factory:function(t){return new(t||Jt)},imports:[[o.j.forChild(ee)],o.j]}),Jt),ne=i("PCNd"),ce=((te=function t(){_classCallCheck(this,t)}).\u0275mod=b.Rb({type:te}),te.\u0275inj=b.Qb({factory:function(t){return new(t||te)},imports:[[a.c,ie,ne.a]]}),te)},F48D:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("mrSG"),c=i("LBBb"),r=i("fXoL"),a=i("0IaG"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.dialog=e}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.dialog.open(c.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return i.stop()}}),i,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.dc(a.b))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},LBBb:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("0IaG"),c=i("fXoL"),r=i("ofXK"),a=i("bTqV"),o=i("sYmb");function l(t,e){if(1&t&&(c.Zb(0,"div"),c.Zb(1,"h2",1),c.Sc(2),c.Yb(),c.Ub(3,"mat-dialog-content",2),c.Zb(4,"mat-dialog-actions"),c.Zb(5,"button",3),c.Sc(6),c.mc(7,"translate"),c.Yb(),c.Zb(8,"button",4),c.Sc(9),c.mc(10,"translate"),c.Yb(),c.Yb(),c.Yb()),2&t){var i=c.lc();c.Gb(2),c.Tc(i.data.title),c.Gb(1),c.tc("innerHTML",i.data.content,c.Jc),c.Gb(2),c.tc("mat-dialog-close",!0),c.Gb(1),c.Tc(c.nc(7,6,"Yes")),c.Gb(2),c.tc("mat-dialog-close",!1),c.Gb(1),c.Tc(c.nc(10,8,"Cancel"))}}var s=function(){var t=function t(e,i){_classCallCheck(this,t),this.dialogRef=e,this.data=i};return t.\u0275fac=function(e){return new(e||t)(c.Tb(n.h),c.Tb(n.a))},t.\u0275cmp=c.Nb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&c.Qc(0,l,11,10,"div",0),2&t&&c.tc("ngIf",e.data)},directives:[r.t,n.i,n.f,n.c,a.b,n.d],pipes:[o.j],encapsulation:2}),t}()},wL0i:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,n,c,r){var a;return _classCallCheck(this,i),(a=e.call(this,t,n,c)).storage=r,a.canMultiSelect=!1,a._multiSelectMode=!1,a.singleButtonWidth="40px",a.badgeButtonWidth="45px",a.selectedRows=[],a}return _createClass(i,[{key:"onDataSourceChange",value:function(t){this.dataSource=t}},{key:"toggleMultiSelect",value:function(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}},{key:"selectAll",value:function(){var t;(t=this.dataSource.selection).select.apply(t,_toConsumableArray(this.dataSource.filteredData))}},{key:"deselectAll",value:function(){this.dataSource&&this.dataSource.selection.clear()}},{key:"isMultiSelect",get:function(){return this._multiSelectMode}}]),i}(i("mV3u").a)}}]);