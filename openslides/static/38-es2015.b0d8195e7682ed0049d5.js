(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{bVYn:function(t,e,i){"use strict";i.r(e),i.d(e,"PollsModule",(function(){return I}));var l=i("ofXK"),n=i("tyNb"),o=i("AqIO"),s=i("M0z7"),c=i("wL0i"),r=i("D/ll"),a=i("+8Rz"),b=i("qnZ9"),u=i("fXoL"),d=i("sYmb");let p=(()=>{class t extends a.a{constructor(t,e,i){super(t,e),this.translate=i,this.storageKey="PollList"}preFilter(t){return t.filter(t=>!t.isAnalog)}getFilterDefinitions(){return[{property:"state",label:this.translate.instant("State"),options:[{condition:b.e.Created,label:this.translate.instant("created")},{condition:b.e.Started,label:this.translate.instant("started")},{condition:b.e.Finished,label:this.translate.instant("finished (unpublished)")},{condition:b.e.Published,label:this.translate.instant("published")}]},{property:"hasVote",label:this.translate.instant("Votings"),options:[{condition:!1,label:this.translate.instant("Voting is currently in progress.")},{condition:!0,label:this.translate.instant("You have already voted.")}]}]}}return t.\u0275fac=function(e){return new(e||t)(u.dc(o.a),u.dc(r.a),u.dc(d.k))},t.\u0275prov=u.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=i("PoOO"),h=i("jhN1"),v=i("dNgK"),g=i("mksl"),S=i("0Obk"),m=i("dRZP"),w=i("NFeN"),T=i("Qu3c");function y(t,e){if(1&t&&u.Ub(0,"a",5),2&t){const t=u.lc().row;u.tc("routerLink",t.parentLink)}}function k(t,e){if(1&t&&(u.Zb(0,"div",3),u.Qc(1,y,1,1,"a",4),u.Zb(2,"span"),u.Sc(3),u.Yb(),u.Yb()),2&t){const t=e.row,i=u.lc();u.Gb(1),u.tc("ngIf",!i.isMultiSelect),u.Gb(2),u.Tc(t.title)}}function Y(t,e){if(1&t&&u.Ub(0,"a",5),2&t){const t=u.lc().row;u.tc("routerLink",t.parentLink)}}function L(t,e){if(1&t&&(u.Zb(0,"div",3),u.Qc(1,Y,1,1,"a",4),u.Zb(2,"span"),u.Sc(3),u.Yb(),u.Yb()),2&t){const t=e.row,i=u.lc();u.Gb(1),u.tc("ngIf",!i.isMultiSelect),u.Gb(2),u.Tc(t.getContentObject().getListTitle())}}function M(t,e){if(1&t&&u.Ub(0,"a",5),2&t){const t=u.lc().row;u.tc("routerLink",t.parentLink)}}function G(t,e){if(1&t&&(u.Zb(0,"div",3),u.Qc(1,M,1,1,"a",4),u.Zb(2,"span"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb()),2&t){const t=e.row,i=u.lc();u.Gb(1),u.tc("ngIf",!i.isMultiSelect),u.Gb(2),u.Tc(u.nc(4,2,t.stateVerbose))}}function Z(t,e){1&t&&(u.Zb(0,"mat-icon",8),u.mc(1,"translate"),u.Sc(2," check_circle "),u.Yb()),2&t&&u.uc("matTooltip",u.nc(1,1,"You have already voted."))}function P(t,e){1&t&&(u.Zb(0,"mat-icon",9),u.mc(1,"translate"),u.Sc(2," warning "),u.Yb()),2&t&&u.uc("matTooltip",u.nc(1,1,"Voting is currently in progress."))}function C(t,e){if(1&t&&(u.Zb(0,"div",3),u.Qc(1,Z,3,3,"mat-icon",6),u.Qc(2,P,3,3,"mat-icon",7),u.Yb()),2&t){const t=e.row;u.Gb(1),u.tc("ngIf",t.hasVote),u.Gb(1),u.tc("ngIf",!t.hasVote&&null!==t.hasVote)}}const D=[{path:"",component:(()=>{class t extends c.a{constructor(t,e,i,l,n,o,s){super(n,o,s,l),this.polls=t,this.filterService=e,this.votingService=i,this.storage=l,this.tableColumnDefinition=[{prop:"title",width:"auto"},{prop:"classType",width:"auto"},{prop:"state",width:"auto"},{prop:"votability",width:"25px"}],this.filterProps=["title","state"],super.setTitle("List of electronic votes")}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(f.a),u.Tb(p),u.Tb(s.b),u.Tb(o.a),u.Tb(h.d),u.Tb(d.k),u.Tb(v.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["os-poll-list"]],features:[u.Db],decls:9,vars:12,consts:[[1,"title-slot"],["listStorageKey","polls",3,"listObservableProvider","vScrollFixed","columns","filterProps","filterService"],["class","cell-slot fill",4,"pblNgridCellDef"],[1,"cell-slot","fill"],["class","detail-link",3,"routerLink",4,"ngIf"],[1,"detail-link",3,"routerLink"],["color","accent",3,"matTooltip",4,"ngIf"],["color","warn",3,"matTooltip",4,"ngIf"],["color","accent",3,"matTooltip"],["color","warn",3,"matTooltip"]],template:function(t,e){1&t&&(u.Zb(0,"os-head-bar"),u.Zb(1,"div",0),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Yb(),u.Zb(4,"os-list-view-table",1),u.Qc(5,k,4,2,"div",2),u.Qc(6,L,4,2,"div",2),u.Qc(7,G,5,4,"div",2),u.Qc(8,C,3,2,"div",2),u.Yb()),2&t&&(u.Gb(2),u.Tc(u.nc(3,10,"List of electronic votes")),u.Gb(2),u.tc("listObservableProvider",e.polls)("vScrollFixed",64)("columns",e.tableColumnDefinition)("filterProps",e.filterProps)("filterService",e.filterService),u.Gb(1),u.tc("pblNgridCellDef","title"),u.Gb(1),u.tc("pblNgridCellDef","classType"),u.Gb(1),u.tc("pblNgridCellDef","state"),u.Gb(1),u.tc("pblNgridCellDef","votability"))},directives:[g.a,S.a,m.c,l.t,n.i,w.a,T.c],pipes:[d.j],styles:[""]}),t})(),pathMatch:"full"}];let N=(()=>{class t{}return t.\u0275mod=u.Rb({type:t}),t.\u0275inj=u.Qb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(D)],n.j]}),t})();var Q=i("PCNd");let I=(()=>{class t{}return t.\u0275mod=u.Rb({type:t}),t.\u0275inj=u.Qb({factory:function(e){return new(e||t)},imports:[[l.c,N,Q.a]]}),t})()},wL0i:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var l=i("mV3u");class n extends l.a{constructor(t,e,i,l){super(t,e,i),this.storage=l,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth="40px",this.badgeButtonWidth="45px",this.selectedRows=[]}onDataSourceChange(t){this.dataSource=t}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);