function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,r=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw r}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=_superPropBase(t,e);if(o){var a=Object.getOwnPropertyDescriptor(o,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[22,36],{"68w7":function(t,e,n){"use strict";n.r(e),n.d(e,"CategoryModule",(function(){return Yt}));var o=n("ofXK"),a=n("PCNd"),r=n("tyNb"),i=n("+QJK"),c=n("mrSG"),l=n("iTQr"),s=n("F48D"),u=n("/tkw"),b=n("mV3u"),f=n("fXoL"),m=n("jhN1"),d=n("sYmb"),h=n("dNgK"),p=n("mksl"),g=n("Wp6s"),v=["osSortedTree"];function y(t,e){1&t&&f.Sc(0),2&t&&f.Uc(" ",e.item.getTitle()," ")}var C,_=((C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,r,i){var c;return _classCallCheck(this,n),(c=e.call(this,t,o,a)).categoryRepo=r,c.promptService=i,c.hasChanged=!1,c.categoriesObservable=c.categoryRepo.getViewModelListObservable(),c}return _createClass(n,[{key:"onSave",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.categoryRepo.sortCategories(this.osSortTree.getTreeData()).then((function(){return e.osSortTree.setSubscription()}),this.raiseError);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"onCancel",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.canDeactivate();case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}this.osSortTree.setSubscription();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"receiveChanges",value:function(t){this.hasChanged=t}},{key:"canDeactivate",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasChanged){t.next=5;break}return e=this.translate.instant("Do you really want to exit this page?"),n=this.translate.instant("You made changes."),t.next=4,this.promptService.open(e,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})))}}]),n}(b.a)).\u0275fac=function(t){return new(t||C)(f.Tb(m.d),f.Tb(d.k),f.Tb(h.a),f.Tb(l.a),f.Tb(s.a))},C.\u0275cmp=f.Nb({type:C,selectors:[["os-categories-sort"]],viewQuery:function(t,e){var n;1&t&&f.Oc(v,!0),2&t&&f.Dc(n=f.ic())&&(e.osSortTree=n.first)},features:[f.Db],decls:10,vars:6,consts:[[3,"editMode","nav","saveEvent","mainEvent"],[1,"title-slot"],["parentKey","parent_id","weightKey","weight",3,"model","hasChanged"],["osSortedTree",""],["innerNode",""]],template:function(t,e){1&t&&(f.Zb(0,"os-head-bar",0),f.hc("saveEvent",(function(){return e.onSave()}))("mainEvent",(function(){return e.onCancel()})),f.Zb(1,"div",1),f.Zb(2,"h2"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Zb(5,"mat-card"),f.Zb(6,"os-sorting-tree",2,3),f.hc("hasChanged",(function(t){return e.receiveChanges(t)})),f.Qc(8,y,1,1,"ng-template",null,4,f.Rc),f.Yb(),f.Yb()),2&t&&(f.tc("editMode",e.hasChanged)("nav",!1),f.Gb(3),f.Tc(f.nc(4,4,"Sort categories")),f.Gb(3),f.tc("model",e.categoriesObservable))},directives:[p.a,g.a,u.a],pipes:[d.j],styles:[".line[_ngcontent-%COMP%]{display:table;width:100%;font-size:14px;min-height:50px;margin-bottom:5px}.line[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{max-width:100%}.line[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .line[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.line[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-right:10px;width:auto;white-space:nowrap}"]}),C),O=n("3Pt+"),S=n("+0xr"),k=n("OwvW"),w=n("dOok"),M=n("Izkr"),P=n("0IaG"),x=n("3Xi6"),Y=n("STbY"),Z=n("NFeN"),T=n("f0Cb"),G=n("bTqV"),I=n("A5z7"),R=n("kmnG"),D=n("qFsG"),j=n("IZUe"),L=["editForm"],Q=["editDialog"];function F(t,e){if(1&t&&(f.Zb(0,"h2"),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Gb(1),f.Uc(" ",n.selectedCategory.prefixedName," ")}}function E(t,e){if(1&t&&(f.Zb(0,"div"),f.Zb(1,"button",11),f.Zb(2,"mat-icon"),f.Sc(3,"more_vert"),f.Yb(),f.Yb(),f.Yb()),2&t){f.lc();var n=f.Ec(8);f.Gb(1),f.tc("matMenuTriggerFor",n)}}function N(t,e){1&t&&(f.Zb(0,"mat-header-cell"),f.Zb(1,"span"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb()),2&t&&(f.Gb(2),f.Tc(f.nc(3,1,"Motion")))}function A(t,e){if(1&t&&(f.Zb(0,"mat-cell"),f.Sc(1),f.Yb()),2&t){var n=e.$implicit;f.Gb(1),f.Uc(" ",n.getTitle()," ")}}function U(t,e){1&t&&(f.Zb(0,"mat-header-cell"),f.Zb(1,"span"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb()),2&t&&(f.Gb(2),f.Tc(f.nc(3,1,"State")))}function B(t,e){if(1&t&&(f.Zb(0,"mat-cell",22),f.Zb(1,"mat-basic-chip",23),f.Sc(2),f.Yb(),f.Yb()),2&t){var n=e.$implicit,o=f.lc(2);f.Gb(1),f.tc("ngClass",n.stateCssColor),f.Gb(1),f.Uc(" ",o.getStateLabel(n)," ")}}function z(t,e){1&t&&(f.Zb(0,"mat-header-cell"),f.Zb(1,"span"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb()),2&t&&(f.Gb(2),f.Tc(f.nc(3,1,"Recommendation")))}function V(t,e){if(1&t&&(f.Zb(0,"mat-basic-chip",25),f.Sc(1),f.Yb()),2&t){var n=f.lc().$implicit,o=f.lc(2);f.Gb(1),f.Uc(" ",o.getRecommendationLabel(n)," ")}}function q(t,e){if(1&t&&(f.Zb(0,"mat-cell",22),f.Qc(1,V,2,1,"mat-basic-chip",24),f.Yb()),2&t){var n=e.$implicit;f.Gb(1),f.tc("ngIf",n.recommendation)}}function K(t,e){1&t&&f.Ub(0,"mat-header-cell")}var X=function(){return{back:"true"}};function H(t,e){if(1&t&&(f.Zb(0,"mat-cell"),f.Ub(1,"a",26),f.Yb()),2&t){var n=e.$implicit;f.Gb(1),f.tc("routerLink",n.getDetailStateURL())("state",f.yc(2,X))}}function W(t,e){1&t&&f.Ub(0,"mat-header-row")}function $(t,e){1&t&&f.Ub(0,"mat-row")}function J(t,e){if(1&t&&(f.Zb(0,"div"),f.Zb(1,"h2"),f.Zb(2,"span"),f.Sc(3),f.Yb(),f.Sc(4),f.Yb(),f.Zb(5,"table",12),f.Xb(6,13),f.Qc(7,N,4,3,"mat-header-cell",14),f.Qc(8,A,2,1,"mat-cell",15),f.Wb(),f.Xb(9,16),f.Qc(10,U,4,3,"mat-header-cell",14),f.Qc(11,B,3,2,"mat-cell",17),f.Wb(),f.Xb(12,18),f.Qc(13,z,4,3,"mat-header-cell",14),f.Qc(14,q,2,1,"mat-cell",17),f.Wb(),f.Xb(15,19),f.Qc(16,K,1,0,"mat-header-cell",14),f.Qc(17,H,2,3,"mat-cell",15),f.Wb(),f.Qc(18,W,1,0,"mat-header-row",20),f.Qc(19,$,1,0,"mat-row",21),f.Yb(),f.Yb()),2&t){var n=e.$implicit,o=f.lc();f.Gb(3),f.Tc(o.getLevelDashes(n)),f.Gb(1),f.Uc(" ",n.prefixedName," "),f.Gb(1),f.tc("dataSource",o.dataSources[n.id]),f.Gb(13),f.tc("matHeaderRowDef",o.getColumnDefinition()),f.Gb(1),f.tc("matRowDefColumns",o.getColumnDefinition())}}function tt(t,e){if(1&t){var n=f.ac();f.Zb(0,"h1",27),f.Zb(1,"span"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb(),f.Zb(4,"div",28),f.Zb(5,"form",29),f.hc("ngSubmit",(function(){return f.Ic(n),f.lc().save()}))("keydown",(function(t){return f.Ic(n),f.lc().onKeyDown(t)})),f.Zb(6,"mat-form-field"),f.Ub(7,"input",30),f.mc(8,"translate"),f.Yb(),f.Zb(9,"mat-form-field"),f.Ub(10,"input",31),f.mc(11,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Zb(12,"div",32),f.Zb(13,"button",33),f.hc("click",(function(){return f.Ic(n),f.lc().save()})),f.Zb(14,"span"),f.Sc(15),f.mc(16,"translate"),f.Yb(),f.Yb(),f.Zb(17,"button",34),f.Zb(18,"span"),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Yb(),f.Yb()}if(2&t){var o=f.lc();f.Gb(2),f.Vc("",f.nc(3,9,"Edit details for")," ",o.selectedCategory.prefixedName,""),f.Gb(3),f.tc("formGroup",o.editForm),f.Gb(2),f.uc("placeholder",f.nc(8,11,"Prefix")),f.Gb(3),f.uc("placeholder",f.nc(11,13,"Name")),f.Gb(3),f.tc("disabled",!o.editForm.valid),f.Gb(2),f.Tc(f.nc(16,15,"Save")),f.Gb(2),f.tc("mat-dialog-close",null),f.Gb(2),f.Tc(f.nc(20,17,"Cancel"))}}var et,nt=((et=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,r,i,c,l,s,u,b,f){var m;return _classCallCheck(this,n),(m=e.call(this,t,o,a)).translate=o,m.route=r,m.operator=i,m.router=c,m.repo=l,m.motionRepo=s,m.promptService=u,m.fb=b,m.dialog=f,m.dataSources={},m}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this,e=parseInt(this.route.snapshot.params.id,10);this.subscriptions.push(this.repo.getViewModelListObservable().subscribe((function(o){var a=o.findIndex((function(t){return t.id===e}));if(!(a<0)){var r;for(t.selectedCategory=o[a],_get(_getPrototypeOf(n.prototype),"setTitle",t).call(t,t.selectedCategory.prefixedName),r=a+1;r<o.length&&o[r].level>t.selectedCategory.level;r++);t.categories=o.slice(a,r),t.categories.forEach((function(e){var n=new S.o;n.data=e.motions,t.dataSources[e.id]=n}))}})))}},{key:"getColumnDefinition",value:function(){return["title","state","recommendation","anchor"]}},{key:"onDeleteButton",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to delete this category and all subcategories?"),n=this.selectedCategory.prefixedName,t.next=3,this.promptService.open(e,n);case 3:if(t.t0=t.sent,!t.t0){t.next=8;break}return t.next=7,this.repo.delete(this.selectedCategory);case 7:this.router.navigate(["../"],{relativeTo:this.route});case 8:case"end":return t.stop()}}),t,this)})))}},{key:"onKeyDown",value:function(t){"Escape"===t.key&&this.dialogRef.close(),"Enter"===t.key&&this.save()}},{key:"save",value:function(){var t=this;this.repo.update(this.editForm.value,this.selectedCategory).then((function(){return t.dialogRef.close()})).catch(this.raiseError)}},{key:"toggleEditMode",value:function(){this.editForm=this.fb.group({prefix:[this.selectedCategory.prefix],name:[this.selectedCategory.name,O.G.required]}),this.dialogRef=this.dialog.open(this.editDialog,M.a)}},{key:"getRecommendationLabel",value:function(t){return this.motionRepo.getExtendedRecommendationLabel(t)}},{key:"getStateLabel",value:function(t){return this.motionRepo.getExtendedStateLabel(t)}},{key:"getLevelDashes",value:function(t){return"\u2013".repeat(t.level-this.selectedCategory.level)}},{key:"numberMotions",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to renumber all motions of this category?"),n=this.selectedCategory.getTitle(),t.next=3,this.promptService.open(e,n);case 3:if(t.t0=t.sent,!t.t0){t.next=7;break}return t.next=7,this.repo.numberMotionsInCategory(this.selectedCategory).catch(this.raiseError);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"canEdit",get:function(){return this.operator.hasPerms(k.b.motionsCanManage)}}]),n}(b.a)).\u0275fac=function(t){return new(t||et)(f.Tb(m.d),f.Tb(d.k),f.Tb(h.a),f.Tb(r.a),f.Tb(k.a),f.Tb(r.f),f.Tb(l.a),f.Tb(w.a),f.Tb(s.a),f.Tb(O.f),f.Tb(P.b))},et.\u0275cmp=f.Nb({type:et,selectors:[["os-category-detail"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(L,!0),f.Oc(Q,!0)),2&t&&(f.Dc(n=f.ic())&&(e.editForm=n.first),f.Dc(n=f.ic())&&(e.editDialog=n.first))},features:[f.Db],decls:36,vars:17,consts:[[3,"nav"],[1,"title-slot"],[4,"ngIf"],[1,"menu-slot"],[4,"osPerms"],[4,"ngFor","ngForOf"],["categoryMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",1,"red-warning-text",3,"click"],["editDialog",""],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["mat-table","",1,"os-headed-listview-table",3,"dataSource"],["matColumnDef","title"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","state"],["class","chip-container",4,"matCellDef"],["matColumnDef","recommendation"],["matColumnDef","anchor"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"chip-container"],["disableRipple","",3,"ngClass"],["disableRipple","","class","bluegrey",4,"ngIf"],["disableRipple","",1,"bluegrey"],[3,"routerLink","state"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[1,"edit-form",3,"formGroup","ngSubmit","keydown"],["matInput","","osAutofocus","","formControlName","prefix",3,"placeholder"],["matInput","","osAutofocus","","formControlName","name","required","",3,"placeholder"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(f.Zb(0,"os-head-bar",0),f.Zb(1,"div",1),f.Qc(2,F,2,1,"h2",2),f.Yb(),f.Zb(3,"div",3),f.Qc(4,E,4,1,"div",4),f.Yb(),f.Yb(),f.Zb(5,"mat-card"),f.Qc(6,J,20,5,"div",5),f.Yb(),f.Zb(7,"mat-menu",null,6),f.Zb(9,"button",7),f.hc("click",(function(){return e.toggleEditMode()})),f.Zb(10,"mat-icon"),f.Sc(11,"edit"),f.Yb(),f.Zb(12,"span"),f.Sc(13),f.mc(14,"translate"),f.Yb(),f.Yb(),f.Zb(15,"button",8),f.Zb(16,"mat-icon"),f.Sc(17,"sort"),f.Yb(),f.Zb(18,"span"),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Yb(),f.Zb(21,"button",7),f.hc("click",(function(){return e.numberMotions()})),f.Zb(22,"mat-icon"),f.Sc(23,"format_list_numbered"),f.Yb(),f.Zb(24,"span"),f.Sc(25),f.mc(26,"translate"),f.Yb(),f.Yb(),f.Ub(27,"mat-divider"),f.Zb(28,"button",9),f.hc("click",(function(){return e.onDeleteButton()})),f.Zb(29,"mat-icon"),f.Sc(30,"delete"),f.Yb(),f.Zb(31,"span"),f.Sc(32),f.mc(33,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Qc(34,tt,21,19,"ng-template",null,10,f.Rc)),2&t&&(f.tc("nav",!1),f.Gb(2),f.tc("ngIf",e.selectedCategory),f.Gb(2),f.tc("osPerms","motions.can_manage"),f.Gb(2),f.tc("ngForOf",e.categories),f.Gb(7),f.Tc(f.nc(14,9,"Edit")),f.Gb(2),f.tc("routerLink","./sort"),f.Gb(4),f.Tc(f.nc(20,11,"Sort motions")),f.Gb(6),f.Tc(f.nc(26,13,"Number motions")),f.Gb(7),f.Tc(f.nc(33,15,"Delete")))},directives:[p.a,o.t,x.a,g.a,o.s,Y.f,Y.c,Z.a,r.g,T.a,G.b,Y.e,S.n,S.c,S.i,S.b,S.k,S.m,S.h,S.a,I.a,o.q,r.i,S.j,S.l,P.i,P.f,O.I,O.t,O.k,R.c,D.b,O.c,j.a,O.s,O.i,O.D,P.c,P.d],pipes:[d.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}.block-title[_ngcontent-%COMP%]{padding:40px 40px 40px 25px;line-height:180%;font-size:120%;color:#317796}.block-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:400}.block-card[_ngcontent-%COMP%]{margin:0 20px;padding:25px}.block-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px}.chip-container[_ngcontent-%COMP%]{display:block;min-height:0}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-title[_ngcontent-%COMP%]{-ms-flex:4 0 0px;flex:4 0 0}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-recommendation[_ngcontent-%COMP%], .os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-state[_ngcontent-%COMP%]{-ms-flex:2 0 0px;flex:2 0 0}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-remove[_ngcontent-%COMP%]{-ms-flex:1 0 0px;flex:1 0 0;-ms-flex-pack:end!important;justify-content:flex-end!important}.edit-form[_ngcontent-%COMP%]{overflow:hidden}"]}),et),ot=n("AqIO"),at=n("wL0i"),rt=n("0Obk"),it=n("dRZP"),ct=n("Qu3c"),lt=["newCategoryDialog"];function st(t,e){if(1&t&&(f.Zb(0,"div",8),f.Zb(1,"button",9),f.Zb(2,"mat-icon"),f.Sc(3,"more_vert"),f.Yb(),f.Yb(),f.Yb()),2&t){f.lc();var n=f.Ec(10);f.Gb(1),f.tc("matMenuTriggerFor",n)}}function ut(t,e){if(1&t&&(f.Zb(0,"div",10),f.Ub(1,"a",11),f.Zb(2,"div"),f.Sc(3),f.Yb(),f.Yb()),2&t){var n=e.row,o=f.lc();f.Gb(1),f.tc("routerLink",n.id),f.Gb(1),f.Pc("margin-left",o.getMargin(n)),f.Gb(1),f.Tc(n.prefixedName)}}function bt(t,e){if(1&t&&(f.Zb(0,"div",10),f.Zb(1,"span",12),f.mc(2,"translate"),f.Sc(3),f.Yb(),f.Yb()),2&t){var n=e.row;f.Gb(1),f.uc("matTooltip",f.nc(2,2,"Motions")),f.Gb(2),f.Tc(n.motions.length)}}function ft(t,e){1&t&&(f.Zb(0,"mat-error"),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Gb(1),f.Uc(" ",f.nc(2,1,"A name is required")," "))}function mt(t,e){if(1&t){var n=f.ac();f.Zb(0,"h1",13),f.Zb(1,"span"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb(),f.Zb(4,"div",14),f.Zb(5,"form",15),f.hc("keydown",(function(t){return f.Ic(n),f.lc().onKeyDown(t)})),f.Zb(6,"p"),f.Zb(7,"mat-form-field"),f.Ub(8,"input",16),f.mc(9,"translate"),f.Yb(),f.Yb(),f.Zb(10,"p"),f.Zb(11,"mat-form-field"),f.Ub(12,"input",17),f.mc(13,"translate"),f.Qc(14,ft,3,3,"mat-error",18),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Zb(15,"div",19),f.Zb(16,"button",20),f.Zb(17,"span"),f.Sc(18),f.mc(19,"translate"),f.Yb(),f.Yb(),f.Zb(20,"button",21),f.Zb(21,"span"),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Yb(),f.Yb()}if(2&t){var o=f.lc();f.Gb(2),f.Tc(f.nc(3,10,"New category")),f.Gb(3),f.tc("formGroup",o.createForm),f.Gb(3),f.uc("placeholder",f.nc(9,12,"Prefix")),f.Gb(4),f.uc("placeholder",f.nc(13,14,"Name")),f.Gb(2),f.tc("ngIf",!o.createForm.controls.name.valid),f.Gb(2),f.tc("disabled",!o.createForm.valid)("mat-dialog-close",!0),f.Gb(2),f.Tc(f.nc(19,16,"Save")),f.Gb(2),f.tc("mat-dialog-close",!1),f.Gb(2),f.Tc(f.nc(23,18,"Cancel"))}}var dt,ht=function(){return["menu"]},pt=((dt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,r,i,c,l,s){var u;return _classCallCheck(this,n),(u=e.call(this,t,o,a,r)).repo=i,u.formBuilder=c,u.dialog=l,u.operator=s,u.tableColumnDefinition=[{prop:"title",width:"auto"},{prop:"amount",width:u.singleButtonWidth}],u.filterProps=["prefixedName"],u.createForm=u.formBuilder.group({prefix:[""],name:["",O.G.required],parent_id:[""]}),u}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"setTitle",this).call(this,"Categories")}},{key:"onPlusButton",value:function(){var t=this;this.createForm.reset(),this.dialogRef=this.dialog.open(this.newCategoryDialog,M.a),this.dialogRef.afterClosed().subscribe((function(e){e&&t.save()}))}},{key:"save",value:function(){this.createForm.valid&&this.repo.create(this.createForm.value).catch(this.raiseError)}},{key:"onKeyDown",value:function(t){"Enter"===t.key&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}},{key:"getMargin",value:function(t){return 20*t.level+"px"}},{key:"canEdit",get:function(){return this.operator.hasPerms(k.b.motionsCanManage)}}]),n}(at.a)).\u0275fac=function(t){return new(t||dt)(f.Tb(m.d),f.Tb(d.k),f.Tb(h.a),f.Tb(ot.a),f.Tb(l.a),f.Tb(O.f),f.Tb(P.b),f.Tb(k.a))},dt.\u0275cmp=f.Nb({type:dt,selectors:[["os-category-list"]],viewQuery:function(t,e){var n;1&t&&f.Oc(lt,!0),2&t&&f.Dc(n=f.ic())&&(e.newCategoryDialog=n.first)},features:[f.Db],decls:19,vars:20,consts:[["prevUrl","../..",3,"nav","hasMainButton","mainEvent"],[1,"title-slot"],["class","menu-slot",4,"osPerms"],["listStorageKey","category",3,"vScrollFixed","listObservableProvider","allowProjector","showListOfSpeakers","columns","filterProps","hiddenInMobile","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["categoryMenu","matMenu"],["mat-menu-item","",3,"routerLink"],["newCategoryDialog",""],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"cell-slot","fill"],[1,"detail-link",3,"routerLink"],[1,"os-amount-chip",3,"matTooltip"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["formControlName","prefix","matInput","",3,"placeholder"],["formControlName","name","matInput","","required","",3,"placeholder"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"disabled","mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(f.Zb(0,"os-head-bar",0),f.hc("mainEvent",(function(){return e.onPlusButton()})),f.Zb(1,"div",1),f.Zb(2,"h2"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Yb(),f.Qc(5,st,4,1,"div",2),f.Yb(),f.Zb(6,"os-list-view-table",3),f.hc("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),f.Qc(7,ut,4,4,"div",4),f.Qc(8,bt,4,4,"div",4),f.Yb(),f.Zb(9,"mat-menu",null,5),f.Zb(11,"button",6),f.Zb(12,"mat-icon"),f.Sc(13,"sort"),f.Yb(),f.Zb(14,"span"),f.Sc(15),f.mc(16,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Qc(17,mt,24,20,"ng-template",null,7,f.Rc)),2&t&&(f.tc("nav",!1)("hasMainButton",e.canEdit),f.Gb(3),f.Tc(f.nc(4,15,"Categories")),f.Gb(2),f.tc("osPerms","motions.can_manage"),f.Gb(1),f.tc("vScrollFixed",64)("listObservableProvider",e.repo)("allowProjector",!1)("showListOfSpeakers",!1)("columns",e.tableColumnDefinition)("filterProps",e.filterProps)("hiddenInMobile",f.yc(19,ht)),f.Gb(1),f.tc("pblNgridCellDef","title"),f.Gb(1),f.tc("pblNgridCellDef","amount"),f.Gb(3),f.tc("routerLink","./sort"),f.Gb(4),f.Tc(f.nc(16,17,"Sort categories")))},directives:[p.a,x.a,rt.a,it.c,Y.f,Y.c,r.g,Z.a,G.b,Y.e,r.i,ct.c,P.i,P.f,O.I,O.t,O.k,R.c,O.c,D.b,O.s,O.i,O.D,o.t,P.c,P.d,R.b],pipes:[d.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}"]}),dt),gt=n("2Vo4"),vt=n("Jc+d"),yt=n("IBZR"),Ct=["sorter"];function _t(t,e){if(1&t&&(f.Zb(0,"h2"),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Gb(1),f.Vc("",f.nc(2,2,"Sort motions")," (",n.category.prefixedName,")")}}function Ot(t,e){if(1&t){var n=f.ac();f.Zb(0,"div"),f.Zb(1,"span"),f.Sc(2),f.Yb(),f.Zb(3,"span"),f.Sc(4),f.mc(5,"translate"),f.Yb(),f.Zb(6,"button",6),f.hc("click",(function(){return f.Ic(n),f.lc().moveToPosition()})),f.Zb(7,"span"),f.Sc(8),f.mc(9,"translate"),f.Yb(),f.Yb(),f.Yb()}if(2&t){var o=f.lc();f.Gb(2),f.Uc("",o.sortSelector.multiSelectedIndex.length,"\xa0"),f.Gb(2),f.Tc(f.nc(5,3,"selected")),f.Gb(4),f.Tc(f.nc(9,5,"move ..."))}}function St(t,e){if(1&t&&(f.Zb(0,"mat-basic-chip",7),f.mc(1,"translate"),f.Sc(2),f.Yb()),2&t){var n=e.$implicit;f.uc("matTooltip",f.nc(1,2,"Sequential number")),f.Gb(2),f.Uc(" ",n.id," ")}}var kt,wt,Mt,Pt=[{path:"",component:pt,pathMatch:"full"},{path:":id/sort",component:(kt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,r,i,c,l,s){var u;return _classCallCheck(this,n),(u=e.call(this,t,o,a)).translate=o,u.promptService=r,u.repo=i,u.route=c,u.motionRepo=l,u.choiceService=s,u.motionsSubject=new gt.a([]),u.motionsCount=0,u.hasChanged=!1,u.motionsCopy=[],u.motionsBackup=[],u}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this,e=+this.route.snapshot.params.id;this.repo.getViewModelObservable(e).subscribe((function(e){t.category=e})),this.motionRepo.getViewModelListObservable().subscribe((function(n){var o=n.filter((function(t){return t.category_id===e}));t.motionsBackup=_toConsumableArray(o),t.motionsCount=o.length,0===t.motionsCopy.length?t.initializeList(o):t.motionsSubject.next(t.handleMotionUpdates(o))}))}},{key:"initializeList",value:function(t){t.sort((function(t,e){return t.category_weight-e.category_weight})),this.motionsSubject.next(t),this.motionsCopy=t}},{key:"onListUpdate",value:function(t){this.hasChanged=!0,this.motionsCopy=t}},{key:"onCancel",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.canDeactivate();case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}this.motionsSubject.next([]),this.initializeList(this.motionsBackup),this.hasChanged=!1;case 5:case"end":return t.stop()}}),t,this)})))}},{key:"sendUpdate",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Do you really want to save your changes?"),t.next=3,this.promptService.open(e);case 3:if(!t.sent){t.next=6;break}n=this.motionsCopy.map((function(t){return t.id})),this.repo.sortMotionsInCategory(this.category.category,n),this.hasChanged=!1;case 6:case"end":return t.stop()}}),t,this)})))}},{key:"handleMotionUpdates",value:function(t){var e=this.motionsCopy;if(t.length>e.length){var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;this.motionsCopy.includes(a)||e.push(a)}}catch(b){o.e(b)}finally{o.f()}}else if(t.length<e.length){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var c=r.value;t.includes(c)||e.splice(e.indexOf(c),1)}}catch(b){i.e(b)}finally{i.f()}}else{var l,s=_createForOfIteratorHelper(e);try{var u=function(){var n=l.value;if(!t.includes(n)){var o=t.find((function(t){return t.id===n.id}));e.splice(e.indexOf(n),1,o)}};for(s.s();!(l=s.n()).done;)u()}catch(b){s.e(b)}finally{s.f()}}return e}},{key:"canDeactivate",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasChanged){t.next=5;break}return e=this.translate.instant("Do you really want to exit this page?"),n=this.translate.instant("You made changes."),t.next=4,this.promptService.open(e,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"moveToPosition",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,o,a,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sortSelector.multiSelectedIndex.length){t.next=8;break}return e=this.translate.instant("Move selected items ..."),n=this.sortSelector.sortedItems.filter((function(t){return!r.sortSelector.multiSelectedIndex.includes(t.id)})),o=[this.translate.instant("Insert before"),this.translate.instant("Insert behind")],t.next=6,this.choiceService.open(e,n,!1,o);case 6:(a=t.sent)&&this.sortSelector.drop({currentIndex:a.items,previousIndex:null},a.action===o[1]);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"isMultiSelect",get:function(){return this.sortSelector.multiSelectedIndex.length>0}},{key:"motionObservable",get:function(){return this.motionsSubject.asObservable()}}]),n}(b.a),kt.\u0275fac=function(t){return new(t||kt)(f.Tb(m.d),f.Tb(d.k),f.Tb(h.a),f.Tb(s.a),f.Tb(l.a),f.Tb(r.a),f.Tb(w.a),f.Tb(vt.a))},kt.\u0275cmp=f.Nb({type:kt,selectors:[["os-category-motions-sort"]],viewQuery:function(t,e){var n;1&t&&f.Oc(Ct,!0),2&t&&f.Dc(n=f.ic())&&(e.sortSelector=n.first)},features:[f.Db],decls:8,vars:5,consts:[[3,"editMode","nav","saveEvent","mainEvent"],[1,"title-slot"],[4,"ngIf"],[1,"os-form-card"],[3,"input","sortEvent"],["sorter",""],["mat-button","",3,"click"],["disableRipple","",1,"bluegrey",3,"matTooltip"]],template:function(t,e){1&t&&(f.Zb(0,"os-head-bar",0),f.hc("saveEvent",(function(){return e.sendUpdate()}))("mainEvent",(function(){return e.onCancel()})),f.Zb(1,"div",1),f.Qc(2,_t,3,4,"h2",2),f.Yb(),f.Yb(),f.Zb(3,"mat-card",3),f.Qc(4,Ot,10,7,"div",2),f.Zb(5,"os-sorting-list",4,5),f.hc("sortEvent",(function(t){return e.onListUpdate(t)})),f.Qc(7,St,3,4,"ng-template"),f.Yb(),f.Yb()),2&t&&(f.tc("editMode",e.hasChanged)("nav",!1),f.Gb(2),f.tc("ngIf",e.category),f.Gb(2),f.tc("ngIf",e.isMultiSelect),f.Gb(1),f.tc("input",e.motionObservable))},directives:[p.a,o.t,g.a,yt.a,G.b,I.a,ct.c],pipes:[d.j],styles:[""]}),kt),canDeactivate:[i.a]},{path:"sort",component:_,canDeactivate:[i.a]},{path:":id",component:nt}],xt=((Mt=function t(){_classCallCheck(this,t)}).\u0275mod=f.Rb({type:Mt}),Mt.\u0275inj=f.Qb({factory:function(t){return new(t||Mt)},imports:[[r.j.forChild(Pt)],r.j]}),Mt),Yt=((wt=function t(){_classCallCheck(this,t)}).\u0275mod=f.Rb({type:wt}),wt.\u0275inj=f.Qb({factory:function(t){return new(t||wt)},imports:[[o.c,xt,a.a]]}),wt)},F48D:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n("mrSG"),a=n("LBBb"),r=n("fXoL"),i=n("0IaG"),c=function(){var t=function(){function t(e){_classCallCheck(this,t),this.dialog=e}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.dialog.open(a.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return n.stop()}}),n,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.dc(i.b))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"Jc+d":function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var o=n("mrSG"),a=n("Izkr"),r=n("0IaG"),i=n("fXoL"),c=n("3Pt+"),l=n("ofXK"),s=n("bTqV"),u=n("oqD5"),b=n("sYmb");function f(t,e){if(1&t&&(i.Zb(0,"h2",2),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc();i.Gb(1),i.Tc(i.nc(2,1,n.data.title))}}function m(t,e){if(1&t&&(i.Zb(0,"div",9),i.Ub(1,"os-search-value-selector",10),i.Yb()),2&t){var n=i.lc(2);i.Gb(1),i.tc("multiple",n.data.multiSelect)("formControl",n.selectForm.get("select"))("inputListValues",n.data.choices)}}function d(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",12),i.hc("click",(function(){i.Ic(n);var t=e.$implicit;return i.lc(3).closeDialog(!0,t)})),i.Zb(1,"span"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()}if(2&t){var o=e.$implicit,a=i.lc(3);i.tc("disabled",!a.hasSelection),i.Gb(2),i.Tc(i.nc(3,2,o))}}function h(t,e){if(1&t&&(i.Zb(0,"div"),i.Qc(1,d,4,4,"button",11),i.Yb()),2&t){var n=i.lc(2);i.Gb(1),i.tc("ngForOf",n.data.actionButtons)}}function p(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",12),i.hc("click",(function(){return i.Ic(n),i.lc(3).closeDialog(!0)})),i.Zb(1,"span"),i.Sc(2,"OK"),i.Yb(),i.Yb()}if(2&t){var o=i.lc(3);i.tc("disabled",!o.hasSelection)}}function g(t,e){if(1&t&&(i.Zb(0,"div"),i.Qc(1,p,3,1,"button",13),i.Yb()),2&t){var n=i.lc(2);i.Gb(1),i.tc("ngIf",!n.data.multiSelect||n.data.choices)}}function v(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",8),i.hc("click",(function(){i.Ic(n);var t=i.lc(2);return t.closeDialog(!0,t.data.clearChoice)})),i.Zb(1,"span"),i.Sc(2),i.Yb(),i.Yb()}if(2&t){var o=i.lc(2);i.Gb(2),i.Tc(o.data.clearChoice)}}function y(t,e){if(1&t){var n=i.ac();i.Zb(0,"form",3),i.Qc(1,m,2,3,"div",4),i.Zb(2,"div",5),i.Qc(3,h,2,1,"div",6),i.Qc(4,g,2,1,"div",6),i.Qc(5,v,3,1,"button",7),i.Zb(6,"button",8),i.hc("click",(function(){return i.Ic(n),i.lc().closeDialog(!1)})),i.Zb(7,"span"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var o=i.lc();i.tc("formGroup",o.selectForm),i.Gb(1),i.tc("ngIf",o.data.choices),i.Gb(2),i.tc("ngIf",o.data.actionButtons),i.Gb(1),i.tc("ngIf",!o.data.actionButtons),i.Gb(1),i.tc("ngIf",o.data.clearChoice),i.Gb(3),i.Tc(i.nc(9,6,"Cancel"))}}var C,_,O=((_=function(){function t(e,n,o){_classCallCheck(this,t),this.dialogRef=e,this.formBuilder=n,this.data=o,this.selectedMultiChoices=[],this.selectForm=this.formBuilder.group({select:[]})}return _createClass(t,[{key:"closeDialog",value:function(t,e){this.data.multiSelect||null!==this.selectedChoice||(e=this.data.clearChoice),t?this.dialogRef.close({action:e||null,items:this.selectForm.get("select").value}):this.dialogRef.close()}},{key:"hasSelection",get:function(){return!(this.data&&this.data.choices&&(!this.selectForm.get("select").value||!this.selectForm.get("select").value&&!this.selectForm.get("select").value.length))}}]),t}()).\u0275fac=function(t){return new(t||_)(i.Tb(r.h),i.Tb(c.f),i.Tb(r.a))},_.\u0275cmp=i.Nb({type:_,selectors:[["os-choice-dialog"]],decls:2,vars:2,consts:[["mat-dialog-title","",4,"ngIf"],[3,"formGroup",4,"ngIf"],["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["mat-dialog-content",""],["ngDefaultControl","",3,"multiple","formControl","inputListValues"],["mat-button","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click"],["mat-button","",3,"disabled","click",4,"ngIf"]],template:function(t,e){1&t&&(i.Qc(0,f,3,3,"h2",0),i.Qc(1,y,10,8,"form",1)),2&t&&(i.tc("ngIf",e.data),i.Gb(1),i.tc("ngIf",e.data))},directives:[l.t,r.i,c.I,c.t,c.k,r.c,s.b,r.f,u.a,c.c,c.s,c.h,l.s],pipes:[b.j],styles:[".mat-form-field{width:100%}"],encapsulation:2}),_),S=((C=function(){function t(e){_classCallCheck(this,t),this.dialog=e}return _createClass(t,[{key:"open",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.dialog.open(O,Object.assign(Object.assign({},a.a),{data:{title:t,choices:e,multiSelect:n,actionButtons:r,clearChoice:i}})).afterClosed().toPromise());case 1:case"end":return o.stop()}}),o,this)})))}}]),t}()).\u0275fac=function(t){return new(t||C)(i.dc(r.b))},C.\u0275prov=i.Pb({token:C,factory:C.\u0275fac,providedIn:"root"}),C)},LBBb:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("0IaG"),a=n("fXoL"),r=n("ofXK"),i=n("bTqV"),c=n("sYmb");function l(t,e){if(1&t&&(a.Zb(0,"div"),a.Zb(1,"h2",1),a.Sc(2),a.Yb(),a.Ub(3,"mat-dialog-content",2),a.Zb(4,"mat-dialog-actions"),a.Zb(5,"button",3),a.Sc(6),a.mc(7,"translate"),a.Yb(),a.Zb(8,"button",4),a.Sc(9),a.mc(10,"translate"),a.Yb(),a.Yb(),a.Yb()),2&t){var n=a.lc();a.Gb(2),a.Tc(n.data.title),a.Gb(1),a.tc("innerHTML",n.data.content,a.Jc),a.Gb(2),a.tc("mat-dialog-close",!0),a.Gb(1),a.Tc(a.nc(7,6,"Yes")),a.Gb(2),a.tc("mat-dialog-close",!1),a.Gb(1),a.Tc(a.nc(10,8,"Cancel"))}}var s=function(){var t=function t(e,n){_classCallCheck(this,t),this.dialogRef=e,this.data=n};return t.\u0275fac=function(e){return new(e||t)(a.Tb(o.h),a.Tb(o.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&a.Qc(0,l,11,10,"div",0),2&t&&a.tc("ngIf",e.data)},directives:[r.t,o.i,o.f,o.c,i.b,o.d],pipes:[c.j],encapsulation:2}),t}()},wL0i:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,o,a)).storage=r,i.canMultiSelect=!1,i._multiSelectMode=!1,i.singleButtonWidth="40px",i.badgeButtonWidth="45px",i.selectedRows=[],i}return _createClass(n,[{key:"onDataSourceChange",value:function(t){this.dataSource=t}},{key:"toggleMultiSelect",value:function(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}},{key:"selectAll",value:function(){var t;(t=this.dataSource.selection).select.apply(t,_toConsumableArray(this.dataSource.filteredData))}},{key:"deselectAll",value:function(){this.dataSource&&this.dataSource.selection.clear()}},{key:"isMultiSelect",get:function(){return this._multiSelectMode}}]),n}(n("mV3u").a)}}]);