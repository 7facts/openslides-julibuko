(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"9st3":function(t,e,o){"use strict";o.d(e,"a",(function(){return i})),o("Ri39");var n=o("fXoL");let i=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.Ob({type:t,inputs:{data:"data",projector:"projector"}}),t})()},ELcd:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var n=o("h9Sk"),i=o("fXoL");let s=(()=>{class t{constructor(t){this.element=t}ngOnInit(){new n.ResizeSensor(this.element.nativeElement,t=>this.onSizeChanged()),this.onSizeChanged()}onSizeChanged(){const t=this.element.nativeElement.clientWidth,e=this.element.nativeElement.clientHeight;t===this.oldWidth&&e===this.oldHeight||(this.oldWidth=t,this.oldHeight=e,this.osResized&&this.osResized.next())}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.m))},t.\u0275dir=i.Ob({type:t,selectors:[["","osResized",""]],inputs:{osResized:"osResized"}}),t})()},PAIG:function(t,e,o){"use strict";o.d(e,"a",(function(){return z}));var n=o("XNiG"),i=o("w7eE"),s=o("fRtx"),r=o("iVKA"),c=o("3moa"),a=o("+KbT"),l=(o("Ri39"),o("fXoL")),h=o("jhN1"),d=o("sYmb"),p=o("ELcd"),g=o("ofXK"),f=o("NFeN"),u=o("hxkd");const b=["container"];function j(t,e){1&t&&(l.Zb(0,"div",7),l.Zb(1,"mat-icon"),l.Sc(2," fiber_manual_record "),l.Yb(),l.Yb())}function m(t,e){if(1&t&&l.Ub(0,"img",11),2&t){const t=l.lc(2);l.uc("src",t.projectorLogo,l.Kc)}}function v(t,e){if(1&t&&l.Ub(0,"div",15),2&t){const t=l.lc(3);l.tc("ngClass",t.eventDescription?"":"titleonly")("innerHTML",t.eventName,l.Jc)}}function C(t,e){if(1&t&&l.Ub(0,"div",16),2&t){const t=l.lc(3);l.tc("innerHTML",t.eventDescription,l.Jc)}}function _(t,e){if(1&t&&(l.Zb(0,"div",12),l.Qc(1,v,1,2,"div",13),l.Qc(2,C,1,1,"div",14),l.Yb()),2&t){const t=l.lc(2);l.Gb(1),l.tc("ngIf",t.eventName),l.Gb(1),l.tc("ngIf",t.eventDescription)}}function S(t,e){if(1&t&&(l.Zb(0,"div",8),l.Qc(1,m,1,1,"img",9),l.Qc(2,_,3,2,"div",10),l.Yb()),2&t){const t=l.lc();l.Gb(1),l.tc("ngIf",t.projector.show_logo&&t.projectorLogo),l.Gb(1),l.tc("ngIf",t.projector.show_title)}}function O(t,e){if(1&t&&(l.Zb(0,"div"),l.Ub(1,"os-slide-container",17),l.Yb()),2&t){const t=e.$implicit,o=l.lc();l.Gb(1),l.tc("slideData",t)("scroll",o.scroll)("scale",o.scale)("projector",o.projector)}}function P(t,e){if(1&t&&(l.Zb(0,"span"),l.Sc(1),l.Yb()),2&t){const t=l.lc(2);l.Gb(1),l.Uc(" ",t.eventDate," ")}}function M(t,e){1&t&&(l.Zb(0,"span"),l.Sc(1," | "),l.Yb())}function x(t,e){if(1&t&&(l.Zb(0,"span"),l.Sc(1),l.Yb()),2&t){const t=l.lc(2);l.Gb(1),l.Uc(" ",t.eventLocation," ")}}function w(t,e){if(1&t&&(l.Zb(0,"div",18),l.Zb(1,"div",19),l.Qc(2,P,2,1,"span",20),l.Qc(3,M,2,0,"span",20),l.Qc(4,x,2,1,"span",20),l.Yb(),l.Yb()),2&t){const t=l.lc();l.Gb(2),l.tc("ngIf",t.eventDate),l.Gb(1),l.tc("ngIf",t.eventDate&&t.eventLocation),l.Gb(1),l.tc("ngIf",t.eventLocation)}}let z=(()=>{class t extends i.a{constructor(t,e,o,i,s,r,c){super(t,e),this.projectorDataService=o,this.projectorRepository=i,this.configService=s,this.offlineService=r,this.elementRef=c,this.projectorId=null,this.currentProjectorSize={width:0,height:0},this.css={container:{height:"0px"},projector:{transform:"none",width:"0px",height:"0px",color:"black",backgroundColor:"white",H1Color:"#317796"},headerFooter:{color:"white",backgroundColor:"#317796",backgroundImage:"none"}},this.slides=[],this.scroll=0,this.scale=0,this.isOffline=!1,this.resizeSubject=new n.a,this.enableHeaderAndFooter=!0,this.enableTitle=!0,this.projectorClass="projector-"+Math.random().toString(36).substring(4),this.elementRef.nativeElement.classList.add(this.projectorClass),this.styleElement=document.createElement("style"),this.styleElement.appendChild(document.createTextNode("")),document.head.appendChild(this.styleElement),this.configService.get("logo_projector_main").subscribe(t=>{this.projectorLogo=t&&t.path?t.path:""}),this.configService.get("logo_projector_header").subscribe(t=>{this.css.headerFooter.backgroundImage=t&&t.path?"url('"+t.path+"')":"none",this.updateCSS()}),this.configService.get("general_event_name").subscribe(t=>this.eventName=t),this.configService.get("general_event_description").subscribe(t=>this.eventDescription=t),this.configService.get("general_event_date").subscribe(t=>this.eventDate=t),this.configService.get("general_event_location").subscribe(t=>this.eventLocation=t),this.resizeSubject.subscribe(()=>{this.containerElement&&this.updateScaling()}),this.offlineSubscription=this.offlineService.isOffline().subscribe(t=>this.isOffline=t)}set projector(t){this._projector=t,this.setProjector(t.projector)}get projector(){return this._projector}setProjector(t){const e=t?t.id:null;if(this.projectorId!==e&&(this.projectorIdChanged(this.projectorId,e),this.projectorId=e),t){const e=Object.assign({},this.currentProjectorSize);this.currentProjectorSize.height=t.height,this.currentProjectorSize.width=t.width,e.height===this.currentProjectorSize.height&&e.width===this.currentProjectorSize.width||this.updateScaling(),this.css.projector.color=t.color,this.css.projector.backgroundColor=t.background_color,this.css.projector.H1Color=t.header_h1_color,this.css.headerFooter.color=t.header_font_color,this.css.headerFooter.backgroundColor=t.header_background_color,this.updateCSS()}}updateScaling(){if(!this.containerElement||0===this.currentProjectorSize.width||0===this.containerElement.nativeElement.offsetWidth)return;const t=this.containerElement.nativeElement.offsetWidth/this.currentProjectorSize.width;isNaN(t)||(this.css.projector.transform="scale("+t+")",this.css.projector.width=this.currentProjectorSize.width+"px",this.css.projector.height=this.currentProjectorSize.height+"px",this.css.container.height=Math.round(t*this.currentProjectorSize.height)+"px",this.updateCSS())}updateCSS(){this.styleElement&&(this.styleElement.innerHTML=`\n            .${this.projectorClass} .projector-container {\n                height: ${this.css.container.height};\n            }\n            .${this.projectorClass} .projector {\n                transform: ${this.css.projector.transform};\n                width: ${this.css.projector.width};\n                height: ${this.css.projector.height};\n                background-color: ${this.css.projector.backgroundColor};\n                color: ${this.css.projector.color};\n            }\n            .${this.projectorClass} .projector h1 {\n                color: ${this.css.projector.H1Color};\n            }\n            .${this.projectorClass} .headerFooter {\n                color: ${this.css.headerFooter.color};\n                background-color: ${this.css.headerFooter.backgroundColor};\n                background-image: ${this.css.headerFooter.backgroundImage};\n            }`)}projectorIdChanged(t,e){this.dataSubscription&&this.dataSubscription.unsubscribe(),this.projectorSubscription&&this.projectorSubscription.unsubscribe(),e>0?(t>0&&this.projectorDataService.projectorClosed(t),this.dataSubscription=this.projectorDataService.getProjectorObservable(e).subscribe(t=>{this.slides=t||[]}),this.projectorSubscription=this.projectorRepository.getViewModelObservable(e).subscribe(t=>{t&&(this.scroll=t.scroll||0,this.scale=t.scale||0)})):!e&&t>0&&this.projectorDataService.projectorClosed(t)}ngOnDestroy(){this.projectorId>0&&this.projectorDataService.projectorClosed(this.projectorId),document.head.removeChild(this.styleElement),this.styleElement=null,this.offlineSubscription&&(this.offlineSubscription.unsubscribe(),this.offlineSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(l.Tb(h.d),l.Tb(d.k),l.Tb(r.a),l.Tb(c.a),l.Tb(a.a),l.Tb(s.a),l.Tb(l.m))},t.\u0275cmp=l.Nb({type:t,selectors:[["os-projector"]],viewQuery:function(t,e){var o;1&t&&l.Oc(b,!0),2&t&&l.Dc(o=l.ic())&&(e.containerElement=o.first)},inputs:{projector:"projector"},features:[l.Db],decls:7,vars:5,consts:[["id","container",1,"projector-container",3,"osResized"],["container",""],["id","projector",1,"projector"],["id","offline-indicator",4,"ngIf"],["id","header","class","headerFooter",4,"ngIf"],[4,"ngFor","ngForOf"],["id","footer","class","headerFooter",4,"ngIf"],["id","offline-indicator"],["id","header",1,"headerFooter"],["class","projector-logo-main",3,"src",4,"ngIf"],["id","eventdata",4,"ngIf"],[1,"projector-logo-main",3,"src"],["id","eventdata"],["class","event-name",3,"ngClass","innerHTML",4,"ngIf"],["class","event-description",3,"innerHTML",4,"ngIf"],[1,"event-name",3,"ngClass","innerHTML"],[1,"event-description",3,"innerHTML"],[3,"slideData","scroll","scale","projector"],["id","footer",1,"headerFooter"],[1,"footertext"],[4,"ngIf"]],template:function(t,e){1&t&&(l.Zb(0,"div",0,1),l.Zb(2,"div",2),l.Qc(3,j,3,0,"div",3),l.Qc(4,S,3,2,"div",4),l.Qc(5,O,2,4,"div",5),l.Qc(6,w,5,3,"div",6),l.Yb(),l.Yb()),2&t&&(l.tc("osResized",e.resizeSubject),l.Gb(3),l.tc("ngIf",e.isOffline),l.Gb(1),l.tc("ngIf",e.projector&&e.projector.show_header_footer),l.Gb(1),l.tc("ngForOf",e.slides),l.Gb(1),l.tc("ngIf",e.projector&&e.projector.show_header_footer))},directives:[p.a,g.t,g.s,f.a,g.q,u.a],styles:["#container[_ngcontent-%COMP%]{background-color:#fafad2;position:relative}#container[_ngcontent-%COMP%]   #offline-indicator[_ngcontent-%COMP%]{top:0!important;right:0;color:#000;opacity:.3;position:absolute;z-index:100}#container[_ngcontent-%COMP%]   #offline-indicator[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:8pt;vertical-align:top;text-align:right}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]{position:absolute;top:0;left:0;-ms-transform-origin:left top;transform-origin:left top;overflow:hidden;font-size:22px!important;line-height:24px!important}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:70px;box-shadow:0 0 7px rgba(0,0,0,.6);background-repeat:no-repeat;background-size:100% 100%;margin-bottom:20px;z-index:9}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   .projector-logo-main[_ngcontent-%COMP%]{height:50px;padding-left:50px;padding-top:10px;float:left;display:-ms-flexbox;display:flex}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]{padding-left:50px;padding-top:12px;height:50px;overflow:hidden;line-height:1.1}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:26px;font-weight:400}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]   .event-name.titleonly[_ngcontent-%COMP%]{padding-top:12px}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{font-size:18px;opacity:.8}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #footer[_ngcontent-%COMP%]{position:fixed;width:100%;height:35px;bottom:0;z-index:9}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #footer[_ngcontent-%COMP%]   .footertext[_ngcontent-%COMP%]{font-size:16px;padding-left:50px;padding-right:50px;padding-top:5px;overflow:hidden;text-align:right}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.8}"]}),t})()},hxkd:function(t,e,o){"use strict";o.d(e,"a",(function(){return g}));var n=o("fXoL"),i=o("w7eE");function s(t){return!!t&&void 0!==t.scroll&&void 0!==t.scale}o("Ri39"),o("9st3");var r=o("0QsF"),c=o("jhN1"),a=o("sYmb"),l=o("ofXK");const h=["slide"],d=function(t){return{content:t}};function p(t){return void 0!==t.error}let g=(()=>{class t extends i.a{constructor(t,e,o){super(t,e),this.slideManager=o,this.slideOptions={scaleable:!1,scrollable:!1},this.slideStyle={"font-size":"100%","margin-top":"50px"}}get slideIsAutonomic(){return!!this.slideRef&&!!this.slideRef.instance&&s(this.slideRef.instance)}set slideData(t){if(!t||p(t)||t.data&&p(t.data)){let e;return this.slide&&this.slide.clear(),p(t)?e=t.error:t.data&&p(t.data)&&(e=t.data.error),void(e&&console.error(e))}this._slideData=t,this.previousSlideName!==t.element.name?(this.slideChanged(t.element),this.previousSlideName=t.element.name):this.setDataForComponent()}get slideData(){return this._slideData}set projector(t){this._projector=t,this.setProjectorForComponent(),this.updateScroll(),this.updateScale()}get projector(){return this._projector}set scroll(t){this._scroll=t,this.updateScroll()}get scroll(){return this._scroll}set scale(t){this._scale=t,this.updateScale()}get scale(){return this._scale}updateScroll(){if(this.slideOptions.scrollable&&!this.slideIsAutonomic){let t=this.scroll;t*=-100,this.projector&&this.projector.show_header_footer&&(t+=50),this.slideStyle["margin-top"]=t+"px"}else this.slideStyle["margin-top"]="0px",this.slideIsAutonomic&&s(this.slideRef.instance)&&(this.slideRef.instance.scroll=this.scroll)}updateScale(){if(this.slideOptions.scaleable&&!this.slideIsAutonomic){let t=this.scale;t*=10,t+=100,this.slideStyle["font-size"]=t+"%"}else this.slideStyle["font-size"]="100%",this.slideIsAutonomic&&s(this.slideRef.instance)&&(this.slideRef.instance.scale=this.scale)}slideChanged(t){const e=this.slideManager.getSlideConfiguration(t.name);this.slideOptions.scaleable="boolean"==typeof e.scaleable?e.scaleable:e.scaleable(t),this.slideOptions.scrollable="boolean"==typeof e.scrollable?e.scrollable:e.scrollable(t),this.slideManager.getSlideFactory(t.name).then(t=>{this.slide.clear(),this.slideRef=this.slide.createComponent(t),this.setDataForComponent(),this.setProjectorForComponent(),this.updateScale(),this.updateScroll()})}setDataForComponent(){this.slideRef&&this.slideRef.instance&&(this.slideRef.instance.data=this.slideData)}setProjectorForComponent(){this.slideRef&&this.slideRef.instance&&(this.slideRef.instance.projector=this.projector)}}return t.\u0275fac=function(e){return new(e||t)(n.Tb(c.d),n.Tb(a.k),n.Tb(r.a))},t.\u0275cmp=n.Nb({type:t,selectors:[["os-slide-container"]],viewQuery:function(t,e){var o;1&t&&n.Oc(h,!0,n.T),2&t&&n.Dc(o=n.ic())&&(e.slide=o.first)},inputs:{slideData:"slideData",projector:"projector",scroll:"scroll",scale:"scale"},features:[n.Db],decls:3,vars:4,consts:[["id","slide",3,"ngClass","ngStyle"],["slide",""]],template:function(t,e){1&t&&(n.Zb(0,"div",0),n.Vb(1,null,1),n.Yb()),2&t&&n.tc("ngClass",n.zc(2,d,e.slideOptions.scaleable||e.slideOptions.scrollable))("ngStyle",e.slideStyle)},directives:[l.q,l.w],styles:["#slide[_ngcontent-%COMP%]{width:100%}#slide.content[_ngcontent-%COMP%]{width:calc(100% - 100px);position:absolute;left:50px;top:40px;line-height:1.5}#slide[_ngcontent-%COMP%]{height:100%}"]}),t})()}}]);