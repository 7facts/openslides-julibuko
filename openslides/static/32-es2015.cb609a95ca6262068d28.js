(window.webpackJsonp=window.webpackJsonp||[]).push([[32,36],{"0bnU":function(t,e,i){"use strict";i.r(e),i.d(e,"MediafilesModule",(function(){return Ht}));var c=i("ofXK"),n=i("tyNb"),o=i("OwvW"),a=i("SSyl"),r=i("mV3u"),l=i("fXoL"),s=i("jhN1"),b=i("sYmb"),d=i("dNgK"),u=i("mksl"),f=i("bTqV"),m=i("STbY"),h=i("NFeN"),p=i("Wp6s"),g=i("GTZY");let v=(()=>{class t extends r.a{constructor(t,e,i,c,n,o){super(t,e,i),this.location=c,this.route=n,this.repo=o,this.parallel=!0,this.directoryId=null}ngOnInit(){this.repo.getDirectoryIdByPath(this.route.snapshot.url.map(t=>t.path)).then(t=>{this.directoryId=t})}uploadSuccess(){this.location.back()}showError(t){this.raiseError(t)}setUploadStrategy(t){this.parallel=t}}return t.\u0275fac=function(e){return new(e||t)(l.Tb(s.d),l.Tb(b.k),l.Tb(d.a),l.Tb(c.n),l.Tb(n.a),l.Tb(a.a))},t.\u0275cmp=l.Nb({type:t,selectors:[["os-media-upload"]],features:[l.Db],decls:19,vars:12,consts:[[3,"nav","goBack"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"os-card"],[3,"parallel","directoryId","uploadSuccessEvent","errorEvent"],["uploadMenu","matMenu"],["mat-menu-item","",3,"click"],["color","accent"]],template:function(t,e){if(1&t&&(l.Zb(0,"os-head-bar",0),l.Zb(1,"div",1),l.Zb(2,"h2"),l.Sc(3),l.mc(4,"translate"),l.Yb(),l.Yb(),l.Zb(5,"div",2),l.Zb(6,"button",3),l.Zb(7,"mat-icon"),l.Sc(8,"more_vert"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(9,"mat-card",4),l.Zb(10,"os-media-upload-content",5),l.hc("uploadSuccessEvent",(function(){return e.uploadSuccess()}))("errorEvent",(function(t){return e.showError(t)})),l.Yb(),l.Yb(),l.Zb(11,"mat-menu",null,6),l.Zb(13,"button",7),l.hc("click",(function(){return e.setUploadStrategy(!e.parallel)})),l.Zb(14,"mat-icon",8),l.Sc(15),l.Yb(),l.Zb(16,"span"),l.Sc(17),l.mc(18,"translate"),l.Yb(),l.Yb(),l.Yb()),2&t){const t=l.Ec(12);l.tc("nav",!1)("goBack",!0),l.Gb(3),l.Tc(l.nc(4,8,"Upload files")),l.Gb(3),l.tc("matMenuTriggerFor",t),l.Gb(4),l.tc("parallel",e.parallel)("directoryId",e.directoryId),l.Gb(5),l.Tc(e.parallel?"check_box":"check_box_outline_blank"),l.Gb(2),l.Tc(l.nc(18,10,"Parallel upload"))}},directives:[u.a,f.b,m.e,h.a,p.a,g.a,m.f,m.c],pipes:[b.j],styles:[""]}),t})();var S=i("mrSG"),Y=i("3Pt+"),Z=i("dRZP"),y=i("2Vo4"),G=i("HDdC"),w=i("AqIO"),T=i("R+Vs"),M=i("Hila"),k=i("+KbT");let I=(()=>{class t{constructor(t,e){this.config=t,this.httpService=e}setAs(t,e){return Object(S.a)(this,void 0,void 0,(function*(){const i=`/rest/core/config/${e}/`,c=this.getMediaConfig(e);return this.httpService.put(i,{id:t.id,key:c.key,default:c.default,value:{display_name:c.display_name,key:c.key,default:c.default,path:c.path!==t.url?t.url:""}})}))}isImageConfigObject(t){if(void 0!==t)return void 0!==t.path}getLogoActions(){return this.config.get("logos_available")}getFontActions(){return this.config.get("fonts_available")}getMediaConfig(t){return this.config.instant(t)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(k.a),l.dc(M.a))},t.\u0275prov=l.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var F=i("F48D"),D=i("KL36"),_=i("smbJ"),x=i("Izkr"),C=i("wL0i"),E=i("D/ll"),Q=i("A6Ob");let O=(()=>{class t extends Q.a{constructor(t,e,i){super(t,e,i),this.storageKey="MediafileList",this.mediafilesSortOptions=[{property:"title"},{property:"mimetype",label:this.translate.instant("Type")},{property:"filesize",label:this.translate.instant("Size")}]}getSortOptions(){return this.mediafilesSortOptions}getDefaultDefinition(){return Object(S.a)(this,void 0,void 0,(function*(){return{sortProperty:"title",sortAscending:!0}}))}}return t.\u0275fac=function(e){return new(e||t)(l.dc(b.k),l.dc(w.a),l.dc(E.a))},t.\u0275prov=l.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=i("0IaG"),j=i("3Xi6"),P=i("1yIO"),N=i("SOyc"),B=i("vYAO"),L=i("Qu3c"),U=i("f0Cb"),R=i("Tp2j"),z=i("kmnG"),V=i("qFsG"),q=i("IZUe"),$=i("oqD5");const W=["fileEditForm"],K=["fileEditDialog"];function X(t,e){if(1&t){const t=l.ac();l.Zb(0,"button",26),l.hc("click",(function(){l.Ic(t);const e=l.lc(2),i=l.Ec(34);return e.createNewFolder(i)})),l.Zb(1,"mat-icon"),l.Sc(2,"create_new_folder"),l.Yb(),l.Yb()}}function H(t,e){if(1&t&&(l.Zb(0,"div",23),l.Qc(1,X,3,0,"button",24),l.Zb(2,"button",25),l.Zb(3,"mat-icon"),l.Sc(4,"more_vert"),l.Yb(),l.Yb(),l.Yb()),2&t){const t=l.lc(),e=l.Ec(28);l.Gb(1),l.tc("ngIf",!t.isMultiSelect),l.Gb(1),l.tc("matMenuTriggerFor",e)}}function J(t,e){if(1&t){const t=l.ac();l.Zb(0,"div",27),l.Zb(1,"button",28),l.hc("click",(function(){return l.Ic(t),l.lc().toggleMultiSelect()})),l.Zb(2,"mat-icon"),l.Sc(3,"arrow_back"),l.Yb(),l.Yb(),l.Zb(4,"span"),l.Sc(5),l.Yb(),l.Zb(6,"span"),l.Sc(7),l.mc(8,"translate"),l.Yb(),l.Yb()}if(2&t){const t=l.lc();l.Gb(5),l.Uc("",t.selectedRows.length,"\xa0"),l.Gb(2),l.Tc(l.nc(8,2,"selected"))}}function tt(t,e){if(1&t){const t=l.ac();l.Zb(0,"button",6),l.hc("click",(function(){l.Ic(t);const e=l.lc().$implicit;return l.lc().changeDirectory(e.id)})),l.Zb(1,"span",34),l.Sc(2),l.Yb(),l.Yb()}if(2&t){const t=l.lc().$implicit,e=l.lc();l.tc("disabled",e.isMultiSelect),l.Gb(2),l.Uc(" ",t.filename," ")}}const et=function(t){return{mediafile:t}};function it(t,e){if(1&t&&(l.Zb(0,"button",35),l.Zb(1,"os-icon-container",36),l.Sc(2),l.Yb(),l.Yb()),2&t){const t=l.lc().$implicit,e=l.lc(),i=l.Ec(25);l.tc("matMenuTriggerFor",i)("matMenuTriggerData",l.zc(5,et,t))("disabled",e.isMultiSelect),l.Gb(1),l.tc("noWrap",!0),l.Gb(1),l.Uc(" ",t.filename," ")}}function ct(t,e){if(1&t&&(l.Zb(0,"span",37),l.Sc(1),l.Yb()),2&t){const t=l.lc().$implicit;l.Gb(1),l.Uc(" ",t.filename," ")}}function nt(t,e){if(1&t&&(l.Zb(0,"span",29),l.Zb(1,"span",30),l.Zb(2,"mat-icon"),l.Sc(3,"chevron_right"),l.Yb(),l.Yb(),l.Qc(4,tt,3,2,"button",31),l.Qc(5,it,3,7,"button",32),l.Qc(6,ct,2,1,"span",33),l.Yb()),2&t){const t=e.$implicit,i=e.last,c=l.lc();l.Gb(4),l.tc("ngIf",!i),l.Gb(1),l.tc("ngIf",i&&c.showFileMenu(t)),l.Gb(1),l.tc("ngIf",i&&!c.showFileMenu(t))}}function ot(t,e){1&t&&(l.Zb(0,"span"),l.Sc(1,", "),l.Yb())}function at(t,e){1&t&&(l.Zb(0,"span"),l.Sc(1,"..."),l.Yb())}function rt(t,e){if(1&t&&(l.Zb(0,"span"),l.Zb(1,"span"),l.Sc(2),l.mc(3,"translate"),l.Yb(),l.Qc(4,ot,2,0,"span",19),l.Qc(5,at,2,0,"span",19),l.Yb()),2&t){const t=e.$implicit,i=e.last,c=l.lc(2);l.Gb(2),l.Tc(l.nc(3,3,t.getTitle())),l.Gb(2),l.tc("ngIf",!i),l.Gb(1),l.tc("ngIf",i&&c.directory.inherited_access_groups.length>3)}}function lt(t,e){if(1&t){const t=l.ac();l.Zb(0,"span",38),l.Zb(1,"button",39),l.hc("click",(function(){l.Ic(t);const e=l.lc();return e.onEditFile(e.directory)})),l.Zb(2,"os-icon-container",40),l.mc(3,"translate"),l.Qc(4,rt,6,5,"span",41),l.mc(5,"slice"),l.Yb(),l.Yb(),l.Yb()}if(2&t){const t=l.lc();l.Gb(2),l.uc("matTooltip",l.nc(3,2,"Allowed access groups for this directory")),l.Gb(2),l.tc("ngForOf",l.pc(5,4,t.directory.inherited_access_groups,0,3))}}function st(t,e){if(1&t&&l.Ub(0,"a",45),2&t){const t=l.lc().row;l.tc("routerLink",t.url)}}function bt(t,e){if(1&t){const t=l.ac();l.Zb(0,"a",46),l.hc("click",(function(){l.Ic(t);const e=l.lc().row;return l.lc().changeDirectory(e.id)})),l.Yb()}}function dt(t,e){if(1&t&&(l.Zb(0,"div",42),l.Qc(1,st,1,1,"a",43),l.Qc(2,bt,1,0,"a",44),l.Zb(3,"mat-icon",7),l.Sc(4),l.Yb(),l.Yb()),2&t){const t=e.row,i=l.lc();l.Gb(1),l.tc("ngIf",!t.is_directory&&!i.isMultiSelect),l.Gb(1),l.tc("ngIf",t.is_directory&&!i.isMultiSelect),l.Gb(2),l.Tc(t.getIcon())}}function ut(t,e){if(1&t&&l.Ub(0,"a",45),2&t){const t=l.lc().row;l.tc("routerLink",t.url)}}function ft(t,e){if(1&t){const t=l.ac();l.Zb(0,"a",46),l.hc("click",(function(){l.Ic(t);const e=l.lc().row;return l.lc().changeDirectory(e.id)})),l.Yb()}}function mt(t,e){if(1&t&&(l.Zb(0,"div",50),l.Zb(1,"span"),l.Sc(2),l.Yb(),l.Yb()),2&t){const t=l.lc().row,e=l.lc();l.Gb(2),l.Vc(" ",e.getDateFromTimestamp(t.timestamp)," \xb7 ",t.filesize," ")}}function ht(t,e){if(1&t&&(l.Zb(0,"div",42),l.Qc(1,ut,1,1,"a",43),l.Qc(2,ft,1,0,"a",44),l.Zb(3,"div",47),l.Zb(4,"div",48),l.Sc(5),l.Yb(),l.Qc(6,mt,3,2,"div",49),l.Yb(),l.Yb()),2&t){const t=e.row,i=l.lc();l.Gb(1),l.tc("ngIf",!t.is_directory&&!i.isMultiSelect),l.Gb(1),l.tc("ngIf",t.is_directory&&!i.isMultiSelect),l.Gb(3),l.Uc(" ",t.filename," "),l.Gb(1),l.tc("ngIf",!t.is_directory)}}function pt(t,e){1&t&&(l.Zb(0,"span"),l.Sc(1,", "),l.Yb())}function gt(t,e){1&t&&(l.Zb(0,"span"),l.Sc(1,"..."),l.Yb())}function vt(t,e){if(1&t&&(l.Zb(0,"span"),l.Zb(1,"span"),l.Sc(2),l.mc(3,"translate"),l.Yb(),l.Qc(4,pt,2,0,"span",19),l.Qc(5,gt,2,0,"span",19),l.Yb()),2&t){const t=e.$implicit,i=e.last,c=l.lc(2).row;l.Gb(2),l.Tc(l.nc(3,3,t.getTitle())),l.Gb(2),l.tc("ngIf",!i),l.Gb(1),l.tc("ngIf",i&&c.access_groups.length>3)}}function St(t,e){if(1&t&&(l.Zb(0,"os-icon-container",53),l.Qc(1,vt,6,5,"span",41),l.mc(2,"slice"),l.Yb()),2&t){const t=l.lc().row;l.Gb(1),l.tc("ngForOf",l.pc(2,1,t.access_groups,0,3))}}function Yt(t,e){if(1&t){const t=l.ac();l.Zb(0,"div",51),l.hc("click",(function(){l.Ic(t);const i=e.row;return l.lc().onEditFile(i)})),l.Qc(1,St,3,5,"os-icon-container",52),l.Yb()}if(2&t){const t=e.row;l.Gb(1),l.tc("ngIf",t.access_groups.length)}}function Zt(t,e){1&t&&(l.Zb(0,"mat-icon",7),l.Sc(1,"text_fields"),l.Yb())}function yt(t,e){1&t&&(l.Zb(0,"mat-icon",7),l.Sc(1,"insert_photo"),l.Yb())}function Gt(t,e){if(1&t&&(l.Zb(0,"div",56),l.Qc(1,Zt,2,0,"mat-icon",57),l.Qc(2,yt,2,0,"mat-icon",57),l.Yb()),2&t){const t=l.lc().row,e=l.lc(),i=l.Ec(25);l.tc("matMenuTriggerFor",i)("matMenuTriggerData",l.zc(5,et,t))("matTooltip",e.formatIndicatorTooltip(t)),l.Gb(1),l.tc("ngIf",t.isFont()),l.Gb(1),l.tc("ngIf",t.isImage())}}function wt(t,e){if(1&t&&(l.Zb(0,"div",54),l.Qc(1,Gt,3,7,"div",55),l.Yb()),2&t){const t=e.row,i=l.lc();l.Gb(1),l.tc("ngIf",i.getFileSettings(t).length>0)}}function Tt(t,e){if(1&t&&(l.Zb(0,"button",59),l.Zb(1,"mat-icon"),l.Sc(2,"more_vert"),l.Yb(),l.Yb()),2&t){const t=l.lc().row,e=l.lc(),i=l.Ec(25);l.tc("matMenuTriggerFor",i)("matMenuTriggerData",l.zc(3,et,t))("disabled",e.isMultiSelect)}}function Mt(t,e){if(1&t&&(l.Zb(0,"div",54),l.Qc(1,Tt,3,5,"button",58),l.Yb()),2&t){const t=e.row,i=l.lc();l.Gb(1),l.tc("ngIf",i.showFileMenu(t))}}function kt(t,e){1&t&&(l.Zb(0,"div",60),l.Zb(1,"span"),l.Sc(2),l.mc(3,"translate"),l.Yb(),l.Yb()),2&t&&(l.Gb(2),l.Tc(l.nc(3,1,"No data")))}function It(t,e){if(1&t){const t=l.ac();l.Zb(0,"button",61),l.hc("click",(function(i){l.Ic(t);const c=e.mediafile,n=e.action;return l.lc().onManageButton(i,c,n)})),l.Zb(1,"mat-icon",62),l.Sc(2),l.Yb(),l.Zb(3,"span"),l.Sc(4),l.Yb(),l.Yb()}if(2&t){const t=e.mediafile,i=e.action,c=l.lc();l.Gb(2),l.Uc(" ",c.isUsedAs(t,i)?"check_box":"check_box_outline_blank"," "),l.Gb(2),l.Tc(c.getNameOfAction(i))}}function Ft(t,e){1&t&&l.Vb(0)}const Dt=function(t,e){return{mediafile:t,action:e}};function _t(t,e){if(1&t&&(l.Zb(0,"div"),l.Qc(1,Ft,1,0,"ng-container",65),l.Yb()),2&t){const t=e.$implicit,i=l.lc(3).mediafile;l.lc();const c=l.Ec(23);l.Gb(1),l.tc("ngTemplateOutlet",c)("ngTemplateOutletContext",l.Ac(2,Dt,i,t))}}function xt(t,e){if(1&t&&(l.Zb(0,"div"),l.Qc(1,_t,2,5,"div",41),l.Yb()),2&t){const t=l.lc(3);l.Gb(1),l.tc("ngForOf",t.logoActions)}}function Ct(t,e){1&t&&l.Vb(0)}function Et(t,e){if(1&t&&(l.Zb(0,"div"),l.Qc(1,Ct,1,0,"ng-container",65),l.Yb()),2&t){const t=e.$implicit,i=l.lc(3).mediafile;l.lc();const c=l.Ec(23);l.Gb(1),l.tc("ngTemplateOutlet",c)("ngTemplateOutletContext",l.Ac(2,Dt,i,t))}}function Qt(t,e){if(1&t&&(l.Zb(0,"div"),l.Qc(1,Et,2,5,"div",41),l.Yb()),2&t){const t=l.lc(3);l.Gb(1),l.tc("ngForOf",t.fontActions)}}function Ot(t,e){1&t&&l.Ub(0,"mat-divider")}function At(t,e){if(1&t&&(l.Zb(0,"div"),l.Qc(1,xt,2,1,"div",19),l.Qc(2,Qt,2,1,"div",19),l.Qc(3,Ot,1,0,"mat-divider",19),l.Yb()),2&t){const t=l.lc().mediafile;l.Gb(1),l.tc("ngIf",t.isImage()),l.Gb(1),l.tc("ngIf",t.isFont()),l.Gb(1),l.tc("ngIf",t.isFont()||t.isImage())}}function jt(t,e){if(1&t&&l.Ub(0,"os-projector-button",66),2&t){const t=l.lc().mediafile;l.tc("object",t)("menuItem",!0)}}function Pt(t,e){if(1&t){const t=l.ac();l.Zb(0,"div"),l.Zb(1,"button",61),l.hc("click",(function(){l.Ic(t);const e=l.lc().mediafile;return l.lc().onEditFile(e)})),l.Zb(2,"mat-icon"),l.Sc(3,"edit"),l.Yb(),l.Zb(4,"span"),l.Sc(5),l.mc(6,"translate"),l.Yb(),l.Yb(),l.Zb(7,"button",61),l.hc("click",(function(){l.Ic(t);const e=l.lc().mediafile,i=l.lc(),c=l.Ec(36);return i.move(c,[e])})),l.Zb(8,"mat-icon"),l.Sc(9,"near_me"),l.Yb(),l.Zb(10,"span"),l.Sc(11),l.mc(12,"translate"),l.Yb(),l.Yb(),l.Zb(13,"button",67),l.hc("click",(function(){l.Ic(t);const e=l.lc().mediafile;return l.lc().onDelete(e)})),l.Zb(14,"mat-icon"),l.Sc(15,"delete"),l.Yb(),l.Zb(16,"span"),l.Sc(17),l.mc(18,"translate"),l.Yb(),l.Yb(),l.Yb()}2&t&&(l.Gb(5),l.Tc(l.nc(6,3,"Edit")),l.Gb(6),l.Tc(l.nc(12,5,"Move")),l.Gb(6),l.Tc(l.nc(18,7,"Delete")))}function Nt(t,e){if(1&t&&(l.Qc(0,At,4,3,"div",63),l.Qc(1,jt,1,2,"os-projector-button",64),l.Qc(2,Pt,19,9,"div",19)),2&t){const t=e.mediafile,i=l.lc();l.tc("osPerms","core.can_manage_logos_and_fonts"),l.Gb(1),l.tc("ngIf",t.isProjectable()),l.Gb(1),l.tc("ngIf",i.canEdit)}}function Bt(t,e){if(1&t){const t=l.ac();l.Zb(0,"button",61),l.hc("click",(function(){return l.Ic(t),l.lc(2).toggleMultiSelect()})),l.Zb(1,"mat-icon"),l.Sc(2,"library_add"),l.Yb(),l.Zb(3,"span"),l.Sc(4),l.mc(5,"translate"),l.Yb(),l.Yb()}2&t&&(l.Gb(4),l.Tc(l.nc(5,1,"Multiselect")))}function Lt(t,e){1&t&&(l.Zb(0,"div"),l.Qc(1,Bt,6,3,"button",68),l.Yb()),2&t&&(l.Gb(1),l.tc("osPerms","mediafiles.can_manage"))}function Ut(t,e){if(1&t){const t=l.ac();l.Zb(0,"button",69),l.hc("click",(function(){return l.Ic(t),l.lc(2).deleteSelected()})),l.Zb(1,"mat-icon",71),l.Sc(2,"delete"),l.Yb(),l.Zb(3,"span"),l.Sc(4),l.mc(5,"translate"),l.Yb(),l.Yb()}if(2&t){const t=l.lc(2);l.tc("disabled",!t.selectedRows.length),l.Gb(4),l.Tc(l.nc(5,2,"Delete"))}}function Rt(t,e){if(1&t){const t=l.ac();l.Zb(0,"div"),l.Zb(1,"button",69),l.hc("click",(function(){l.Ic(t);const e=l.lc(),i=l.Ec(36);return e.move(i,e.selectedRows)})),l.Zb(2,"mat-icon"),l.Sc(3,"near_me"),l.Yb(),l.Zb(4,"span"),l.Sc(5),l.mc(6,"translate"),l.Yb(),l.Yb(),l.Ub(7,"mat-divider"),l.Zb(8,"button",61),l.hc("click",(function(){return l.Ic(t),l.lc().selectAll()})),l.Zb(9,"mat-icon"),l.Sc(10,"done_all"),l.Yb(),l.Zb(11,"span"),l.Sc(12),l.mc(13,"translate"),l.Yb(),l.Yb(),l.Zb(14,"button",69),l.hc("click",(function(){return l.Ic(t),l.lc().deselectAll()})),l.Zb(15,"mat-icon"),l.Sc(16,"clear"),l.Yb(),l.Zb(17,"span"),l.Sc(18),l.mc(19,"translate"),l.Yb(),l.Yb(),l.Ub(20,"mat-divider"),l.Qc(21,Ut,6,4,"button",70),l.Yb()}if(2&t){const t=l.lc();l.Gb(1),l.tc("disabled",!t.selectedRows.length),l.Gb(4),l.Tc(l.nc(6,6,"Move")),l.Gb(7),l.Tc(l.nc(13,8,"Select all")),l.Gb(2),l.tc("disabled",!t.selectedRows.length),l.Gb(4),l.Tc(l.nc(19,10,"Deselect all")),l.Gb(3),l.tc("osPerms","mediafiles.can_manage")}}function zt(t,e){1&t&&(l.Zb(0,"mat-error"),l.Sc(1),l.mc(2,"translate"),l.Yb()),2&t&&(l.Gb(1),l.Tc(l.nc(2,1,"Required")))}function Vt(t,e){if(1&t){const t=l.ac();l.Zb(0,"h1",72),l.Sc(1),l.mc(2,"translate"),l.Yb(),l.Zb(3,"div",73),l.Zb(4,"form",74),l.Zb(5,"mat-form-field"),l.Ub(6,"input",75),l.mc(7,"translate"),l.Qc(8,zt,3,3,"mat-error",19),l.Yb(),l.Zb(9,"mat-form-field"),l.Ub(10,"os-search-value-selector",76),l.mc(11,"translate"),l.Yb(),l.Yb(),l.Yb(),l.Zb(12,"div",77),l.Zb(13,"button",78),l.hc("click",(function(){l.Ic(t);const e=l.lc();return e.onSaveEditedFile(e.fileEditForm.value)})),l.Zb(14,"span"),l.Sc(15),l.mc(16,"translate"),l.Yb(),l.Yb(),l.Zb(17,"button",79),l.Zb(18,"span"),l.Sc(19),l.mc(20,"translate"),l.Yb(),l.Yb(),l.Yb()}if(2&t){const t=l.lc();l.Gb(1),l.Tc(l.nc(2,11,"Edit details for")),l.Gb(3),l.tc("formGroup",t.fileEditForm),l.Gb(2),l.uc("placeholder",l.nc(7,13,"New file name")),l.Gb(2),l.tc("ngIf",t.fileEditForm.invalid),l.Gb(2),l.uc("placeholder",l.nc(11,15,"Access groups")),l.tc("multiple",!0)("inputListValues",t.groupsBehaviorSubject),l.Gb(3),l.tc("disabled",!t.fileEditForm.valid),l.Gb(2),l.Tc(l.nc(16,17,"Save")),l.Gb(2),l.tc("mat-dialog-close",null),l.Gb(2),l.Tc(l.nc(20,19,"Cancel"))}}function qt(t,e){if(1&t&&(l.Zb(0,"h1",72),l.Sc(1),l.mc(2,"translate"),l.Yb(),l.Zb(3,"div",73),l.Zb(4,"form",74),l.Zb(5,"p"),l.Sc(6),l.mc(7,"translate"),l.Yb(),l.Zb(8,"mat-form-field"),l.Ub(9,"input",80),l.mc(10,"translate"),l.Yb(),l.Zb(11,"mat-form-field"),l.Ub(12,"os-search-value-selector",76),l.mc(13,"translate"),l.Yb(),l.Yb(),l.Yb(),l.Zb(14,"div",77),l.Zb(15,"button",81),l.Zb(16,"span"),l.Sc(17),l.mc(18,"translate"),l.Yb(),l.Yb(),l.Zb(19,"button",79),l.Zb(20,"span"),l.Sc(21),l.mc(22,"translate"),l.Yb(),l.Yb(),l.Yb()),2&t){const t=l.lc();l.Gb(1),l.Tc(l.nc(2,12,"New directory")),l.Gb(3),l.tc("formGroup",t.newDirectoryForm),l.Gb(2),l.Tc(l.nc(7,14,"Please enter a name for the new directory:")),l.Gb(3),l.uc("placeholder",l.nc(10,16,"Title")),l.Gb(3),l.uc("placeholder",l.nc(13,18,"Access groups")),l.tc("multiple",!0)("inputListValues",t.groupsBehaviorSubject),l.Gb(3),l.tc("disabled",!t.newDirectoryForm.valid)("mat-dialog-close",!0),l.Gb(2),l.Tc(l.nc(18,20,"Save")),l.Gb(2),l.tc("mat-dialog-close",null),l.Gb(2),l.Tc(l.nc(22,22,"Cancel"))}}function $t(t,e){if(1&t&&(l.Zb(0,"h1",72),l.Zb(1,"span"),l.Sc(2),l.mc(3,"translate"),l.Yb(),l.Yb(),l.Zb(4,"div",82),l.Zb(5,"p"),l.Sc(6),l.mc(7,"translate"),l.Yb(),l.Zb(8,"mat-form-field"),l.Ub(9,"os-search-value-selector",83),l.mc(10,"translate"),l.Yb(),l.Yb(),l.Zb(11,"div",77),l.Zb(12,"button",84),l.Zb(13,"span"),l.Sc(14),l.mc(15,"translate"),l.Yb(),l.Yb(),l.Zb(16,"button",79),l.Zb(17,"span"),l.Sc(18),l.mc(19,"translate"),l.Yb(),l.Yb(),l.Yb()),2&t){const t=l.lc();l.Gb(2),l.Tc(l.nc(3,11,"Move into directory")),l.Gb(2),l.tc("formGroup",t.moveForm),l.Gb(2),l.Tc(l.nc(7,13,"Please select the directory:")),l.Gb(3),l.uc("placeholder",l.nc(10,15,"Parent directory")),l.tc("includeNone",!0)("noneTitle","Base folder")("inputListValues",t.filteredDirectoryBehaviorSubject),l.Gb(3),l.tc("mat-dialog-close",!0),l.Gb(2),l.Tc(l.nc(15,17,"Move")),l.Gb(2),l.tc("mat-dialog-close",null),l.Gb(2),l.Tc(l.nc(19,19,"Cancel"))}}const Wt=[{path:"",redirectTo:"files",pathMatch:"full"},{path:"files",children:[{path:"**",component:(()=>{class t extends C.a{constructor(t,e,i,c,n,o,a,r,l,s,b,d,u,f,m,h,p){super(t,e,i,c),this.translate=e,this.route=n,this.router=o,this.repo=a,this.mediaManage=r,this.promptService=l,this.vp=s,this.sortService=b,this.operator=d,this.dialog=u,this.fb=f,this.formBuilder=m,this.groupRepo=h,this.cd=p,this.filteredDirectoryBehaviorSubject=new y.a([]),this.tableColumnDefinition=[{prop:"selection",width:"40px"},{prop:"icon",label:"",width:"40px"},{prop:"title",width:"auto",minWidth:60},{prop:"info",width:"20%",minWidth:60},{prop:"indicator",label:"",width:"40px"},{prop:"menu",label:"",width:"40px"}],this.columnSet=Object(Z.p)().table(...this.tableColumnDefinition).build(),this.directoryObservable=new G.a,this.canMultiSelect=!0,this.newDirectoryForm=this.formBuilder.group({title:["",Y.G.required],access_groups_id:[]}),this.moveForm=this.formBuilder.group({directory_id:[]}),this.directoryBehaviorSubject=this.repo.getDirectoryBehaviorSubject(),this.groupsBehaviorSubject=this.groupRepo.getViewModelListBehaviorSubject()}get canEdit(){return this.operator.hasPerms(o.b.mediafilesCanManage)}get canAccessFileMenu(){return this.operator.hasPerms(o.b.coreCanManageProjector)||this.operator.hasPerms(o.b.agendaCanSeeListOfSpeakers)||this.operator.hasPerms(o.b.coreCanManageLogosAndFonts)||this.canEdit}get hiddenColumns(){const t=[];return this.canEdit||t.push("info"),this.isMultiSelect||t.push("selection"),this.canAccessFileMenu||t.push("menu"),t}ngOnInit(){super.setTitle("Files"),this.repo.getDirectoryIdByPath(this.route.snapshot.url.map(t=>t.path)).then(t=>{this.changeDirectory(t)}),this.mediaManage.getLogoActions().subscribe(t=>{this.logoActions=t}),this.mediaManage.getFontActions().subscribe(t=>{this.fontActions=t}),this.createDataSource()}ngOnDestroy(){super.ngOnDestroy(),this.clearSubscriptions(),this.cd.detach()}showFileMenu(t){return t.isProjectable()&&this.operator.hasPerms(o.b.coreCanManageProjector)||t.isFont()&&this.operator.hasPerms(o.b.coreCanManageLogosAndFonts)||t.isImage()&&this.operator.hasPerms(o.b.coreCanManageLogosAndFonts)||this.canEdit}getDateFromTimestamp(t){return new Date(t).toLocaleString(this.translate.currentLang)}createDataSource(){this.dataSource=Object(Z.q)().onTrigger(()=>this.directoryObservable).create(),this.dataSource.selection.changed.subscribe(t=>{this.selectedRows=t.source.selected})}changeDirectory(t){this.clearSubscriptions(),this.directoryObservable=this.repo.getListObservableDirectory(t),this.folderSubscription=this.directoryObservable.subscribe(t=>{t&&(this.dataSource.refresh(),this.cd.markForCheck())}),t?this.directorySubscription=this.repo.getViewModelObservable(t).subscribe(t=>{this.directory=t,t?(this.directoryChain=t.getDirectoryChain(),this.router.navigate(["/mediafiles/files/"+t.path],{replaceUrl:!0})):(this.directoryChain=[],this.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))}):(this.directory=null,this.directoryChain=[],this.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))}onMainEvent(){this.router.navigate(["/mediafiles/upload/"+(this.directory?this.directory.path:"")])}onEditFile(t){this.isMultiSelect||(this.fileToEdit=t,this.fileEditForm=this.fb.group({title:[t.filename,Y.G.required],access_groups_id:[t.access_groups_id]}),this.dialogRef=this.dialog.open(this.fileEditDialog,x.a),this.dialogRef.keydownEvents().subscribe(t=>{"Enter"===t.key&&t.shiftKey&&this.fileEditForm.valid&&this.onSaveEditedFile(this.fileEditForm.value)}))}onSaveEditedFile(t){this.repo.update(t,this.fileToEdit).then(()=>{this.dialogRef.close()},this.raiseError)}onDelete(t){return Object(S.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to delete this file?"),i=t.getTitle();(yield this.promptService.open(e,i))&&this.repo.delete(t)}))}deleteSelected(){return Object(S.a)(this,void 0,void 0,(function*(){const t=this.translate.instant("Are you sure you want to delete all selected files and folders?");(yield this.promptService.open(t))&&(yield this.repo.bulkDelete(this.selectedRows),this.deselectAll())}))}getNameOfAction(t){return this.translate.instant(this.mediaManage.getMediaConfig(t).display_name)}formatIndicatorTooltip(t){return this.getFileSettings(t).map(t=>this.getNameOfAction(t)).join("\n")}isUsedAs(t,e){const i=this.mediaManage.getMediaConfig(e);return!!i&&i.path===t.url}getFileSettings(t){let e=[];return t&&(t.isFont()?e=this.fontActions.filter(e=>this.isUsedAs(t,e)):t.isImage()&&(e=this.logoActions.filter(e=>this.isUsedAs(t,e)))),e}onManageButton(t,e,i){t.stopPropagation(),this.mediaManage.setAs(e,i).then(()=>{this.cd.markForCheck()})}createNewFolder(t){this.newDirectoryForm.reset(),this.dialog.open(t,x.a).afterClosed().subscribe(t=>{if(t){const t=new _.a(Object.assign(Object.assign({},this.newDirectoryForm.value),{parent_id:this.directory?this.directory.id:null,is_directory:!0}));this.repo.create(t).catch(this.raiseError)}})}move(t,e){this.moveForm.reset(),e.some(t=>t.is_directory)?this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value.filter(t=>!e.some(e=>t.path.startsWith(e.path)))):this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value),this.dialog.open(t,x.a).afterClosed().subscribe(t=>{t&&this.repo.move(e,this.moveForm.value.directory_id).then(()=>{this.dataSource.selection.clear(),this.cd.markForCheck()},this.raiseError)})}onSelectRow(t){if(this.isMultiSelect){const e=t.row;this.dataSource.selection.isSelected(e)?this.dataSource.selection.deselect(e):this.dataSource.selection.select(e)}}clearSubscriptions(){this.folderSubscription&&(this.folderSubscription.unsubscribe(),this.folderSubscription=null),this.directorySubscription&&(this.directorySubscription.unsubscribe(),this.directorySubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(l.Tb(s.d),l.Tb(b.k),l.Tb(d.a),l.Tb(w.a),l.Tb(n.a),l.Tb(n.f),l.Tb(a.a),l.Tb(I),l.Tb(F.a),l.Tb(D.a),l.Tb(O),l.Tb(o.a),l.Tb(A.b),l.Tb(Y.f),l.Tb(Y.f),l.Tb(T.a),l.Tb(l.h))},t.\u0275cmp=l.Nb({type:t,selectors:[["os-mediafile-list"]],viewQuery:function(t,e){var i;1&t&&(l.Oc(W,!0),l.Oc(K,!0)),2&t&&(l.Dc(i=l.ic())&&(e.fileEditForm=i.first),l.Dc(i=l.ic())&&(e.fileEditDialog=i.first))},features:[l.Db],decls:37,vars:20,consts:[[3,"hasMainButton","multiSelectMode","mainEvent"],[1,"title-slot"],["class","menu-slot",4,"osPerms"],["class","central-info-slot",4,"ngIf"],[1,"custom-table-header"],[1,"folder-nav-bar","h-scroller"],["mat-button","",1,"folder",3,"disabled","click"],[1,"file-icon"],["class","folder-section",4,"ngFor","ngForOf"],["class","visibility",4,"ngIf"],["showHeader","false","vScrollAuto","","matCheckboxSelection","selection",1,"file-manager-table",3,"dataSource","columns","hideColumns","rowClick"],["class","fill clickable",4,"pblNgridCellDef"],["class","fill clickable",3,"click",4,"pblNgridCellDef"],["class","fill",4,"pblNgridCellDef"],["class","pbl-ngrid-no-data",4,"pblNgridNoDataRef"],["manageButton",""],["singleMediafileMenu","matMenu"],["matMenuContent",""],["mediafilesMenu","matMenu"],[4,"ngIf"],["fileEditDialog",""],["newFolderDialog",""],["moveDialog",""],[1,"menu-slot"],["type","button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[1,"central-info-slot"],["mat-icon-button","",3,"click"],[1,"folder-section"],[1,"arrow"],["class","folder","mat-button","",3,"disabled","click",4,"ngIf"],["class","folder","mat-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["class","folder fake-folder folder-text",4,"ngIf"],[1,"folder-text"],["mat-button","",1,"folder",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],["icon","arrow_drop_down","swap","true","size","large",3,"noWrap"],[1,"folder","fake-folder","folder-text"],[1,"visibility"],["mat-button","",1,"visible-for",3,"click"],["icon","group",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"fill","clickable"],["class","detail-link","target","_blank",3,"routerLink",4,"ngIf"],["class","detail-link",3,"click",4,"ngIf"],["target","_blank",1,"detail-link",3,"routerLink"],[1,"detail-link",3,"click"],[1,"innerTable"],[1,"file-title","ellipsis-overflow"],["class","info-text",4,"ngIf"],[1,"info-text"],[1,"fill","clickable",3,"click"],["icon","group",4,"ngIf"],["icon","group"],[1,"fill"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip",4,"ngIf"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip"],["class","file-icon",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],[1,"pbl-ngrid-no-data"],["mat-menu-item","",3,"click"],["color","accent"],[4,"osPerms"],[3,"object","menuItem",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"object","menuItem"],["mat-menu-item","",1,"red-warning-text",3,"click"],["mat-menu-item","",3,"click",4,"osPerms"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"disabled","click",4,"osPerms"],["color","warn"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[1,"edit-file-form",3,"formGroup"],["type","text","matInput","","osAutofocus","","required","","formControlName","title",3,"placeholder"],["formControlName","access_groups_id",3,"multiple","placeholder","inputListValues"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","button","mat-button","",3,"mat-dialog-close"],["matInput","","osAutofocus","","formControlName","title","required","",3,"placeholder"],["type","submit","mat-button","","color","accent",3,"disabled","mat-dialog-close"],["mat-dialog-content","",1,"os-form-card-mobile",3,"formGroup"],["formControlName","directory_id",3,"includeNone","noneTitle","placeholder","inputListValues"],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"]],template:function(t,e){1&t&&(l.Zb(0,"os-head-bar",0),l.hc("mainEvent",(function(){return e.onMainEvent()})),l.Zb(1,"div",1),l.Zb(2,"h2"),l.Sc(3),l.mc(4,"translate"),l.Yb(),l.Yb(),l.Qc(5,H,5,2,"div",2),l.Qc(6,J,9,4,"div",3),l.Yb(),l.Zb(7,"div"),l.Zb(8,"div",4),l.Zb(9,"span",5),l.Zb(10,"button",6),l.hc("click",(function(){return e.changeDirectory(null)})),l.Zb(11,"mat-icon",7),l.Sc(12,"home"),l.Yb(),l.Yb(),l.Qc(13,nt,7,3,"span",8),l.Yb(),l.Qc(14,lt,6,8,"span",9),l.Yb(),l.Yb(),l.Zb(15,"pbl-ngrid",10),l.hc("rowClick",(function(t){return e.onSelectRow(t)})),l.Qc(16,dt,5,3,"div",11),l.Qc(17,ht,7,4,"div",11),l.Qc(18,Yt,2,1,"div",12),l.Qc(19,wt,2,1,"div",13),l.Qc(20,Mt,2,1,"div",13),l.Qc(21,kt,4,3,"div",14),l.Yb(),l.Qc(22,It,5,2,"ng-template",null,15,l.Rc),l.Zb(24,"mat-menu",null,16),l.Qc(26,Nt,3,3,"ng-template",17),l.Yb(),l.Zb(27,"mat-menu",null,18),l.Qc(29,Lt,2,1,"div",19),l.Qc(30,Rt,22,12,"div",19),l.Yb(),l.Qc(31,Vt,21,21,"ng-template",null,20,l.Rc),l.Qc(33,qt,23,24,"ng-template",null,21,l.Rc),l.Qc(35,$t,20,21,"ng-template",null,22,l.Rc)),2&t&&(l.tc("hasMainButton",e.canEdit)("multiSelectMode",e.isMultiSelect),l.Gb(3),l.Tc(l.nc(4,18,"Files")),l.Gb(2),l.tc("osPerms","mediafiles.can_manage"),l.Gb(1),l.tc("ngIf",e.isMultiSelect),l.Gb(4),l.tc("disabled",e.isMultiSelect),l.Gb(3),l.tc("ngForOf",e.directoryChain),l.Gb(1),l.tc("ngIf",e.canEdit&&e.directory&&e.directory.has_inherited_access_groups),l.Gb(1),l.tc("dataSource",e.dataSource)("columns",e.columnSet)("hideColumns",e.hiddenColumns),l.Gb(1),l.tc("pblNgridCellDef","icon"),l.Gb(1),l.tc("pblNgridCellDef","title"),l.Gb(1),l.tc("pblNgridCellDef","info"),l.Gb(1),l.tc("pblNgridCellDef","indicator"),l.Gb(1),l.tc("pblNgridCellDef","menu"),l.Gb(9),l.tc("ngIf",!e.isMultiSelect),l.Gb(1),l.tc("ngIf",e.isMultiSelect))},directives:[u.a,j.a,c.t,f.b,h.a,c.s,Z.e,Z.A,P.b,N.b,Z.c,Z.l,m.f,m.b,m.e,B.a,L.c,n.i,m.c,c.A,U.a,R.a,A.i,A.f,Y.I,Y.t,Y.k,z.c,V.b,Y.c,q.a,Y.D,Y.s,Y.i,$.a,A.c,A.d,z.b],pipes:[b.j,c.E],styles:[".title-line{font-weight:500;font-size:16px}.title-line .icon-prefix .mat-icon{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line .favorite-star{padding-right:3px}.mat-table{width:100%}.mat-table .mat-header-row .mat-column-anchor{display:none}.mat-table .mat-row{position:relative}.mat-table .mat-row .mat-column-anchor{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table .mat-row .mat-column-anchor a{display:block;height:100%;width:100%}.mat-table .mat-cell{position:relative}.mat-table .mat-cell .fill{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table .mat-cell .fill *{margin-top:auto;margin-bottom:auto}.mat-table .mat-cell>*{z-index:2}.mat-table .mat-table-sticky{z-index:3!important}.folder-nav-bar{width:100%}.folder-nav-bar,.folder-section{display:-ms-flexbox;display:flex}.folder-section{white-space:nowrap}.folder-section .mat-button{padding:0}.arrow{height:64px}.arrow .mat-icon{line-height:64px;height:64px}.folder{height:64px}.folder>.content-node{white-space:nowrap}.fake-folder{padding:0 16px}.folder-text{font-size:16px;font-weight:500;margin:auto 5px;overflow:hidden}.visibility{display:-ms-flexbox;display:flex}.visibility .visible-for{width:-webkit-min-content;width:-moz-min-content;width:min-content}.file-manager-table{display:block;height:calc(100vh - 130px)}.file-manager-table .file-title{font-weight:500;font-size:16px}.file-manager-table .info-text{font-size:90%}.file-manager-table .pbl-ngrid-row,.file-manager-table .pbl-ngrid-row .pbl-ngrid-cell{height:60px!important}.file-manager-table .pbl-ngrid-row:last-of-type{margin-bottom:60px!important}"],encapsulation:2,changeDetection:0}),t})()}],pathMatch:"prefix"},{path:"upload",data:{basePerm:o.b.mediafilesCanManage},children:[{path:"**",component:v}],pathMatch:"prefix"}];let Kt=(()=>{class t{}return t.\u0275mod=l.Rb({type:t}),t.\u0275inj=l.Qb({factory:function(e){return new(e||t)},imports:[[n.j.forChild(Wt)],n.j]}),t})();var Xt=i("PCNd");let Ht=(()=>{class t{}return t.\u0275mod=l.Rb({type:t}),t.\u0275inj=l.Qb({factory:function(e){return new(e||t)},imports:[[c.c,Kt,Xt.a]]}),t})()},F48D:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var c=i("mrSG"),n=i("LBBb"),o=i("fXoL"),a=i("0IaG");let r=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(c.a)(this,void 0,void 0,(function*(){return this.dialog.open(n.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(o.dc(a.b))},t.\u0275prov=o.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},LBBb:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var c=i("0IaG"),n=i("fXoL"),o=i("ofXK"),a=i("bTqV"),r=i("sYmb");function l(t,e){if(1&t&&(n.Zb(0,"div"),n.Zb(1,"h2",1),n.Sc(2),n.Yb(),n.Ub(3,"mat-dialog-content",2),n.Zb(4,"mat-dialog-actions"),n.Zb(5,"button",3),n.Sc(6),n.mc(7,"translate"),n.Yb(),n.Zb(8,"button",4),n.Sc(9),n.mc(10,"translate"),n.Yb(),n.Yb(),n.Yb()),2&t){const t=n.lc();n.Gb(2),n.Tc(t.data.title),n.Gb(1),n.tc("innerHTML",t.data.content,n.Jc),n.Gb(2),n.tc("mat-dialog-close",!0),n.Gb(1),n.Tc(n.nc(7,6,"Yes")),n.Gb(2),n.tc("mat-dialog-close",!1),n.Gb(1),n.Tc(n.nc(10,8,"Cancel"))}}let s=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(n.Tb(c.h),n.Tb(c.a))},t.\u0275cmp=n.Nb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&n.Qc(0,l,11,10,"div",0),2&t&&n.tc("ngIf",e.data)},directives:[o.t,c.i,c.f,c.c,a.b,c.d],pipes:[r.j],encapsulation:2}),t})()},wL0i:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var c=i("mV3u");class n extends c.a{constructor(t,e,i,c){super(t,e,i),this.storage=c,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth="40px",this.badgeButtonWidth="45px",this.selectedRows=[]}onDataSourceChange(t){this.dataSource=t}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);