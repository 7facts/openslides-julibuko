{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3,36],{Ei9z:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+\"0-es2015.9178705933b2fb5c7167.worker.js\"},F48D:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return PromptService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_shared_components_prompt_dialog_prompt_dialog_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"LBBb\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"fXoL\"),_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"0IaG\");let PromptService=(()=>{class PromptService{constructor(dialog){this.dialog=dialog}open(title,content=\"\"){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return this.dialog.open(_shared_components_prompt_dialog_prompt_dialog_component__WEBPACK_IMPORTED_MODULE_1__.a,{width:\"250px\",data:{title:title,content:content}}).afterClosed().toPromise()}))}}return PromptService.ɵfac=function(t){return new(t||PromptService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.dc(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__.b))},PromptService.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Pb({token:PromptService,factory:PromptService.ɵfac,providedIn:\"root\"}),PromptService})()},Iab2:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=\"function\"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){\"use strict\";function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");j.download=g=g||b.name||\"download\",j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout((function(){i.revokeObjectURL(j.href)}),4e4),setTimeout((function(){e(j)}),0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(function(a,b){return void 0===b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\ufeff\",a],{type:a.type}):a}(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout((function(){e(i)}))}}:function(b,d,e,g){if((g=g||open(\"\",\"_blank\"))&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout((function(){l.revokeObjectURL(m)}),4e4)}});f.saveAs=g.saveAs=g,module.exports=g})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,[]):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},LBBb:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return PromptDialogComponent}));var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"0IaG\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"fXoL\"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"ofXK\"),_angular_material_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"bTqV\"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"sYmb\");function PromptDialogComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"div\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(1,\"h2\",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Sc(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Ub(3,\"mat-dialog-content\",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(4,\"mat-dialog-actions\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(5,\"button\",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Sc(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.mc(7,\"translate\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(8,\"button\",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Sc(9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.mc(10,\"translate\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc();_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tc(ctx_r0.data.title),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"innerHTML\",ctx_r0.data.content,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Jc),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"mat-dialog-close\",!0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tc(_angular_core__WEBPACK_IMPORTED_MODULE_1__.nc(7,6,\"Yes\")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"mat-dialog-close\",!1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tc(_angular_core__WEBPACK_IMPORTED_MODULE_1__.nc(10,8,\"Cancel\"))}}let PromptDialogComponent=(()=>{class PromptDialogComponent{constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data}}return PromptDialogComponent.ɵfac=function(t){return new(t||PromptDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.h),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.a))},PromptDialogComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Nb({type:PromptDialogComponent,selectors:[[\"os-prompt-dialog\"]],decls:1,vars:1,consts:[[4,\"ngIf\"],[\"mat-dialog-title\",\"\"],[3,\"innerHTML\"],[\"mat-button\",\"\",\"color\",\"warn\",3,\"mat-dialog-close\"],[\"mat-button\",\"\",3,\"mat-dialog-close\"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(0,PromptDialogComponent_div_0_Template,11,10,\"div\",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"ngIf\",ctx.data)},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.t,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.i,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.f,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.c,_angular_material_button__WEBPACK_IMPORTED_MODULE_3__.b,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.d],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__.j],encapsulation:2}),PromptDialogComponent})()},a9GI:function(module,__webpack_exports__,__webpack_require__){\"use strict\";(function(__webpack__worker__0){__webpack_require__.d(__webpack_exports__,\"d\",(function(){return StyleType})),__webpack_require__.d(__webpack_exports__,\"a\",(function(){return BorderType})),__webpack_require__.d(__webpack_exports__,\"c\",(function(){return PdfError})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return PdfDocumentService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_angular_common_http__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"tk/3\"),file_saver__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"Iab2\"),app_shared_components_progress_snack_bar_progress_snack_bar_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"Y3lY\"),_ui_services_config_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"+KbT\"),_core_services_http_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"Hila\"),_ui_services_progress_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"x4ls\"),_angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"fXoL\"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(\"sYmb\"),_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(\"dNgK\"),StyleType=function(StyleType){return StyleType.DEFAULT=\"tocEntry\",StyleType.SUBTITLE=\"subtitle\",StyleType.SUB_ENTRY=\"tocSubEntry\",StyleType.CATEGORY_SECTION=\"tocCategorySection\",StyleType}({}),BorderType=function(BorderType){return BorderType.DEFAULT=\"noBorders\",BorderType.LIGHT_HORIZONTAL_LINES=\"lightHorizontalLines\",BorderType.HEADER_ONLY=\"headerLineOnly\",BorderType}({});class PdfError extends Error{constructor(message){super(message),this.message=message;const trueProto=new.target.prototype;this.__proto__=trueProto}}let PdfDocumentService=(()=>{class PdfDocumentService{constructor(translate,configService,httpService,matSnackBar,progressService){this.translate=translate,this.configService=configService,this.httpService=httpService,this.matSnackBar=matSnackBar,this.progressService=progressService,this.imageUrls=[]}initVfs(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){const promises=Array.from(new Set(this.configService.instant(\"fonts_available\").map(available=>this.configService.instant(available)).map(font=>font.path||\"/\"+font.default))).map(fontPath=>this.convertUrlToBase64(fontPath).then(base64=>({[fontPath.split(\"/\").pop()]:base64}))),binaryDataUrls=yield Promise.all(promises);let vfs={};return binaryDataUrls.map(entry=>{vfs=Object.assign(Object.assign({},vfs),entry)}),vfs}))}convertUrlToBase64(url){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return new Promise((resolve,reject)=>{const headers=new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__.e;this.httpService.get(url,{},{},headers,\"blob\").then(file=>{const reader=new FileReader;reader.readAsDataURL(file),reader.onload=()=>{resolve(reader.result.split(\",\")[1])},reader.onerror=error=>{reject(error)}})})}))}getFontName(fontType){const font=this.configService.instant(fontType);return(font.path||\"/\"+font.default).split(\"/\").pop()}getStandardPaper(documentContent,metadata,exportInfo,imageUrls,customMargins,landscape){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){this.imageUrls=imageUrls||[];const pageSize=this.configService.instant(\"general_export_pdf_pagesize\");return{pageSize:pageSize||\"A4\",pageOrientation:landscape?\"landscape\":\"portrait\",pageMargins:customMargins||(\"A5\"===pageSize?[45,30,45,45]:[75,90,75,75]),defaultStyle:{font:\"PdfFont\",fontSize:this.configService.instant(\"general_export_pdf_fontsize\")},header:this.getHeader(customMargins?[customMargins[0],customMargins[2]]:null),tmpfooter:this.getFooter(customMargins?[customMargins[0],customMargins[2]]:null,exportInfo),info:metadata,content:documentContent,styles:this.getStandardPaperStyles()}}))}getBallotPaper(documentContent,imageUrl){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return this.imageUrls=imageUrl?[imageUrl]:[],{pageSize:\"A4\",pageMargins:[0,0,0,0],defaultStyle:{font:\"PdfFont\",fontSize:10},content:documentContent,styles:this.getBlankPaperStyles()}}))}getPdfFonts(){return{normal:this.getFontName(\"font_regular\"),bold:this.getFontName(\"font_bold\"),italics:this.getFontName(\"font_italic\"),bolditalics:this.getFontName(\"font_bold_italic\")}}getHeader(lrMargin){let text,logoHeaderLeftUrl=this.configService.instant(\"logo_pdf_header_L\").path,logoHeaderRightUrl=this.configService.instant(\"logo_pdf_header_R\").path;const columns=[];return logoHeaderLeftUrl&&(0===logoHeaderLeftUrl.indexOf(\"/\")&&(logoHeaderLeftUrl=logoHeaderLeftUrl.substr(1)),columns.push({image:logoHeaderLeftUrl,fit:[180,40],width:\"20%\"}),this.imageUrls.push(logoHeaderLeftUrl)),text=logoHeaderLeftUrl&&logoHeaderRightUrl?\"\":[[this.translate.instant(this.configService.instant(\"general_event_name\")),this.translate.instant(this.configService.instant(\"general_event_description\"))].filter(Boolean).join(\" - \"),[this.configService.instant(\"general_event_location\"),this.configService.instant(\"general_event_date\")].filter(Boolean).join(\", \")].join(\"\\n\"),columns.push({text:text,style:\"headerText\",alignment:logoHeaderRightUrl?\"left\":\"right\"}),logoHeaderRightUrl&&(0===logoHeaderRightUrl.indexOf(\"/\")&&(logoHeaderRightUrl=logoHeaderRightUrl.substr(1)),columns.push({image:logoHeaderRightUrl,fit:[180,40],alignment:\"right\",width:\"20%\"}),this.imageUrls.push(logoHeaderRightUrl)),{color:\"#555\",fontSize:9,margin:[lrMargin?lrMargin[0]:75,30,lrMargin?lrMargin[0]:75,10],columns:columns,columnGap:10}}getFooter(lrMargin,exportInfo){const columns=[],showPageNr=!exportInfo||!exportInfo.pdfOptions||exportInfo.pdfOptions.includes(\"page\"),showDate=!(!exportInfo||!exportInfo.pdfOptions)&&exportInfo.pdfOptions.includes(\"date\");let logoContainerWidth,pageNumberPosition,logoContainerSize;const logoFooterLeftUrl=this.configService.instant(\"logo_pdf_footer_L\").path,logoFooterRightUrl=this.configService.instant(\"logo_pdf_footer_R\").path;let footerPageNumber=\"\";showPageNr&&(footerPageNumber+=\"%PAGENR%\");let footerDate={};return showDate&&(footerDate={text:`${this.translate.instant(\"As of\")}: ${(new Date).toLocaleDateString(this.translate.currentLang)}`,fontSize:6}),logoFooterLeftUrl&&logoFooterRightUrl?(logoContainerWidth=\"20%\",logoContainerSize=[180,40]):(logoContainerWidth=\"80%\",logoContainerSize=[400,50]),pageNumberPosition=logoFooterLeftUrl&&logoFooterRightUrl?\"center\":logoFooterLeftUrl&&!logoFooterRightUrl?\"right\":logoFooterRightUrl&&!logoFooterLeftUrl?\"left\":this.configService.instant(\"general_export_pdf_pagenumber_alignment\"),logoFooterLeftUrl&&(columns.push({image:logoFooterLeftUrl,fit:logoContainerSize,width:logoContainerWidth,alignment:\"left\"}),this.imageUrls.push(logoFooterLeftUrl)),columns.push({stack:[footerPageNumber,footerDate],style:\"footerPageNumber\",alignment:pageNumberPosition}),logoFooterRightUrl&&(columns.push({image:logoFooterRightUrl,fit:logoContainerSize,width:logoContainerWidth,alignment:\"right\"}),this.imageUrls.push(logoFooterRightUrl)),{margin:[lrMargin?lrMargin[0]:75,0,lrMargin?lrMargin[0]:75,10],columns:columns,columnGap:10}}showProgress(){this.matSnackBar.openFromComponent(app_shared_components_progress_snack_bar_progress_snack_bar_component__WEBPACK_IMPORTED_MODULE_3__.a,{duration:0}).onAction().subscribe(()=>{this.cancelPdfCreation()}),this.progressService.message=this.translate.instant(\"Creating PDF file ...\"),this.progressService.progressMode=\"determinate\"}download(docDefinition,filename,metadata,exportInfo){this.showProgress(),this.getStandardPaper(docDefinition,metadata,exportInfo).then(doc=>{this.createPdf(doc,filename)})}downloadLandscape(docDefinition,filename,metadata){this.showProgress(),this.getStandardPaper(docDefinition,metadata,null,null,[50,80,50,75],!0).then(doc=>{this.createPdf(doc,filename)})}downloadWithBallotPaper(docDefinition,filename,logo){this.showProgress(),this.getBallotPaper(docDefinition,logo).then(doc=>{this.createPdf(doc,filename)})}createPdf(doc,filetitle){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){const filename=filetitle+\".pdf\",fonts=this.getPdfFonts(),vfs=yield this.initVfs();yield this.loadAllImages(vfs);const isIE=/msie\\s|trident\\//i.test(window.navigator.userAgent);\"undefined\"==typeof Worker||isIE?(this.matSnackBar.dismiss(),this.matSnackBar.open(this.translate.instant(\"Cannot create PDF files on this browser.\"),\"\",{duration:0})):(this.pdfWorker=new Worker(__webpack__worker__0,void 0),this.pdfWorker.onmessage=({data:data})=>{if(\"number\"==typeof data){const progress=Math.ceil(100*data);this.progressService.progressAmount=progress}\"object\"==typeof data&&(this.matSnackBar.dismiss(),Object(file_saver__WEBPACK_IMPORTED_MODULE_2__.saveAs)(data,filename,{autoBOM:!0}),this.pdfWorker=null)},this.pdfWorker.postMessage({doc:JSON.parse(JSON.stringify(doc)),fonts:fonts,vfs:vfs}))}))}cancelPdfCreation(){this.pdfWorker&&(this.pdfWorker.terminate(),this.pdfWorker=null)}getStandardPaperStyles(){const pageSize=this.configService.instant(\"general_export_pdf_pagesize\");return{title:{fontSize:\"A5\"===pageSize?14:16,margin:[0,0,0,20],bold:!0},subtitle:{fontSize:9,margin:[0,-20,0,20],color:\"grey\"},preamble:{margin:[0,0,0,10]},headerText:{fontSize:10,margin:[0,10,0,0]},footerPageNumber:{fontSize:8,margin:[0,15,0,0],color:\"#555\"},boldText:{bold:!0},smallText:{fontSize:8},heading2:{fontSize:\"A5\"===pageSize?12:14,margin:[0,0,0,10],bold:!0},heading3:{fontSize:\"A5\"===pageSize?10:12,margin:[0,10,0,0],bold:!0},userDataHeading:{fontSize:14,margin:[0,10],bold:!0},userDataTopic:{fontSize:12,margin:[0,5]},userDataValue:{fontSize:12,margin:[15,5]},tocEntry:{fontSize:\"A5\"===pageSize?10:11,margin:[0,0,0,0],bold:!1},tocHeaderRow:{fontSize:7},tocSubEntry:{fontSize:\"A5\"===pageSize?9:10,color:\"#404040\"},tocCategoryEntry:{fontSize:\"A5\"===pageSize?10:11,margin:[10,0,0,0],bold:!1},tocCategoryTitle:{fontSize:\"A5\"===pageSize?10:11,margin:[0,0,0,4],bold:!0},tocSubcategoryTitle:{fontSize:\"A5\"===pageSize?9:10,margin:[0,0,0,4],bold:!0},tocCategorySection:{margin:[0,0,0,10]},userDataTitle:{fontSize:26,margin:[0,0,0,0],bold:!0},tableHeader:{bold:!0,fillColor:\"white\"},listParent:{fontSize:14,margin:[0,5]},listChild:{fontSize:12,margin:[0,5]},textItem:{fontSize:11,margin:[0,7]}}}getBlankPaperStyles(){return{title:{fontSize:14,bold:!0,margin:[30,30,0,0]},description:{fontSize:11,margin:[30,0,0,0]}}}loadAllImages(vfs){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){const promises=this.imageUrls.map(image=>this.addImageToVfS(image,vfs));yield Promise.all(promises)}))}addImageToVfS(url,vfs){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){if(0===url.indexOf(\"/\")&&(url=url.substr(1)),!vfs[url]){const base64=yield this.convertUrlToBase64(url);vfs[url]=base64}}))}createTitle(configVariable){return{text:this.translate.instant(this.configService.instant(configVariable)),style:\"title\"}}createPreamble(configVariable){const preambleText=this.configService.instant(configVariable);return preambleText?{text:preambleText,style:\"preamble\"}:{}}getPageBreak(){return{text:\"\",pageBreak:\"after\"}}getSpacer(){return{text:\"\",margin:[0,10]}}createTocTableDef(tocBody,style=StyleType.DEFAULT,borderStyle=BorderType.DEFAULT,...header){return{table:{headerRows:header[0]?header.length:0,keepWithHeaderRows:header[0]?header.length:0,dontBreakRows:!0,widths:[\"auto\",\"*\",\"auto\"],body:header[0]?[...header,...tocBody]:tocBody},layout:borderStyle,style:style}}createTocLine(identifier,title,pageReference,style=StyleType.DEFAULT,...subTitle){return[{text:identifier,style:style},{text:[title,...subTitle],style:\"tocEntry\"},{pageReference:pageReference,style:\"tocEntry\",alignment:\"right\"}]}createTocLineInline(text,italics=!1){return{text:\"\\n\"+text,style:StyleType.SUB_ENTRY,italics:italics}}drawCircle(y,size){return[{type:\"ellipse\",x:0,y:y,lineColor:\"black\",r1:size,r2:size}]}}return PdfDocumentService.ɵfac=function(t){return new(t||PdfDocumentService)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.dc(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.k),_angular_core__WEBPACK_IMPORTED_MODULE_7__.dc(_ui_services_config_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_7__.dc(_core_services_http_service__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_7__.dc(_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_9__.a),_angular_core__WEBPACK_IMPORTED_MODULE_7__.dc(_ui_services_progress_service__WEBPACK_IMPORTED_MODULE_6__.a))},PdfDocumentService.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Pb({token:PdfDocumentService,factory:PdfDocumentService.ɵfac,providedIn:\"root\"}),PdfDocumentService})()}).call(this,__webpack_require__(\"Ei9z\"))}}]);","extractedComments":[]}