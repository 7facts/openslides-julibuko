{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{bVYn:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"PollsModule\",(function(){return polls_module_PollsModule}));var common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),storage_service=__webpack_require__(\"AqIO\"),voting_service=__webpack_require__(\"M0z7\"),base_list_view=__webpack_require__(\"wL0i\"),openslides_status_service=__webpack_require__(\"D/ll\"),base_filter_list_service=__webpack_require__(\"+8Rz\"),base_poll=__webpack_require__(\"qnZ9\"),core=__webpack_require__(\"fXoL\"),ngx_translate_core=__webpack_require__(\"sYmb\");let poll_filter_list_service_PollFilterListService=(()=>{class PollFilterListService extends base_filter_list_service.a{constructor(store,OSStatus,translate){super(store,OSStatus),this.translate=translate,this.storageKey=\"PollList\"}preFilter(viewPoll){return viewPoll.filter(poll=>!poll.isAnalog)}getFilterDefinitions(){return[{property:\"state\",label:this.translate.instant(\"State\"),options:[{condition:base_poll.e.Created,label:this.translate.instant(\"created\")},{condition:base_poll.e.Started,label:this.translate.instant(\"started\")},{condition:base_poll.e.Finished,label:this.translate.instant(\"finished (unpublished)\")},{condition:base_poll.e.Published,label:this.translate.instant(\"published\")}]},{property:\"hasVote\",label:this.translate.instant(\"Votings\"),options:[{condition:!1,label:this.translate.instant(\"Voting is currently in progress.\")},{condition:!0,label:this.translate.instant(\"You have already voted.\")}]}]}}return PollFilterListService.ɵfac=function(t){return new(t||PollFilterListService)(core.dc(storage_service.a),core.dc(openslides_status_service.a),core.dc(ngx_translate_core.k))},PollFilterListService.ɵprov=core.Pb({token:PollFilterListService,factory:PollFilterListService.ɵfac,providedIn:\"root\"}),PollFilterListService})();var poll_list_observable_service=__webpack_require__(\"PoOO\"),platform_browser=__webpack_require__(\"jhN1\"),snack_bar=__webpack_require__(\"dNgK\"),head_bar_component=__webpack_require__(\"mksl\"),list_view_table_component=__webpack_require__(\"0Obk\"),pebula_ngrid=__webpack_require__(\"dRZP\"),icon=__webpack_require__(\"NFeN\"),tooltip=__webpack_require__(\"Qu3c\");function PollListComponent_div_5_a_1_Template(rf,ctx){if(1&rf&&core.Ub(0,\"a\",5),2&rf){const poll_r4=core.lc().row;core.tc(\"routerLink\",poll_r4.parentLink)}}function PollListComponent_div_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",3),core.Qc(1,PollListComponent_div_5_a_1_Template,1,1,\"a\",4),core.Zb(2,\"span\"),core.Sc(3),core.Yb(),core.Yb()),2&rf){const poll_r4=ctx.row,ctx_r0=core.lc();core.Gb(1),core.tc(\"ngIf\",!ctx_r0.isMultiSelect),core.Gb(2),core.Tc(poll_r4.title)}}function PollListComponent_div_6_a_1_Template(rf,ctx){if(1&rf&&core.Ub(0,\"a\",5),2&rf){const poll_r8=core.lc().row;core.tc(\"routerLink\",poll_r8.parentLink)}}function PollListComponent_div_6_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",3),core.Qc(1,PollListComponent_div_6_a_1_Template,1,1,\"a\",4),core.Zb(2,\"span\"),core.Sc(3),core.Yb(),core.Yb()),2&rf){const poll_r8=ctx.row,ctx_r1=core.lc();core.Gb(1),core.tc(\"ngIf\",!ctx_r1.isMultiSelect),core.Gb(2),core.Tc(poll_r8.getContentObject().getListTitle())}}function PollListComponent_div_7_a_1_Template(rf,ctx){if(1&rf&&core.Ub(0,\"a\",5),2&rf){const poll_r11=core.lc().row;core.tc(\"routerLink\",poll_r11.parentLink)}}function PollListComponent_div_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",3),core.Qc(1,PollListComponent_div_7_a_1_Template,1,1,\"a\",4),core.Zb(2,\"span\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()),2&rf){const poll_r11=ctx.row,ctx_r2=core.lc();core.Gb(1),core.tc(\"ngIf\",!ctx_r2.isMultiSelect),core.Gb(2),core.Tc(core.nc(4,2,poll_r11.stateVerbose))}}function PollListComponent_div_8_mat_icon_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-icon\",8),core.mc(1,\"translate\"),core.Sc(2,\" check_circle \"),core.Yb()),2&rf&&core.uc(\"matTooltip\",core.nc(1,1,\"You have already voted.\"))}function PollListComponent_div_8_mat_icon_2_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-icon\",9),core.mc(1,\"translate\"),core.Sc(2,\" warning \"),core.Yb()),2&rf&&core.uc(\"matTooltip\",core.nc(1,1,\"Voting is currently in progress.\"))}function PollListComponent_div_8_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",3),core.Qc(1,PollListComponent_div_8_mat_icon_1_Template,3,3,\"mat-icon\",6),core.Qc(2,PollListComponent_div_8_mat_icon_2_Template,3,3,\"mat-icon\",7),core.Yb()),2&rf){const poll_r14=ctx.row;core.Gb(1),core.tc(\"ngIf\",poll_r14.hasVote),core.Gb(1),core.tc(\"ngIf\",!poll_r14.hasVote&&null!==poll_r14.hasVote)}}const routes=[{path:\"\",component:(()=>{class PollListComponent extends base_list_view.a{constructor(polls,filterService,votingService,storage,title,translate,snackbar){super(title,translate,snackbar,storage),this.polls=polls,this.filterService=filterService,this.votingService=votingService,this.storage=storage,this.tableColumnDefinition=[{prop:\"title\",width:\"auto\"},{prop:\"classType\",width:\"auto\"},{prop:\"state\",width:\"auto\"},{prop:\"votability\",width:\"25px\"}],this.filterProps=[\"title\",\"state\"],super.setTitle(\"List of electronic votes\")}}return PollListComponent.ɵfac=function(t){return new(t||PollListComponent)(core.Tb(poll_list_observable_service.a),core.Tb(poll_filter_list_service_PollFilterListService),core.Tb(voting_service.b),core.Tb(storage_service.a),core.Tb(platform_browser.d),core.Tb(ngx_translate_core.k),core.Tb(snack_bar.a))},PollListComponent.ɵcmp=core.Nb({type:PollListComponent,selectors:[[\"os-poll-list\"]],features:[core.Db],decls:9,vars:12,consts:[[1,\"title-slot\"],[\"listStorageKey\",\"polls\",3,\"listObservableProvider\",\"vScrollFixed\",\"columns\",\"filterProps\",\"filterService\"],[\"class\",\"cell-slot fill\",4,\"pblNgridCellDef\"],[1,\"cell-slot\",\"fill\"],[\"class\",\"detail-link\",3,\"routerLink\",4,\"ngIf\"],[1,\"detail-link\",3,\"routerLink\"],[\"color\",\"accent\",3,\"matTooltip\",4,\"ngIf\"],[\"color\",\"warn\",3,\"matTooltip\",4,\"ngIf\"],[\"color\",\"accent\",3,\"matTooltip\"],[\"color\",\"warn\",3,\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"os-head-bar\"),core.Zb(1,\"div\",0),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb(),core.Zb(4,\"os-list-view-table\",1),core.Qc(5,PollListComponent_div_5_Template,4,2,\"div\",2),core.Qc(6,PollListComponent_div_6_Template,4,2,\"div\",2),core.Qc(7,PollListComponent_div_7_Template,5,4,\"div\",2),core.Qc(8,PollListComponent_div_8_Template,3,2,\"div\",2),core.Yb()),2&rf&&(core.Gb(2),core.Tc(core.nc(3,10,\"List of electronic votes\")),core.Gb(2),core.tc(\"listObservableProvider\",ctx.polls)(\"vScrollFixed\",64)(\"columns\",ctx.tableColumnDefinition)(\"filterProps\",ctx.filterProps)(\"filterService\",ctx.filterService),core.Gb(1),core.tc(\"pblNgridCellDef\",\"title\"),core.Gb(1),core.tc(\"pblNgridCellDef\",\"classType\"),core.Gb(1),core.tc(\"pblNgridCellDef\",\"state\"),core.Gb(1),core.tc(\"pblNgridCellDef\",\"votability\"))},directives:[head_bar_component.a,list_view_table_component.a,pebula_ngrid.c,common.t,router.i,icon.a,tooltip.c],pipes:[ngx_translate_core.j],styles:[\"\"]}),PollListComponent})(),pathMatch:\"full\"}];let polls_routing_module_PollsRoutingModule=(()=>{class PollsRoutingModule{}return PollsRoutingModule.ɵmod=core.Rb({type:PollsRoutingModule}),PollsRoutingModule.ɵinj=core.Qb({factory:function(t){return new(t||PollsRoutingModule)},imports:[[router.j.forChild(routes)],router.j]}),PollsRoutingModule})();var shared_module=__webpack_require__(\"PCNd\");let polls_module_PollsModule=(()=>{class PollsModule{}return PollsModule.ɵmod=core.Rb({type:PollsModule}),PollsModule.ɵinj=core.Qb({factory:function(t){return new(t||PollsModule)},imports:[[common.c,polls_routing_module_PollsRoutingModule,shared_module.a]]}),PollsModule})()},wL0i:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return BaseListViewComponent}));var _base_view__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mV3u\");class BaseListViewComponent extends _base_view__WEBPACK_IMPORTED_MODULE_0__.a{constructor(titleService,translate,matSnackBar,storage){super(titleService,translate,matSnackBar),this.storage=storage,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth=\"40px\",this.badgeButtonWidth=\"45px\",this.selectedRows=[]}onDataSourceChange(newDataSource){this.dataSource=newDataSource}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);","extractedComments":[]}