{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{\"0bMg\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return OneOfValidator}));class OneOfValidator{static validation(...keys){return control=>keys.map(key=>control.get(key)).every(formControl=>formControl&&\"\"===formControl.value||!formControl)?{noOneSet:!0}:null}}},\"EGJ/\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"UsersModule\",(function(){return users_module_UsersModule}));var common=__webpack_require__(\"ofXK\"),shared_module=__webpack_require__(\"PCNd\"),fesm2015_router=__webpack_require__(\"tyNb\"),operator_service=__webpack_require__(\"OwvW\"),tslib_es6=__webpack_require__(\"mrSG\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),table=__webpack_require__(\"+0xr\"),group_repository_service=__webpack_require__(\"R+Vs\"),prompt_service=__webpack_require__(\"F48D\"),dialog_settings=__webpack_require__(\"Izkr\"),base_view=__webpack_require__(\"mV3u\"),core=__webpack_require__(\"fXoL\"),platform_browser=__webpack_require__(\"jhN1\"),ngx_translate_core=__webpack_require__(\"sYmb\"),snack_bar=__webpack_require__(\"dNgK\"),fesm2015_dialog=__webpack_require__(\"0IaG\"),head_bar_component=__webpack_require__(\"mksl\"),card=__webpack_require__(\"Wp6s\"),expansion=__webpack_require__(\"7EHt\"),fesm2015_checkbox=__webpack_require__(\"bSwM\"),form_field=__webpack_require__(\"kmnG\"),input=__webpack_require__(\"qFsG\"),autofocus_directive=__webpack_require__(\"IZUe\"),fesm2015_button=__webpack_require__(\"bTqV\");const _c0=[\"groupForm\"],_c1=[\"groupEditDialog\"];function GroupListComponent_mat_accordion_10_mat_header_cell_9_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Permissions\")))}function GroupListComponent_mat_accordion_10_mat_cell_10_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const perm_r9=ctx.$implicit;core.Gb(1),core.Uc(\" \",core.nc(2,1,perm_r9.display_name),\" \")}}function GroupListComponent_mat_accordion_10_div_11_mat_header_cell_2_Template(rf,ctx){if(1&rf){const _r15=core.ac();core.Zb(0,\"mat-header-cell\",17),core.hc(\"click\",(function(){core.Ic(_r15);const group_r10=core.lc().$implicit;return core.lc(2).selectGroup(group_r10)})),core.Zb(1,\"div\",18),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const group_r10=core.lc().$implicit;core.Gb(2),core.Uc(\" \",core.nc(3,1,group_r10.name),\" \")}}function GroupListComponent_mat_accordion_10_div_11_mat_cell_3_mat_checkbox_2_Template(rf,ctx){if(1&rf){const _r22=core.ac();core.Zb(0,\"mat-checkbox\",21),core.hc(\"change\",(function(){core.Ic(_r22);const perm_r17=core.lc().$implicit,group_r10=core.lc().$implicit;return core.lc(2).togglePerm(group_r10,perm_r17.value)})),core.Yb()}if(2&rf){const perm_r17=core.lc().$implicit,group_r10=core.lc().$implicit;core.tc(\"checked\",group_r10.hasPermission(perm_r17.value))}}function GroupListComponent_mat_accordion_10_div_11_mat_cell_3_mat_checkbox_3_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-checkbox\",22),2&rf&&core.tc(\"checked\",!0)(\"disabled\",!0)}function GroupListComponent_mat_accordion_10_div_11_mat_cell_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Zb(1,\"div\",18),core.Qc(2,GroupListComponent_mat_accordion_10_div_11_mat_cell_3_mat_checkbox_2_Template,1,1,\"mat-checkbox\",19),core.Qc(3,GroupListComponent_mat_accordion_10_div_11_mat_cell_3_mat_checkbox_3_Template,1,2,\"mat-checkbox\",20),core.Yb(),core.Yb()),2&rf){const group_r10=core.lc().$implicit;core.Gb(2),core.tc(\"ngIf\",2!==group_r10.id),core.Gb(1),core.tc(\"ngIf\",2===group_r10.id)}}function GroupListComponent_mat_accordion_10_div_11_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Xb(1,15),core.Qc(2,GroupListComponent_mat_accordion_10_div_11_mat_header_cell_2_Template,4,3,\"mat-header-cell\",16),core.Qc(3,GroupListComponent_mat_accordion_10_div_11_mat_cell_3_Template,4,2,\"mat-cell\",11),core.Wb(),core.Yb()),2&rf){const group_r10=ctx.$implicit;core.Gb(1),core.tc(\"matColumnDef\",group_r10.name)}}function GroupListComponent_mat_accordion_10_mat_header_row_12_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function GroupListComponent_mat_accordion_10_mat_row_13_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\")}function GroupListComponent_mat_accordion_10_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-accordion\"),core.Zb(1,\"mat-expansion-panel\",6),core.Zb(2,\"mat-expansion-panel-header\"),core.Zb(3,\"mat-panel-title\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",7),core.Zb(7,\"table\",8),core.Xb(8,9),core.Qc(9,GroupListComponent_mat_accordion_10_mat_header_cell_9_Template,3,3,\"mat-header-cell\",10),core.Qc(10,GroupListComponent_mat_accordion_10_mat_cell_10_Template,3,3,\"mat-cell\",11),core.Wb(),core.Qc(11,GroupListComponent_mat_accordion_10_div_11_Template,4,1,\"div\",12),core.Qc(12,GroupListComponent_mat_accordion_10_mat_header_row_12_Template,1,0,\"mat-header-row\",13),core.Qc(13,GroupListComponent_mat_accordion_10_mat_row_13_Template,1,0,\"mat-row\",14),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf){const app_r3=ctx.$implicit,ctx_r0=core.lc();core.Gb(1),core.tc(\"expanded\",!0),core.Gb(3),core.Uc(\" \",core.nc(5,7,app_r3.name),\" \"),core.Gb(3),core.tc(\"dataSource\",ctx_r0.getTableDataSource(app_r3.permissions)),core.Gb(4),core.tc(\"ngForOf\",ctx_r0.groups)(\"ngForTrackBy\",ctx_r0.trackByIndex),core.Gb(1),core.tc(\"matHeaderRowDef\",ctx_r0.headerRowDef),core.Gb(1),core.tc(\"matRowDefColumns\",ctx_r0.headerRowDef)}}function GroupListComponent_ng_template_11_mat_error_9_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-error\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Required\")))}function GroupListComponent_ng_template_11_button_19_Template(rf,ctx){if(1&rf){const _r31=core.ac();core.Zb(0,\"button\",32),core.hc(\"click\",(function(){return core.Ic(_r31),core.lc(2).deleteSelectedGroup()})),core.Zb(1,\"span\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const ctx_r29=core.lc(2);core.tc(\"disabled\",!ctx_r29.canDeleteGroup(ctx_r29.selectedGroup)),core.Gb(2),core.Tc(core.nc(3,2,\"Delete\"))}}function GroupListComponent_ng_template_11_Template(rf,ctx){if(1&rf){const _r33=core.ac();core.Zb(0,\"h1\",23),core.Zb(1,\"span\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb(),core.Zb(4,\"div\",24),core.Zb(5,\"form\",25),core.hc(\"keydown\",(function($event){return core.Ic(_r33),core.lc().keyDownFunction($event)})),core.Zb(6,\"mat-form-field\"),core.Ub(7,\"input\",26),core.mc(8,\"translate\"),core.Qc(9,GroupListComponent_ng_template_11_mat_error_9_Template,3,3,\"mat-error\",27),core.Yb(),core.Yb(),core.Yb(),core.Zb(10,\"div\",28),core.Zb(11,\"button\",29),core.hc(\"click\",(function(){core.Ic(_r33);const ctx_r34=core.lc();return ctx_r34.saveGroup(ctx_r34.groupForm.value)})),core.Zb(12,\"span\"),core.Sc(13),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Zb(15,\"button\",30),core.hc(\"click\",(function(){return core.Ic(_r33),core.lc().cancelEditing()})),core.Zb(16,\"span\"),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Yb(),core.Qc(19,GroupListComponent_ng_template_11_button_19_Template,4,4,\"button\",31),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.Gb(2),core.Tc(core.nc(3,8,\"New group name\")),core.Gb(3),core.tc(\"formGroup\",ctx_r2.groupForm),core.Gb(2),core.uc(\"placeholder\",core.nc(8,10,\"New group name\")),core.Gb(2),core.tc(\"ngIf\",!ctx_r2.groupForm.valid),core.Gb(2),core.tc(\"disabled\",!ctx_r2.groupForm.valid),core.Gb(2),core.Tc(core.nc(14,12,\"Save\")),core.Gb(4),core.Tc(core.nc(18,14,\"Cancel\")),core.Gb(2),core.tc(\"ngIf\",ctx_r2.selectedGroup)}}let group_list_component_GroupListComponent=(()=>{class GroupListComponent extends base_view.a{constructor(titleService,translate,matSnackBar,dialog,repo,promptService,fb){super(titleService,translate,matSnackBar),this.translate=translate,this.dialog=dialog,this.repo=repo,this.promptService=promptService,this.fb=fb,this.headerRowDef=[],this.newGroup=!1,this.editGroup=!1}get appPermissions(){return this.repo.appPermissions}setEditMode(editMode,newGroup=!0){this.editGroup=editMode,this.newGroup=newGroup,this.groupForm=this.fb.group({name:[this.selectedGroup?this.selectedGroup.name:\"\",fesm2015_forms.G.required]}),this.dialogRef=this.dialog.open(this.groupEditDialog,dialog_settings.a),this.dialogRef.keydownEvents().subscribe(event=>{\"Enter\"===event.key&&event.shiftKey&&this.groupForm.valid&&this.saveGroup(this.groupForm.value)})}saveGroup(value){this.editGroup&&this.newGroup?this.repo.create(value).then(()=>this.cancelEditing(),this.raiseError):this.editGroup&&!this.newGroup&&this.repo.update(value,this.selectedGroup).then(()=>this.cancelEditing(),this.raiseError)}selectGroup(group){this.selectedGroup=group,this.setEditMode(!0,!1)}deleteSelectedGroup(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const title=this.translate.instant(\"Are you sure you want to delete this group?\"),content=this.translate.instant(this.selectedGroup.name);(yield this.promptService.open(title,content))&&this.repo.delete(this.selectedGroup).then(()=>this.cancelEditing(),this.raiseError)}))}cancelEditing(){this.dialogRef.close(),this.newGroup=!1,this.editGroup=!1,this.selectedGroup=null}canDeleteGroup(group){return 1!==group.id&&2!==group.id}togglePerm(viewGroup,perm){this.repo.togglePerm(viewGroup,perm)}updateRowDef(){this.headerRowDef=[\"perm\"],this.groups.forEach(viewGroup=>{this.headerRowDef.push(\"\"+viewGroup.name)})}trackGroupArray(group){return group.id}getTableDataSource(permissions){const dataSource=new table.o;return dataSource.data=permissions,dataSource}isProtected(group){return 1===group.id||2===group.id}keyDownFunction(event){\"Escape\"===event.key&&(this.newGroup=!1)}ngOnInit(){super.setTitle(\"Groups\"),this.repo.getViewModelListObservable().subscribe(newViewGroups=>{newViewGroups&&(this.groups=newViewGroups,this.updateRowDef())})}}return GroupListComponent.ɵfac=function(t){return new(t||GroupListComponent)(core.Tb(platform_browser.d),core.Tb(ngx_translate_core.k),core.Tb(snack_bar.a),core.Tb(fesm2015_dialog.b),core.Tb(group_repository_service.a),core.Tb(prompt_service.a),core.Tb(fesm2015_forms.f))},GroupListComponent.ɵcmp=core.Nb({type:GroupListComponent,selectors:[[\"os-group-list\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(_c0,!0),core.Oc(_c1,!0)),2&rf&&(core.Dc(_t=core.ic())&&(ctx.groupForm=_t.first),core.Dc(_t=core.ic())&&(ctx.groupEditDialog=_t.first))},features:[core.Db],decls:13,vars:9,consts:[[3,\"hasMainButton\",\"nav\",\"mainEvent\"],[1,\"title-slot\"],[1,\"spacer-bottom-60\"],[1,\"hint-text\"],[4,\"ngFor\",\"ngForOf\"],[\"groupEditDialog\",\"\"],[1,\"mat-elevation-z0\",3,\"expanded\"],[1,\"scrollable-perm-matrix\"],[\"mat-table\",\"\",3,\"dataSource\"],[\"matColumnDef\",\"perm\",\"sticky\",\"\"],[4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[4,\"ngFor\",\"ngForOf\",\"ngForTrackBy\"],[4,\"matHeaderRowDef\"],[4,\"matRowDef\",\"matRowDefColumns\"],[3,\"matColumnDef\"],[\"class\",\"group-head-table-cell\",3,\"click\",4,\"matHeaderCellDef\"],[1,\"group-head-table-cell\",3,\"click\"],[1,\"inner-table\"],[3,\"checked\",\"change\",4,\"ngIf\"],[3,\"checked\",\"disabled\",4,\"ngIf\"],[3,\"checked\",\"change\"],[3,\"checked\",\"disabled\"],[\"mat-dialog-title\",\"\"],[\"mat-dialog-content\",\"\",1,\"os-form-card-mobile\"],[1,\"edit-form\",3,\"formGroup\",\"keydown\"],[\"type\",\"text\",\"matInput\",\"\",\"osAutofocus\",\"\",\"required\",\"\",\"formControlName\",\"name\",3,\"placeholder\"],[4,\"ngIf\"],[\"mat-dialog-actions\",\"\"],[\"type\",\"submit\",\"mat-button\",\"\",\"color\",\"accent\",3,\"disabled\",\"click\"],[\"type\",\"button\",\"mat-button\",\"\",3,\"click\"],[\"type\",\"button\",\"mat-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"type\",\"button\",\"mat-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"click\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"os-head-bar\",0),core.hc(\"mainEvent\",(function(){return ctx.setEditMode(!ctx.editGroup)})),core.Zb(1,\"div\",1),core.Zb(2,\"h2\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(5,\"mat-card\",2),core.Zb(6,\"div\",3),core.Zb(7,\"span\"),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Qc(10,GroupListComponent_mat_accordion_10_Template,14,9,\"mat-accordion\",4),core.Yb(),core.Qc(11,GroupListComponent_ng_template_11_Template,20,16,\"ng-template\",null,5,core.Rc)),2&rf&&(core.tc(\"hasMainButton\",!0)(\"nav\",!1),core.Gb(3),core.Tc(core.nc(4,5,\"Groups\")),core.Gb(5),core.Tc(core.nc(9,7,\"All your changes are saved immediately.\")),core.Gb(2),core.tc(\"ngForOf\",ctx.appPermissions))},directives:[head_bar_component.a,card.a,common.s,expansion.a,expansion.c,expansion.g,expansion.h,table.n,table.c,table.i,table.b,table.k,table.m,table.h,table.a,common.t,fesm2015_checkbox.a,table.j,table.l,fesm2015_dialog.i,fesm2015_dialog.f,fesm2015_forms.I,fesm2015_forms.t,fesm2015_forms.k,form_field.c,input.b,fesm2015_forms.c,autofocus_directive.a,fesm2015_forms.D,fesm2015_forms.s,fesm2015_forms.i,fesm2015_dialog.c,fesm2015_button.b,form_field.b],pipes:[ngx_translate_core.j],styles:[\".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{min-width:80px}table[_ngcontent-%COMP%]   .mat-column-perm[_ngcontent-%COMP%]{min-width:130px}table[_ngcontent-%COMP%]   .inner-table[_ngcontent-%COMP%]{width:100%;text-align:center}table[_ngcontent-%COMP%]   .group-head-table-cell[_ngcontent-%COMP%]{cursor:pointer}.hint-text[_ngcontent-%COMP%]{padding-top:1em;padding-left:25px}.new-group-forrm[_ngcontent-%COMP%]{text-align:center;padding-top:10px;background-color:#fff}.new-group-forrm[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.scrollable-perm-matrix[_ngcontent-%COMP%]{overflow:auto}\"]}),GroupListComponent})();var user_repository_service=__webpack_require__(\"ZDbo\"),icon=__webpack_require__(\"NFeN\"),tooltip=__webpack_require__(\"Qu3c\");function PasswordComponent_div_7_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"span\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Gb(2),core.Tc(core.nc(3,1,\"You are not supposed to be here...\")))}function PasswordComponent_div_8_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h1\"),core.Zb(2,\"span\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Sc(5),core.Yb(),core.Zb(6,\"mat-icon\"),core.Sc(7,\"warning\"),core.Yb(),core.Sc(8,\"  \"),core.Zb(9,\"span\"),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc(2);core.Gb(3),core.Tc(core.nc(4,3,\"Change password for\")),core.Gb(2),core.Uc(\" \",ctx_r3.user.full_name,\" \"),core.Gb(5),core.Tc(core.nc(11,5,\"You override the personally set password!\"))}}function PasswordComponent_div_8_div_15_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"span\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Sc(4),core.Ub(5,\"br\"),core.Zb(6,\"span\"),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Sc(9),core.Yb()),2&rf){const ctx_r4=core.lc(2);core.Gb(2),core.Tc(core.nc(3,4,\"Initial password\")),core.Gb(2),core.Uc(\": \",ctx_r4.user.default_password,\"\"),core.Gb(3),core.Tc(core.nc(8,6,\"Username\")),core.Gb(2),core.Uc(\": \",ctx_r4.user.username,\" \")}}function PasswordComponent_div_8_Template(rf,ctx){if(1&rf){const _r6=core.ac();core.Zb(0,\"div\"),core.Qc(1,PasswordComponent_div_8_div_1_Template,12,7,\"div\",3),core.Ub(2,\"br\"),core.Zb(3,\"form\",4),core.hc(\"keydown\",(function($event){return core.Ic(_r6),core.lc().onKeyDown($event)})),core.Zb(4,\"mat-form-field\"),core.Ub(5,\"input\",5),core.mc(6,\"translate\"),core.Zb(7,\"mat-icon\",6),core.hc(\"click\",(function(){core.Ic(_r6);const ctx_r7=core.lc();return ctx_r7.hidePassword=!ctx_r7.hidePassword})),core.mc(8,\"translate\"),core.mc(9,\"translate\"),core.Sc(10),core.Yb(),core.Zb(11,\"mat-icon\",7),core.hc(\"click\",(function(){return core.Ic(_r6),core.lc().generatePassword()})),core.mc(12,\"translate\"),core.Sc(13,\" settings \"),core.Yb(),core.Yb(),core.Yb(),core.Ub(14,\"br\"),core.Qc(15,PasswordComponent_div_8_div_15_Template,10,8,\"div\",3),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Gb(1),core.tc(\"ngIf\",ctx_r1.user),core.Gb(2),core.tc(\"formGroup\",ctx_r1.adminPasswordForm),core.Gb(2),core.uc(\"placeholder\",core.nc(6,8,\"New password\")),core.tc(\"type\",ctx_r1.hidePassword?\"password\":\"text\"),core.Gb(2),core.uc(\"matTooltip\",ctx_r1.hidePassword?core.nc(8,10,\"Show password\"):core.nc(9,12,\"Hide password\")),core.Gb(3),core.Uc(\" \",ctx_r1.hidePassword?\"visibility\":\"visibility_off\",\" \"),core.Gb(1),core.uc(\"matTooltip\",core.nc(12,14,\"Generate password\")),core.Gb(4),core.tc(\"ngIf\",ctx_r1.user)}}function PasswordComponent_div_9_Template(rf,ctx){if(1&rf){const _r10=core.ac();core.Zb(0,\"div\"),core.Zb(1,\"form\",4),core.hc(\"keydown\",(function($event){return core.Ic(_r10),core.lc().onKeyDown($event)})),core.Zb(2,\"mat-form-field\"),core.Ub(3,\"input\",8),core.mc(4,\"translate\"),core.Zb(5,\"mat-icon\",9),core.hc(\"click\",(function(){core.Ic(_r10);const ctx_r11=core.lc();return ctx_r11.hideOldPassword=!ctx_r11.hideOldPassword})),core.Sc(6),core.Yb(),core.Yb(),core.Ub(7,\"br\"),core.Zb(8,\"mat-form-field\"),core.Ub(9,\"input\",10),core.mc(10,\"translate\"),core.Zb(11,\"mat-icon\",9),core.hc(\"click\",(function(){core.Ic(_r10);const ctx_r12=core.lc();return ctx_r12.hidePassword=!ctx_r12.hidePassword})),core.Sc(12),core.Yb(),core.Yb(),core.Ub(13,\"br\"),core.Zb(14,\"mat-form-field\"),core.Ub(15,\"input\",11),core.mc(16,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.Gb(1),core.tc(\"formGroup\",ctx_r2.userPasswordForm),core.Gb(2),core.uc(\"placeholder\",core.nc(4,9,\"Old password\")),core.tc(\"type\",ctx_r2.hideOldPassword?\"password\":\"text\"),core.Gb(3),core.Uc(\" \",ctx_r2.hideOldPassword?\"visibility\":\"visibility_off\",\" \"),core.Gb(3),core.uc(\"placeholder\",core.nc(10,11,\"New password\")),core.tc(\"type\",ctx_r2.hidePassword?\"password\":\"text\"),core.Gb(3),core.Uc(\" \",ctx_r2.hidePassword?\"visibility\":\"visibility_off\",\" \"),core.Gb(3),core.uc(\"placeholder\",core.nc(16,13,\"Confirm new password\")),core.tc(\"type\",ctx_r2.hidePassword?\"password\":\"text\")}}let password_component_PasswordComponent=(()=>{class PasswordComponent extends base_view.a{constructor(title,translate,matSnackBar,route,router,repo,operator,formBuilder){super(title,translate,matSnackBar),this.translate=translate,this.route=route,this.router=router,this.repo=repo,this.operator=operator,this.formBuilder=formBuilder,this.hidePassword=!0,this.hideOldPassword=!0}ngOnInit(){super.setTitle(this.translate.instant(\"Change password\")),this.route.params.subscribe(params=>{params.id&&(this.urlUserId=+params.id,this.repo.getViewModelObservable(this.urlUserId).subscribe(()=>{this.updateUser()})),this.updateUser()}),this.operator.getUserObservable().subscribe(()=>{this.updateUser()}),this.adminPasswordForm=this.formBuilder.group({newPassword:[\"\",fesm2015_forms.G.required]}),this.userPasswordForm=this.formBuilder.group({newPassword1:[\"\",fesm2015_forms.G.required],newPassword2:[\"\",fesm2015_forms.G.required],oldPassword:[\"\",fesm2015_forms.G.required]})}updateUser(){this.ownPage=!this.urlUserId||this.operator.user.id===this.urlUserId,this.user=this.ownPage?this.operator.viewUser:this.repo.getViewModel(this.urlUserId),this.canManage=this.operator.hasPerms(operator_service.b.usersCanManage)}goBack(){this.router.navigate(this.ownPage?[\"./\"]:[\"./users/\"+this.user.id])}save(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){try{if(this.canManage&&!this.ownPage){if(!this.adminPasswordForm.valid)return;const password=this.adminPasswordForm.value.newPassword;yield this.repo.resetPassword(this.user,password),this.router.navigate([\"./users/\"+this.user.id])}else if(this.ownPage){if(!this.userPasswordForm.valid)return;const oldPassword=this.userPasswordForm.value.oldPassword,newPassword1=this.userPasswordForm.value.newPassword1;newPassword1!==this.userPasswordForm.value.newPassword2?this.raiseError(this.translate.instant(\"Error: The new passwords do not match.\")):(yield this.repo.setNewPassword(oldPassword,newPassword1),this.router.navigate([\"./\"]))}}catch(e){this.raiseError(e)}}))}onKeyDown(event){\"Enter\"===event.key&&event.shiftKey&&this.save()}generatePassword(){const randomPassword=this.repo.getRandomPassword();this.adminPasswordForm.patchValue({newPassword:randomPassword}),this.userPasswordForm.patchValue({newPassword1:randomPassword,newPassword2:randomPassword}),this.hidePassword=!1}}return PasswordComponent.ɵfac=function(t){return new(t||PasswordComponent)(core.Tb(platform_browser.d),core.Tb(ngx_translate_core.k),core.Tb(snack_bar.a),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.f),core.Tb(user_repository_service.a),core.Tb(operator_service.a),core.Tb(fesm2015_forms.f))},PasswordComponent.ɵcmp=core.Nb({type:PasswordComponent,selectors:[[\"os-password\"]],features:[core.Db],decls:10,vars:9,consts:[[3,\"hasMainButton\",\"nav\",\"editMode\",\"mainEvent\",\"saveEvent\"],[1,\"title-slot\"],[1,\"os-card\"],[4,\"ngIf\"],[3,\"formGroup\",\"keydown\"],[\"matInput\",\"\",\"formControlName\",\"newPassword\",\"required\",\"\",3,\"type\",\"placeholder\"],[\"matSuffix\",\"\",\"mat-icon-button\",\"\",1,\"pointer\",3,\"matTooltip\",\"click\"],[\"matSuffix\",\"\",\"mat-icon-button\",\"\",1,\"pointer\",\"spacer-left-10\",3,\"matTooltip\",\"click\"],[\"matInput\",\"\",\"formControlName\",\"oldPassword\",\"required\",\"\",3,\"type\",\"placeholder\"],[\"mat-button\",\"\",\"matSuffix\",\"\",\"mat-icon-button\",\"\",3,\"click\"],[\"matInput\",\"\",\"formControlName\",\"newPassword1\",\"required\",\"\",3,\"type\",\"placeholder\"],[\"matInput\",\"\",\"formControlName\",\"newPassword2\",\"required\",\"\",3,\"type\",\"placeholder\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"os-head-bar\",0),core.hc(\"mainEvent\",(function(){return ctx.goBack()}))(\"saveEvent\",(function(){return ctx.save()})),core.Sc(1,\"a \"),core.Zb(2,\"div\",1),core.Zb(3,\"h2\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(6,\"mat-card\",2),core.Qc(7,PasswordComponent_div_7_Template,4,3,\"div\",3),core.Qc(8,PasswordComponent_div_8_Template,16,16,\"div\",3),core.Qc(9,PasswordComponent_div_9_Template,17,15,\"div\",3),core.Yb()),2&rf&&(core.tc(\"hasMainButton\",!0)(\"nav\",!1)(\"editMode\",!0),core.Gb(4),core.Tc(core.nc(5,7,\"Change password\")),core.Gb(3),core.tc(\"ngIf\",!ctx.canManage&&!ctx.ownPage),core.Gb(1),core.tc(\"ngIf\",ctx.canManage&&!ctx.ownPage),core.Gb(1),core.tc(\"ngIf\",ctx.ownPage))},directives:[head_bar_component.a,card.a,common.t,fesm2015_forms.I,fesm2015_forms.t,fesm2015_forms.k,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.s,fesm2015_forms.i,fesm2015_forms.D,icon.a,form_field.j,tooltip.c],pipes:[ngx_translate_core.j],styles:[\"mat-form-field[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}\"]}),PasswordComponent})();var config_service=__webpack_require__(\"+KbT\");function PresenceDetailComponent_mat_card_5_mat_card_10_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",8),core.Zb(1,\"span\"),core.Sc(2),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Sc(6,\": \"),core.Zb(7,\"span\"),core.Sc(8),core.mc(9,\"translate\"),core.mc(10,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r1=core.lc(2);core.tc(\"ngClass\",ctx_r1.lastChangedUser.is_present?\"success\":\"warning\"),core.Gb(2),core.Uc(\"\",ctx_r1.lastChangedUser.full_name,\" \"),core.Gb(2),core.Tc(core.nc(5,4,\"is now\")),core.Gb(4),core.Uc(\" \",ctx_r1.lastChangedUser.is_present?core.nc(9,6,\"present\"):core.nc(10,8,\"absent\"),\"\")}}function PresenceDetailComponent_mat_card_5_mat_card_11_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",9),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r2=core.lc(2);core.Gb(1),core.Tc(core.nc(2,1,ctx_r2.errorMsg))}}function PresenceDetailComponent_mat_card_5_Template(rf,ctx){if(1&rf){const _r4=core.ac();core.Zb(0,\"mat-card\"),core.Zb(1,\"p\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-form-field\",3),core.Zb(5,\"input\",4),core.hc(\"keyup\",(function($event){return core.Ic(_r4),core.lc().onKeyUp($event)})),core.mc(6,\"translate\"),core.Yb(),core.Yb(),core.Zb(7,\"button\",5),core.hc(\"click\",(function(){return core.Ic(_r4),core.lc().changePresence()})),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Qc(10,PresenceDetailComponent_mat_card_5_mat_card_10_Template,11,10,\"mat-card\",6),core.Qc(11,PresenceDetailComponent_mat_card_5_mat_card_11_Template,3,3,\"mat-card\",7),core.Yb()}if(2&rf){const ctx_r0=core.lc();core.Gb(2),core.Tc(core.nc(3,7,\"Check in or check out participants based on their participant numbers:\")),core.Gb(2),core.tc(\"formGroup\",ctx_r0.userForm),core.Gb(1),core.uc(\"placeholder\",core.nc(6,9,\"Enter participant number\")),core.tc(\"formControl\",ctx_r0.userForm.get(\"number\")),core.Gb(3),core.Tc(core.nc(9,11,\"Change presence\")),core.Gb(2),core.tc(\"ngIf\",ctx_r0.lastChangedUser),core.Gb(1),core.tc(\"ngIf\",ctx_r0.errorMsg)}}let presence_detail_component_PresenceDetailComponent=(()=>{class PresenceDetailComponent{constructor(userRepo,formBuilder,operator,translate,config){this.userRepo=userRepo,this.formBuilder=formBuilder,this.operator=operator,this.translate=translate,this._userSubscription=null,config.get(\"users_enable_presence_view\").subscribe(conf=>this._enabledInConfig=conf)}get permission(){return this.operator.hasPerms(operator_service.b.usersCanManage)&&this._enabledInConfig}ngOnInit(){this.userForm=this.formBuilder.group({number:\"\"})}changePresence(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const number=this.userForm.get(\"number\").value,users=this.userRepo.getUsersByNumber(number);this.userForm.reset(),1===users.length?(yield this.userRepo.update({is_present:!users[0].is_present},users[0]),this.subscribeUser(users[0].id)):users.length?users.length>1&&(this.clearSubscription(),this.errorMsg=this.translate.instant(\"Participant number is not unique\")):(this.clearSubscription(),this.errorMsg=this.translate.instant(\"Participant cannot be found\"))}))}subscribeUser(id){this.clearSubscription(),this.errorMsg=null,this._userSubscription=this.userRepo.getViewModelObservable(id).subscribe(user=>this.lastChangedUser=user)}clearSubscription(){this._userSubscription&&this._userSubscription.unsubscribe(),this.lastChangedUser=null}onKeyUp(event){\"Enter\"===event.key&&this.changePresence()}}return PresenceDetailComponent.ɵfac=function(t){return new(t||PresenceDetailComponent)(core.Tb(user_repository_service.a),core.Tb(fesm2015_forms.f),core.Tb(operator_service.a),core.Tb(ngx_translate_core.k),core.Tb(config_service.a))},PresenceDetailComponent.ɵcmp=core.Nb({type:PresenceDetailComponent,selectors:[[\"os-presence-detail\"]],decls:6,vars:6,consts:[[3,\"hasMainButton\",\"nav\"],[1,\"title-slot\"],[4,\"ngIf\"],[3,\"formGroup\"],[\"osAutofocus\",\"\",\"matInput\",\"\",3,\"formControl\",\"placeholder\",\"keyup\"],[\"mat-button\",\"\",3,\"click\"],[3,\"ngClass\",4,\"ngIf\"],[\"class\",\"error\",4,\"ngIf\"],[3,\"ngClass\"],[1,\"error\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"os-head-bar\",0),core.Zb(1,\"div\",1),core.Zb(2,\"h2\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Qc(5,PresenceDetailComponent_mat_card_5_Template,12,13,\"mat-card\",2)),2&rf&&(core.tc(\"hasMainButton\",!1)(\"nav\",!1),core.Gb(3),core.Tc(core.nc(4,4,\"Presence\")),core.Gb(2),core.tc(\"ngIf\",ctx.permission))},directives:[head_bar_component.a,common.t,card.a,form_field.c,fesm2015_forms.t,fesm2015_forms.k,input.b,fesm2015_forms.c,autofocus_directive.a,fesm2015_forms.s,fesm2015_forms.h,fesm2015_button.b,common.q],pipes:[ngx_translate_core.j],encapsulation:2}),PresenceDetailComponent})();var BehaviorSubject=__webpack_require__(\"2Vo4\"),constants_service=__webpack_require__(\"rUOn\"),users_user=__webpack_require__(\"XXEH\"),one_of_validator=__webpack_require__(\"0bMg\"),poll_service=__webpack_require__(\"lq69\"),pdf_document_service=__webpack_require__(\"a9GI\");let user_pdf_service_UserPdfService=(()=>{class UserPdfService{constructor(translate,configService){this.translate=translate,this.configService=configService}userAccessToDocDef(user){const userHeadline=[{text:user.short_name,style:\"userDataTitle\"}];return user.structure_level&&userHeadline.push({text:user.structure_level,style:\"userDataHeading\"}),[userHeadline,this.createAccessDataContent(user),this.createWelcomeText()]}createUserListDocDef(users){return[{text:this.translate.instant(\"List of participants\"),style:\"title\"},this.createUserList(users)]}createAccessDataContent(user){return{columns:[this.createWifiAccessContent(),this.createUserAccessContent(user)],margin:[0,20]}}createWifiAccessContent(){const wifiColumn=[{text:this.translate.instant(\"WLAN access data\"),style:\"userDataHeading\"},{text:this.translate.instant(\"WLAN name (SSID)\")+\":\",style:\"userDataTopic\"},{text:this.configService.instant(\"users_pdf_wlan_ssid\")||\"-\",style:\"userDataValue\"},{text:this.translate.instant(\"WLAN password\")+\":\",style:\"userDataTopic\"},{text:this.configService.instant(\"users_pdf_wlan_password\")||\"-\",style:\"userDataValue\"},{text:this.translate.instant(\"WLAN encryption\")+\":\",style:\"userDataTopic\"},{text:this.configService.instant(\"users_pdf_wlan_encryption\")||\"-\",style:\"userDataValue\"},{text:\"\\n\"}];if(this.configService.instant(\"users_pdf_wlan_ssid\")&&this.configService.instant(\"users_pdf_wlan_encryption\")){const wifiQrCode=\"WIFI:S:\"+this.configService.instant(\"users_pdf_wlan_ssid\")+\";T:\"+this.configService.instant(\"users_pdf_wlan_encryption\")+\";P:\"+this.configService.instant(\"users_pdf_wlan_password\")+\";;\";wifiColumn.push({qr:wifiQrCode,fit:120,margin:[0,0,0,8]},{text:this.translate.instant(\"Scan this QR code to connect to WLAN.\"),style:\"small\"})}return wifiColumn}createUserAccessContent(user){const columnOpenSlides=[{text:this.translate.instant(\"OpenSlides access data\"),style:\"userDataHeading\"},{text:this.translate.instant(\"Username\")+\":\",style:\"userDataTopic\"},{text:user.username,style:\"userDataValue\"},{text:this.translate.instant(\"Initial password\")+\":\",style:\"userDataTopic\"},{text:user.default_password,style:\"userDataValue\"},{text:\"URL:\",style:\"userDataTopic\"},{text:this.configService.instant(\"users_pdf_url\")||\"-\",link:this.configService.instant(\"users_pdf_url\"),style:\"userDataValue\"},{text:\"\\n\"}];return this.configService.instant(\"users_pdf_url\")&&columnOpenSlides.push({qr:this.configService.instant(\"users_pdf_url\"),fit:120,margin:[0,0,0,8]},{text:this.translate.instant(\"Scan this QR code to open URL.\"),style:\"small\"}),columnOpenSlides}createWelcomeText(){const users_pdf_welcometitle=this.configService.instant(\"users_pdf_welcometitle\"),users_pdf_welcometext=this.configService.instant(\"users_pdf_welcometext\");return[{text:this.translate.instant(users_pdf_welcometitle),style:\"userDataHeading\"},{text:this.translate.instant(users_pdf_welcometext),style:\"userDataTopic\"}]}createUserList(users){return{table:{widths:[\"auto\",\"*\",\"auto\"],headerRows:1,body:[[{text:\"#\",style:\"tableHeader\"},{text:this.translate.instant(\"Name\"),style:\"tableHeader\"},{text:this.translate.instant(\"Groups\"),style:\"tableHeader\"}]].concat(this.getListUsers(users))},layout:\"switchColorTableLayout\"}}getListUsers(users){const result=[];let counter=1;return users.forEach(user=>{const groupList=user.groups.map(grp=>this.translate.instant(grp.name));result.push([{text:\"\"+counter},{text:user.full_name},{text:groupList.join(\", \")}]),counter+=1}),result}}return UserPdfService.ɵfac=function(t){return new(t||UserPdfService)(core.dc(ngx_translate_core.k),core.dc(config_service.a))},UserPdfService.ɵprov=core.Pb({token:UserPdfService,factory:UserPdfService.ɵfac,providedIn:\"root\"}),UserPdfService})(),user_pdf_export_service_UserPdfExportService=(()=>{class UserPdfExportService{constructor(translate,userPdfService,pdfDocumentService){this.translate=translate,this.userPdfService=userPdfService,this.pdfDocumentService=pdfDocumentService}exportSingleUserAccessPDF(user){const doc=this.userPdfService.userAccessToDocDef(user),filename=`${this.translate.instant(\"Access-data\")} ${user.short_name}`;this.pdfDocumentService.download(doc,filename,{title:filename})}exportMultipleUserAccessPDF(users){const doc=[];users.forEach(user=>{doc.push(this.userPdfService.userAccessToDocDef(user)),doc.push({text:\"\",pageBreak:\"after\"})});const filename=this.translate.instant(\"Access-data\");this.pdfDocumentService.download(doc,filename,{title:filename})}exportUserList(users){const filename=this.translate.instant(\"List of participants\"),metadata={title:filename};this.pdfDocumentService.download(this.userPdfService.createUserListDocDef(users),filename,metadata)}}return UserPdfExportService.ɵfac=function(t){return new(t||UserPdfExportService)(core.dc(ngx_translate_core.k),core.dc(user_pdf_service_UserPdfService),core.dc(pdf_document_service.b))},UserPdfExportService.ɵprov=core.Pb({token:UserPdfExportService,factory:UserPdfExportService.ɵfac,providedIn:\"root\"}),UserPdfExportService})();var menu=__webpack_require__(\"STbY\"),divider=__webpack_require__(\"f0Cb\"),search_value_selector_component=__webpack_require__(\"oqD5\"),fesm2015_select=__webpack_require__(\"d3UM\"),fesm2015_core=__webpack_require__(\"FKr1\"),tinymce_tinymce_angular=__webpack_require__(\"fB2i\"),perms_directive=__webpack_require__(\"3Xi6\"),trust_pipe=__webpack_require__(\"7jBc\");function UserDetailComponent_span_3_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"New participant\")))}function UserDetailComponent_span_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.Yb()),2&rf){const ctx_r1=core.lc();core.Gb(1),core.Tc(ctx_r1.user.full_name)}}function UserDetailComponent_button_6_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"button\",11),core.Zb(1,\"mat-icon\"),core.Sc(2,\"more_vert\"),core.Yb(),core.Yb()),2&rf){core.lc();const _r3=core.Ec(8);core.tc(\"matMenuTriggerFor\",_r3)}}function UserDetailComponent_button_9_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"button\",12),core.hc(\"click\",(function(){return core.Ic(_r14),core.lc().changePassword()})),core.Zb(1,\"mat-icon\"),core.Sc(2,\"security\"),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Gb(4),core.Tc(core.nc(5,1,\"Change password\")))}function UserDetailComponent_button_10_Template(rf,ctx){if(1&rf){const _r16=core.ac();core.Zb(0,\"button\",12),core.hc(\"click\",(function(){return core.Ic(_r16),core.lc().sendInvitationEmail()})),core.Zb(1,\"mat-icon\"),core.Sc(2,\"mail\"),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Gb(4),core.Tc(core.nc(5,1,\"Send invitation email\")))}function UserDetailComponent_button_11_Template(rf,ctx){if(1&rf){const _r18=core.ac();core.Zb(0,\"button\",12),core.hc(\"click\",(function(){return core.Ic(_r18),core.lc().onDownloadPdf()})),core.Zb(1,\"mat-icon\"),core.Sc(2,\"picture_as_pdf\"),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Gb(4),core.Tc(core.nc(5,1,\"PDF\")))}function UserDetailComponent_div_12_Template(rf,ctx){if(1&rf){const _r20=core.ac();core.Zb(0,\"div\"),core.Ub(1,\"mat-divider\"),core.Zb(2,\"button\",13),core.hc(\"click\",(function(){return core.Ic(_r20),core.lc().deleteUserButton()})),core.Zb(3,\"mat-icon\"),core.Sc(4,\"delete\"),core.Yb(),core.Zb(5,\"span\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Yb()}2&rf&&(core.Gb(6),core.Tc(core.nc(7,1,\"Delete\")))}function UserDetailComponent_mat_card_14_ng_container_1_Template(rf,ctx){1&rf&&core.Vb(0)}function UserDetailComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",14),core.Qc(1,UserDetailComponent_mat_card_14_ng_container_1_Template,1,0,\"ng-container\",15),core.Yb()),2&rf){const ctx_r8=core.lc(),_r9=core.Ec(16),_r11=core.Ec(18);core.tc(\"ngClass\",ctx_r8.editUser?\"os-form-card\":\"os-card\"),core.Gb(1),core.tc(\"ngIf\",ctx_r8.editUser)(\"ngIfThen\",_r9)(\"ngIfElse\",_r11)}}function UserDetailComponent_ng_template_15_div_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"mat-form-field\",25),core.Ub(2,\"input\",26),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-form-field\",27),core.Ub(5,\"input\",28),core.mc(6,\"translate\"),core.Yb(),core.Zb(7,\"mat-form-field\",29),core.Ub(8,\"input\",30),core.mc(9,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Gb(2),core.uc(\"placeholder\",core.nc(3,3,\"Title\")),core.Gb(3),core.uc(\"placeholder\",core.nc(6,5,\"Given name\")),core.Gb(3),core.uc(\"placeholder\",core.nc(9,7,\"Surname\")))}function UserDetailComponent_ng_template_15_div_2_mat_error_4_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-error\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Uc(\" \",core.nc(2,1,\"Please enter a valid email address\"),\" \"))}function UserDetailComponent_ng_template_15_div_2_mat_option_10_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",37),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const gender_r32=ctx.$implicit;core.tc(\"value\",gender_r32),core.Gb(1),core.Tc(core.nc(2,2,gender_r32))}}function UserDetailComponent_ng_template_15_div_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"mat-form-field\",31),core.Ub(2,\"input\",32),core.mc(3,\"translate\"),core.Qc(4,UserDetailComponent_ng_template_15_div_2_mat_error_4_Template,3,3,\"mat-error\",2),core.Yb(),core.Zb(5,\"mat-form-field\",33),core.Zb(6,\"mat-select\",34),core.mc(7,\"translate\"),core.Zb(8,\"mat-option\",35),core.Sc(9,\"-\"),core.Yb(),core.Qc(10,UserDetailComponent_ng_template_15_div_2_mat_option_10_Template,3,4,\"mat-option\",36),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r23=core.lc(2);core.Gb(2),core.uc(\"placeholder\",core.nc(3,4,\"Email\")),core.Gb(2),core.tc(\"ngIf\",ctx_r23.personalInfoForm.get(\"email\").hasError(\"email\")),core.Gb(2),core.uc(\"placeholder\",core.nc(7,6,\"Gender\")),core.Gb(4),core.tc(\"ngForOf\",ctx_r23.genderList)}}function UserDetailComponent_ng_template_15_mat_form_field_10_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-form-field\",38),core.Ub(1,\"input\",39),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.uc(\"placeholder\",core.nc(2,1,\"Vote weight\")))}function UserDetailComponent_ng_template_15_div_15_Template(rf,ctx){if(1&rf){const _r34=core.ac();core.Zb(0,\"div\"),core.Zb(1,\"mat-form-field\"),core.Ub(2,\"input\",40),core.mc(3,\"translate\"),core.Zb(4,\"mat-hint\",41),core.Sc(5,\"Generate\"),core.Yb(),core.Zb(6,\"button\",42),core.hc(\"click\",(function(){return core.Ic(_r34),core.lc(2).generatePassword()})),core.Zb(7,\"mat-icon\"),core.Sc(8,\"sync_problem\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r25=core.lc(2);core.Gb(2),core.uc(\"placeholder\",core.nc(3,2,\"Initial password\")),core.Gb(4),core.tc(\"disabled\",!ctx_r25.newUser)}}function UserDetailComponent_ng_template_15_div_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",43),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Ub(4,\"editor\",44),core.Yb()),2&rf){const ctx_r26=core.lc(2);core.Gb(2),core.Tc(core.nc(3,2,\"About me\")),core.Gb(2),core.tc(\"init\",ctx_r26.tinyMceSettings)}}function UserDetailComponent_ng_template_15_div_17_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"mat-form-field\"),core.Ub(2,\"input\",45),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Gb(2),core.uc(\"placeholder\",core.nc(3,1,\"Username\")))}function UserDetailComponent_ng_template_15_div_18_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"mat-form-field\"),core.Ub(2,\"input\",46),core.mc(3,\"translate\"),core.Zb(4,\"mat-hint\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Gb(2),core.uc(\"placeholder\",core.nc(3,2,\"Comment\")),core.Gb(3),core.Tc(core.nc(6,4,\"Only for internal notes.\")))}function UserDetailComponent_ng_template_15_div_19_mat_checkbox_6_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-checkbox\",51),core.mc(1,\"translate\"),core.Zb(2,\"span\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.uc(\"matTooltip\",core.nc(1,2,\"Designates whether this user should be treated as active. Unselect this instead of deleting the account.\")),core.Gb(3),core.Tc(core.nc(4,4,\"Is active\")))}function UserDetailComponent_ng_template_15_div_19_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",47),core.Zb(1,\"mat-checkbox\",48),core.mc(2,\"translate\"),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Qc(6,UserDetailComponent_ng_template_15_div_19_mat_checkbox_6_Template,5,6,\"mat-checkbox\",49),core.Zb(7,\"mat-checkbox\",50),core.mc(8,\"translate\"),core.Zb(9,\"span\"),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Gb(1),core.uc(\"matTooltip\",core.nc(2,5,\"Designates whether this user is in the room.\")),core.Gb(3),core.Tc(core.nc(5,7,\"Is present\")),core.Gb(2),core.tc(\"osPerms\",\"users.can_see_extra_data\"),core.Gb(1),core.uc(\"matTooltip\",core.nc(8,9,\"Designates whether this user should be treated as a committee.\")),core.Gb(3),core.Tc(core.nc(11,11,\"Is a committee\")))}const user_detail_component_c0=function(a0,a1){return{form37:a0,form70:a1}},user_detail_component_c1=function(a0,a1,a2){return{distance:a0,form37:a1,form25:a2}};function UserDetailComponent_ng_template_15_Template(rf,ctx){if(1&rf){const _r37=core.ac();core.Zb(0,\"form\",16),core.hc(\"keydown\",(function($event){return core.Ic(_r37),core.lc().onKeyDown($event)})),core.Qc(1,UserDetailComponent_ng_template_15_div_1_Template,10,9,\"div\",2),core.Qc(2,UserDetailComponent_ng_template_15_div_2_Template,11,8,\"div\",2),core.Zb(3,\"div\"),core.Zb(4,\"mat-form-field\",17),core.Ub(5,\"input\",18),core.mc(6,\"translate\"),core.Yb(),core.Zb(7,\"mat-form-field\",19),core.Ub(8,\"input\",20),core.mc(9,\"translate\"),core.Yb(),core.Qc(10,UserDetailComponent_ng_template_15_mat_form_field_10_Template,3,3,\"mat-form-field\",21),core.Yb(),core.Zb(11,\"div\"),core.Zb(12,\"mat-form-field\"),core.Ub(13,\"os-search-value-selector\",22),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Qc(15,UserDetailComponent_ng_template_15_div_15_Template,9,4,\"div\",2),core.Qc(16,UserDetailComponent_ng_template_15_div_16_Template,5,4,\"div\",23),core.Qc(17,UserDetailComponent_ng_template_15_div_17_Template,4,3,\"div\",2),core.Qc(18,UserDetailComponent_ng_template_15_div_18_Template,7,6,\"div\",2),core.Qc(19,UserDetailComponent_ng_template_15_div_19_Template,12,13,\"div\",24),core.Yb()}if(2&rf){const ctx_r10=core.lc();core.tc(\"formGroup\",ctx_r10.personalInfoForm),core.Gb(1),core.tc(\"ngIf\",ctx_r10.isAllowed(\"seeName\")),core.Gb(1),core.tc(\"ngIf\",ctx_r10.isAllowed(\"seePersonal\")),core.Gb(2),core.tc(\"ngClass\",core.Ac(22,user_detail_component_c0,ctx_r10.showVoteWeight,!ctx_r10.showVoteWeight)),core.Gb(1),core.uc(\"placeholder\",core.nc(6,16,\"Structure level\")),core.Gb(2),core.tc(\"ngClass\",core.Bc(25,user_detail_component_c1,ctx_r10.showVoteWeight,ctx_r10.showVoteWeight,!ctx_r10.showVoteWeight)),core.Gb(1),core.uc(\"placeholder\",core.nc(9,18,\"Participant number\")),core.Gb(2),core.tc(\"ngIf\",ctx_r10.showVoteWeight),core.Gb(3),core.uc(\"placeholder\",core.nc(14,20,\"Groups\")),core.tc(\"multiple\",!0)(\"inputListValues\",ctx_r10.groups),core.Gb(2),core.tc(\"ngIf\",ctx_r10.isAllowed(\"manage\")),core.Gb(1),core.tc(\"ngIf\",ctx_r10.isAllowed(\"seePersonal\")),core.Gb(1),core.tc(\"ngIf\",ctx_r10.isAllowed(\"seePersonal\")),core.Gb(1),core.tc(\"ngIf\",ctx_r10.isAllowed(\"seeExtra\")),core.Gb(1),core.tc(\"ngIf\",ctx_r10.isAllowed(\"seeExtra\"))}}function UserDetailComponent_ng_template_17_ng_container_0_div_1_mat_icon_7_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-icon\",54),core.mc(1,\"translate\"),core.Sc(2,\"check_box\"),core.Yb()),2&rf&&core.uc(\"matTooltip\",core.nc(1,1,\"Is present\"))}function UserDetailComponent_ng_template_17_ng_container_0_div_1_mat_icon_8_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-icon\",54),core.mc(1,\"translate\"),core.Sc(2,\"account_balance\"),core.Yb()),2&rf&&core.uc(\"matTooltip\",core.nc(1,1,\"Is committee\"))}function UserDetailComponent_ng_template_17_ng_container_0_div_1_mat_icon_9_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-icon\",54),core.mc(1,\"translate\"),core.Sc(2,\"block\"),core.Yb()),2&rf&&core.uc(\"matTooltip\",core.nc(1,1,\"Inactive\"))}function UserDetailComponent_ng_template_17_ng_container_0_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\",52),core.Zb(5,\"span\"),core.Sc(6),core.Yb(),core.Qc(7,UserDetailComponent_ng_template_17_ng_container_0_div_1_mat_icon_7_Template,3,3,\"mat-icon\",53),core.Qc(8,UserDetailComponent_ng_template_17_ng_container_0_div_1_mat_icon_8_Template,3,3,\"mat-icon\",53),core.Qc(9,UserDetailComponent_ng_template_17_ng_container_0_div_1_mat_icon_9_Template,3,3,\"mat-icon\",53),core.Yb(),core.Yb()),2&rf){const ctx_r39=core.lc(3);core.Gb(2),core.Tc(core.nc(3,5,\"Name\")),core.Gb(4),core.Tc(ctx_r39.user.short_name),core.Gb(1),core.tc(\"ngIf\",ctx_r39.user.is_present&&ctx_r39.isAllowed(\"seeName\")),core.Gb(1),core.tc(\"ngIf\",ctx_r39.user.is_committee&&ctx_r39.isAllowed(\"seeName\")),core.Gb(1),core.tc(\"ngIf\",!ctx_r39.user.is_active&&ctx_r39.isAllowed(\"seeExtra\"))}}function UserDetailComponent_ng_template_17_ng_container_0_div_2_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Yb()),2&rf){const ctx_r53=core.lc(4);core.Gb(2),core.Tc(core.nc(3,2,\"Email\")),core.Gb(3),core.Tc(ctx_r53.user.email)}}function UserDetailComponent_ng_template_17_ng_container_0_div_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Qc(1,UserDetailComponent_ng_template_17_ng_container_0_div_2_div_1_Template,6,4,\"div\",2),core.Yb()),2&rf){const ctx_r40=core.lc(3);core.Gb(1),core.tc(\"ngIf\",ctx_r40.user.email)}}function UserDetailComponent_ng_template_17_ng_container_0_div_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r41=core.lc(3);core.Gb(2),core.Tc(core.nc(3,2,\"Gender\")),core.Gb(3),core.Tc(core.nc(6,4,ctx_r41.user.gender))}}function UserDetailComponent_ng_template_17_ng_container_0_div_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Yb()),2&rf){const ctx_r42=core.lc(3);core.Gb(2),core.Tc(core.nc(3,2,\"Structure level\")),core.Gb(3),core.Tc(ctx_r42.user.structure_level)}}function UserDetailComponent_ng_template_17_ng_container_0_div_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Yb()),2&rf){const ctx_r43=core.lc(3);core.Gb(2),core.Tc(core.nc(3,2,\"Participant number\")),core.Gb(3),core.Tc(ctx_r43.user.number)}}function UserDetailComponent_ng_template_17_ng_container_0_div_6_span_4_span_3_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1,\", \"),core.Yb())}function UserDetailComponent_ng_template_17_ng_container_0_div_6_span_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Qc(3,UserDetailComponent_ng_template_17_ng_container_0_div_6_span_4_span_3_Template,2,0,\"span\",2),core.Yb()),2&rf){const group_r55=ctx.$implicit,last_r56=ctx.last;core.Gb(1),core.Uc(\" \",core.nc(2,2,group_r55.getTitle()),\"\"),core.Gb(2),core.tc(\"ngIf\",!last_r56)}}function UserDetailComponent_ng_template_17_ng_container_0_div_6_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Qc(4,UserDetailComponent_ng_template_17_ng_container_0_div_6_span_4_Template,4,4,\"span\",55),core.Yb()),2&rf){const ctx_r44=core.lc(3);core.Gb(2),core.Tc(core.nc(3,2,\"Groups\")),core.Gb(2),core.tc(\"ngForOf\",ctx_r44.user.groups)}}function UserDetailComponent_ng_template_17_ng_container_0_div_7_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Gb(2),core.Tc(core.nc(3,2,\"Groups\")),core.Gb(3),core.Tc(core.nc(6,4,\"Default group\")))}function UserDetailComponent_ng_template_17_ng_container_0_div_8_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Yb()),2&rf){const ctx_r58=core.lc(4);core.Gb(2),core.Tc(core.nc(3,2,\"Vote weight\")),core.Gb(3),core.Tc(ctx_r58.user.vote_weight)}}function UserDetailComponent_ng_template_17_ng_container_0_div_8_div_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Yb()),2&rf){const ctx_r59=core.lc(4);core.Gb(2),core.Tc(core.nc(3,2,\"Username\")),core.Gb(3),core.Tc(ctx_r59.user.username)}}function UserDetailComponent_ng_template_17_ng_container_0_div_8_div_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Yb()),2&rf){const ctx_r60=core.lc(4);core.Gb(2),core.Tc(core.nc(3,2,\"Initial password\")),core.Gb(3),core.Tc(ctx_r60.user.default_password)}}function UserDetailComponent_ng_template_17_ng_container_0_div_8_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Qc(1,UserDetailComponent_ng_template_17_ng_container_0_div_8_div_1_Template,6,4,\"div\",2),core.Qc(2,UserDetailComponent_ng_template_17_ng_container_0_div_8_div_2_Template,6,4,\"div\",2),core.Qc(3,UserDetailComponent_ng_template_17_ng_container_0_div_8_div_3_Template,6,4,\"div\",2),core.Yb()),2&rf){const ctx_r46=core.lc(3);core.Gb(1),core.tc(\"ngIf\",ctx_r46.user.vote_weight&&ctx_r46.showVoteWeight),core.Gb(1),core.tc(\"ngIf\",ctx_r46.user.username),core.Gb(1),core.tc(\"ngIf\",ctx_r46.user.default_password)}}function UserDetailComponent_ng_template_17_ng_container_0_div_9_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Ub(4,\"div\",56),core.mc(5,\"trust\"),core.Yb()),2&rf){const ctx_r61=core.lc(4);core.Gb(2),core.Tc(core.nc(3,2,\"About me\")),core.Gb(2),core.tc(\"innerHTML\",core.oc(5,4,ctx_r61.user.about_me,\"html\"),core.Jc)}}function UserDetailComponent_ng_template_17_ng_container_0_div_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Qc(1,UserDetailComponent_ng_template_17_ng_container_0_div_9_div_1_Template,6,7,\"div\",2),core.Yb()),2&rf){const ctx_r47=core.lc(3);core.Gb(1),core.tc(\"ngIf\",ctx_r47.user.about_me)}}function UserDetailComponent_ng_template_17_ng_container_0_div_10_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h4\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Yb()),2&rf){const ctx_r62=core.lc(4);core.Gb(2),core.Tc(core.nc(3,2,\"Comment\")),core.Gb(3),core.Tc(ctx_r62.user.comment)}}function UserDetailComponent_ng_template_17_ng_container_0_div_10_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Qc(1,UserDetailComponent_ng_template_17_ng_container_0_div_10_div_1_Template,6,4,\"div\",2),core.Yb()),2&rf){const ctx_r48=core.lc(3);core.Gb(1),core.tc(\"ngIf\",ctx_r48.user.comment)}}function UserDetailComponent_ng_template_17_ng_container_0_div_11_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"div\"),core.Zb(2,\"h4\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Zb(5,\"span\"),core.Sc(6),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r49=core.lc(3);core.Gb(3),core.Tc(core.nc(4,2,\"Last email sent\")),core.Gb(3),core.Tc(ctx_r49.getEmailSentTime())}}function UserDetailComponent_ng_template_17_ng_container_0_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,UserDetailComponent_ng_template_17_ng_container_0_div_1_Template,10,7,\"div\",2),core.Qc(2,UserDetailComponent_ng_template_17_ng_container_0_div_2_Template,2,1,\"div\",2),core.Qc(3,UserDetailComponent_ng_template_17_ng_container_0_div_3_Template,7,6,\"div\",2),core.Qc(4,UserDetailComponent_ng_template_17_ng_container_0_div_4_Template,6,4,\"div\",2),core.Qc(5,UserDetailComponent_ng_template_17_ng_container_0_div_5_Template,6,4,\"div\",2),core.Qc(6,UserDetailComponent_ng_template_17_ng_container_0_div_6_Template,5,4,\"div\",2),core.Qc(7,UserDetailComponent_ng_template_17_ng_container_0_div_7_Template,7,6,\"div\",2),core.Qc(8,UserDetailComponent_ng_template_17_ng_container_0_div_8_Template,4,3,\"div\",2),core.Qc(9,UserDetailComponent_ng_template_17_ng_container_0_div_9_Template,2,1,\"div\",2),core.Qc(10,UserDetailComponent_ng_template_17_ng_container_0_div_10_Template,2,1,\"div\",2),core.Qc(11,UserDetailComponent_ng_template_17_ng_container_0_div_11_Template,7,4,\"div\",2),core.Wb()),2&rf){const ctx_r38=core.lc(2);core.Gb(1),core.tc(\"ngIf\",ctx_r38.isAllowed(\"seeName\")),core.Gb(1),core.tc(\"ngIf\",ctx_r38.isAllowed(\"seePersonal\")),core.Gb(1),core.tc(\"ngIf\",ctx_r38.user.gender),core.Gb(1),core.tc(\"ngIf\",ctx_r38.user.structure_level),core.Gb(1),core.tc(\"ngIf\",ctx_r38.user.number),core.Gb(1),core.tc(\"ngIf\",ctx_r38.user.groups&&ctx_r38.user.groups.length>0),core.Gb(1),core.tc(\"ngIf\",!ctx_r38.user.groups||0===ctx_r38.user.groups.length),core.Gb(1),core.tc(\"ngIf\",ctx_r38.isAllowed(\"manage\")),core.Gb(1),core.tc(\"ngIf\",ctx_r38.isAllowed(\"seeName\")),core.Gb(1),core.tc(\"ngIf\",ctx_r38.isAllowed(\"seeExtra\")),core.Gb(1),core.tc(\"ngIf\",ctx_r38.isAllowed(\"seePersonal\")&&ctx_r38.user.isLastEmailSend)}}function UserDetailComponent_ng_template_17_Template(rf,ctx){if(1&rf&&core.Qc(0,UserDetailComponent_ng_template_17_ng_container_0_Template,12,11,\"ng-container\",2),2&rf){const ctx_r12=core.lc();core.tc(\"ngIf\",ctx_r12.user)}}let user_detail_component_UserDetailComponent=(()=>{class UserDetailComponent extends base_view.a{constructor(title,translate,matSnackBar,formBuilder,route,router,repo,operator,promptService,pdfService,groupRepo,constantsService,pollService,configService){super(title,translate,matSnackBar),this.translate=translate,this.formBuilder=formBuilder,this.route=route,this.router=router,this.repo=repo,this.operator=operator,this.promptService=promptService,this.pdfService=pdfService,this.groupRepo=groupRepo,this.constantsService=constantsService,this.pollService=pollService,this.ownPage=!1,this.editUser=!1,this.newUser=!1,this.canManage=!1,this.groups=new BehaviorSubject.a([]),this.genderList=users_user.c,this.userBackends=null,this.createForm(),this.constantsService.get(\"UserBackends\").subscribe(backends=>this.userBackends=backends),configService.get(\"users_activate_vote_weight\").subscribe(active=>this.isVoteWeightActive=active),this.groupRepo.getViewModelListObservableWithoutDefaultGroup().subscribe(this.groups)}get showVoteWeight(){return this.pollService.isElectronicVotingEnabled&&this.isVoteWeightActive}ngOnInit(){this.route.snapshot.url[0]&&\"new\"===this.route.snapshot.url[0].path?(super.setTitle(\"New participant\"),this.newUser=!0,this.setEditMode(!0)):this.route.params.subscribe(params=>{this.subscriptions.push(this.repo.getViewModelObservable(+params.id).subscribe(user=>{if(user&&!this.editUser){const title=user.getTitle();super.setTitle(title),this.user=user}})),this.subscriptions.push(this.operator.getUserObservable().subscribe(()=>{this.ownPage=this.operator.user&&this.operator.user.id===+params.id}))})}createForm(){this.personalInfoForm=this.formBuilder.group({username:[\"\"],title:[\"\"],first_name:[\"\"],last_name:[\"\"],gender:[\"\"],structure_level:[\"\"],number:[\"\"],vote_weight:[],about_me:[\"\"],groups_id:[\"\"],is_present:[!0],is_committee:[!1],email:[\"\",fesm2015_forms.G.email],last_email_send:[\"\"],comment:[\"\"],is_active:[!0],default_password:[\"\"]},{validators:one_of_validator.a.validation(\"username\",\"first_name\",\"last_name\")})}isAllowed(action){switch(action){case\"delete\":return this.operator.hasPerms(operator_service.b.usersCanManage)&&!this.ownPage;case\"manage\":return this.operator.hasPerms(operator_service.b.usersCanManage);case\"seeName\":return this.operator.hasPerms(operator_service.b.usersCanSeeName,operator_service.b.usersCanManage)||this.ownPage;case\"seeOtherUsers\":return this.operator.hasPerms(operator_service.b.usersCanSeeName,operator_service.b.usersCanManage);case\"seeExtra\":return this.operator.hasPerms(operator_service.b.usersCanSeeExtraData,operator_service.b.usersCanManage);case\"seePersonal\":return this.operator.hasPerms(operator_service.b.usersCanSeeExtraData,operator_service.b.usersCanManage)||this.ownPage;case\"changePersonal\":return this.operator.hasPerms(operator_service.b.usersCanManage)||this.ownPage;case\"changePassword\":return this.ownPage&&this.operator.hasPerms(operator_service.b.usersCanChangePassword)||this.operator.hasPerms(operator_service.b.usersCanManage);default:return!1}}patchFormValues(){const personalInfoPatch={};Object.keys(this.personalInfoForm.controls).forEach(ctrl=>{personalInfoPatch[ctrl]=this.user[ctrl]}),this.personalInfoForm.patchValue(personalInfoPatch)}updateFormControlsAccesibility(){const formControlNames=Object.keys(this.personalInfoForm.controls);formControlNames.forEach(formControlName=>{this.personalInfoForm.get(formControlName).enable()}),this.isAllowed(\"manage\")||formControlNames.forEach(formControlName=>{[\"username\",\"email\",\"about_me\"].includes(formControlName)||this.personalInfoForm.get(formControlName).disable()}),!this.newUser&&this.user.auth_type&&this.userBackends&&this.userBackends[this.user.auth_type]&&this.userBackends[this.user.auth_type].disallowedUpdateKeys.forEach(key=>{this.personalInfoForm.get(key).disable()})}generatePassword(){this.personalInfoForm.patchValue({default_password:this.repo.getRandomPassword()})}onKeyDown(event){\"Enter\"===event.key&&event.shiftKey&&this.saveUser()}saveUser(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){if(this.personalInfoForm.invalid){let hint=\"\";if(this.personalInfoForm.errors)hint=\"At least one of username, first name or last name has to be set.\";else for(const formControl in this.personalInfoForm.controls)this.personalInfoForm.get(formControl).errors&&(hint=formControl+\" is incorrect.\");this.raiseError(this.translate.instant(hint))}else try{this.newUser?(yield this.repo.create(this.personalInfoForm.value),this.router.navigate([\"./users/\"])):(yield this.repo.update(this.personalInfoForm.value,this.user),this.setEditMode(!1))}catch(e){this.raiseError(e)}}))}setEditMode(edit){this.editUser=edit,this.updateFormControlsAccesibility(),!this.newUser&&edit&&this.patchFormValues(),this.newUser&&!edit&&this.router.navigate([\"./users/\"])}deleteUserButton(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const title=this.translate.instant(\"Are you sure you want to delete this participant?\"),content=this.user.full_name;(yield this.promptService.open(title,content))&&this.repo.delete(this.user).then(()=>this.router.navigate([\"./users/\"]),this.raiseError)}))}changePassword(){this.router.navigate([\"./users/password/\"+this.user.id])}onDownloadPdf(){this.pdfService.exportSingleUserAccessPDF(this.user)}sendInvitationEmail(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const title=this.translate.instant(\"Sending an invitation email\"),content=this.translate.instant(\"Are you sure you want to send an invitation email to the user?\");(yield this.promptService.open(title,content))&&this.repo.bulkSendInvitationEmail([this.user]).then(this.raiseError,this.raiseError)}))}getEmailSentTime(){return this.user.isLastEmailSend?this.repo.lastSentEmailTimeString(this.user):this.translate.instant(\"No email sent\")}}return UserDetailComponent.ɵfac=function(t){return new(t||UserDetailComponent)(core.Tb(platform_browser.d),core.Tb(ngx_translate_core.k),core.Tb(snack_bar.a),core.Tb(fesm2015_forms.f),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.f),core.Tb(user_repository_service.a),core.Tb(operator_service.a),core.Tb(prompt_service.a),core.Tb(user_pdf_export_service_UserPdfExportService),core.Tb(group_repository_service.a),core.Tb(constants_service.a),core.Tb(poll_service.a),core.Tb(config_service.a))},UserDetailComponent.ɵcmp=core.Nb({type:UserDetailComponent,selectors:[[\"os-user-detail\"]],features:[core.Db],decls:19,vars:13,consts:[[\"mainButtonIcon\",\"edit\",3,\"hasMainButton\",\"nav\",\"goBack\",\"editMode\",\"isSaveButtonEnabled\",\"mainEvent\",\"saveEvent\"],[1,\"title-slot\"],[4,\"ngIf\"],[1,\"menu-slot\"],[\"type\",\"button\",\"mat-icon-button\",\"\",3,\"matMenuTriggerFor\",4,\"ngIf\"],[\"userExtraMenu\",\"matMenu\"],[\"mat-menu-item\",\"\",3,\"click\",4,\"ngIf\"],[1,\"content-container\"],[\"class\",\"spacer-bottom-60\",3,\"ngClass\",4,\"ngIf\"],[\"editView\",\"\"],[\"showView\",\"\"],[\"type\",\"button\",\"mat-icon-button\",\"\",3,\"matMenuTriggerFor\"],[\"mat-menu-item\",\"\",3,\"click\"],[\"mat-menu-item\",\"\",1,\"red-warning-text\",3,\"click\"],[1,\"spacer-bottom-60\",3,\"ngClass\"],[4,\"ngIf\",\"ngIfThen\",\"ngIfElse\"],[3,\"formGroup\",\"keydown\"],[1,\"distance\",3,\"ngClass\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"structure_level\",3,\"placeholder\"],[3,\"ngClass\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"number\",3,\"placeholder\"],[\"class\",\"form16 force-min-with\",4,\"ngIf\"],[\"formControlName\",\"groups_id\",3,\"multiple\",\"placeholder\",\"inputListValues\"],[\"class\",\"spacer-bottom-20\",4,\"ngIf\"],[\"class\",\"spacer-top-20\",4,\"ngIf\"],[1,\"form16\",\"distance\",\"force-min-with\"],[\"type\",\"text\",\"matInput\",\"\",\"osAutofocus\",\"\",\"formControlName\",\"title\",3,\"placeholder\"],[1,\"form37\",\"distance\",\"force-min-with\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"first_name\",3,\"placeholder\"],[1,\"form37\",\"force-min-with\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"last_name\",3,\"placeholder\"],[1,\"form70\",\"distance\"],[\"type\",\"email\",\"matInput\",\"\",\"autocomplete\",\"off\",\"name\",\"email\",\"formControlName\",\"email\",3,\"placeholder\"],[1,\"form25\",\"force-min-with\"],[\"formControlName\",\"gender\",3,\"placeholder\"],[\"value\",\"\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[3,\"value\"],[1,\"form16\",\"force-min-with\"],[\"type\",\"number\",\"matInput\",\"\",\"formControlName\",\"vote_weight\",3,\"placeholder\"],[\"matInput\",\"\",\"autocomplete\",\"off\",\"formControlName\",\"default_password\",3,\"placeholder\"],[\"align\",\"end\"],[\"type\",\"button\",\"mat-button\",\"\",\"matSuffix\",\"\",\"mat-icon-button\",\"\",3,\"disabled\",\"click\"],[1,\"spacer-bottom-20\"],[\"formControlName\",\"about_me\",3,\"init\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"username\",3,\"placeholder\"],[\"matInput\",\"\",\"formControlName\",\"comment\",3,\"placeholder\"],[1,\"spacer-top-20\"],[\"formControlName\",\"is_present\",3,\"matTooltip\"],[\"formControlName\",\"is_active\",3,\"matTooltip\",4,\"osPerms\"],[\"formControlName\",\"is_committee\",3,\"matTooltip\"],[\"formControlName\",\"is_active\",3,\"matTooltip\"],[1,\"state-icons\"],[3,\"matTooltip\",4,\"ngIf\"],[3,\"matTooltip\"],[4,\"ngFor\",\"ngForOf\"],[3,\"innerHTML\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"os-head-bar\",0),core.hc(\"mainEvent\",(function(){return ctx.setEditMode(!ctx.editUser)}))(\"saveEvent\",(function(){return ctx.saveUser()})),core.Zb(1,\"div\",1),core.Zb(2,\"h2\"),core.Qc(3,UserDetailComponent_span_3_Template,3,3,\"span\",2),core.Qc(4,UserDetailComponent_span_4_Template,2,1,\"span\",2),core.Yb(),core.Yb(),core.Zb(5,\"div\",3),core.Qc(6,UserDetailComponent_button_6_Template,3,1,\"button\",4),core.Yb(),core.Zb(7,\"mat-menu\",null,5),core.Qc(9,UserDetailComponent_button_9_Template,6,3,\"button\",6),core.Qc(10,UserDetailComponent_button_10_Template,6,3,\"button\",6),core.Qc(11,UserDetailComponent_button_11_Template,6,3,\"button\",6),core.Qc(12,UserDetailComponent_div_12_Template,8,3,\"div\",2),core.Yb(),core.Yb(),core.Zb(13,\"div\",7),core.Qc(14,UserDetailComponent_mat_card_14_Template,2,4,\"mat-card\",8),core.Yb(),core.Qc(15,UserDetailComponent_ng_template_15_Template,20,29,\"ng-template\",null,9,core.Rc),core.Qc(17,UserDetailComponent_ng_template_17_Template,1,1,\"ng-template\",null,10,core.Rc)),2&rf&&(core.tc(\"hasMainButton\",ctx.isAllowed(\"changePersonal\"))(\"nav\",!1)(\"goBack\",!ctx.isAllowed(\"seeOtherUsers\"))(\"editMode\",ctx.editUser)(\"isSaveButtonEnabled\",ctx.personalInfoForm.valid),core.Gb(3),core.tc(\"ngIf\",ctx.newUser),core.Gb(1),core.tc(\"ngIf\",!ctx.newUser&&ctx.user),core.Gb(2),core.tc(\"ngIf\",ctx.isAllowed(\"changePersonal\")&&ctx.isAllowed(\"changePassword\")),core.Gb(3),core.tc(\"ngIf\",ctx.isAllowed(\"changePassword\")),core.Gb(1),core.tc(\"ngIf\",ctx.isAllowed(\"manage\")&&ctx.user&&ctx.user.email),core.Gb(1),core.tc(\"ngIf\",ctx.isAllowed(\"manage\")),core.Gb(1),core.tc(\"ngIf\",ctx.isAllowed(\"delete\")),core.Gb(2),core.tc(\"ngIf\",ctx.isAllowed(\"seeName\")))},directives:[head_bar_component.a,common.t,menu.f,fesm2015_button.b,menu.e,icon.a,menu.c,divider.a,card.a,common.q,fesm2015_forms.I,fesm2015_forms.t,fesm2015_forms.k,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.s,fesm2015_forms.i,search_value_selector_component.a,autofocus_directive.a,fesm2015_select.a,fesm2015_core.n,common.s,form_field.b,fesm2015_forms.y,form_field.f,form_field.j,tinymce_tinymce_angular.a,fesm2015_checkbox.a,tooltip.c,perms_directive.a],pipes:[ngx_translate_core.j,trust_pipe.a],styles:[\"@media screen and (min-width:600px){.form70[_ngcontent-%COMP%]{width:70%}.form37[_ngcontent-%COMP%]{width:37%}.form25[_ngcontent-%COMP%]{width:25%}.form16[_ngcontent-%COMP%]{width:16%}}.force-min-width[_ngcontent-%COMP%]{min-width:110px}.distance[_ngcontent-%COMP%]{padding-right:5%}mat-checkbox[_ngcontent-%COMP%]{margin-right:10px}.state-icons[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.state-icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}\"]}),UserDetailComponent})();var csv_export_service=__webpack_require__(\"1NkQ\"),base_import_list=__webpack_require__(\"gjbj\"),base_import_service=__webpack_require__(\"E2rH\"),users_group=__webpack_require__(\"T9OK\");class import_create_user_ImportCreateUser extends users_user.b{constructor(){super(...arguments),this.csvGroups=[]}get isValid(){return!!(this.first_name||this.last_name||this.username)}solveGroups(groups){let open=0;const ids=[];return this.csvGroups.forEach(group=>{if(group.id)return void ids.push(group.id);if(!groups.length)return void(open+=1);const mapped=groups.find(newGroup=>newGroup.name===group.name);mapped?(group.id=mapped.id,ids.push(mapped.id)):open+=1}),this.groups_id=ids,open}}var ngx_papaparse=__webpack_require__(\"P6Fj\");let user_import_service_UserImportService=(()=>{class UserImportService extends base_import_service.a{constructor(repo,groupRepo,translate,papa,matSnackbar){super(translate,papa,matSnackbar),this.repo=repo,this.groupRepo=groupRepo,this.headerMap=[\"title\",\"first_name\",\"last_name\",\"structure_level\",\"number\",\"groups_id\",\"comment\",\"is_active\",\"is_present\",\"is_committee\",\"default_password\",\"email\",\"username\",\"gender\",\"vote_weight\"],this.requiredHeaderLength=3,this.errorList={Group:\"Group cannot be resolved\",Duplicates:\"This user already exists\",NoName:\"Entry has no valid name\",DuplicateImport:\"Entry cannot be imported twice. This line will be ommitted\",ParsingErrors:\"Some csv values could not be read correctly.\",FailedImport:\"Imported user could not be imported.\",vote_weight:\"The vote weight has too many decimal places (max.: 6).\"},this.expectedHeader=this.headerMap}clearData(){this.newGroups=[]}mapData(line){const user=new import_create_user_ImportCreateUser,headerLength=Math.min(this.expectedHeader.length,line.length);let hasErrors=!1;for(let idx=0;idx<headerLength;idx++)switch(this.expectedHeader[idx]){case\"groups_id\":user.csvGroups=this.getGroups(line[idx]);break;case\"is_active\":case\"is_committee\":case\"is_present\":try{user[this.expectedHeader[idx]]=this.toBoolean(line[idx])}catch(e){if(e instanceof TypeError){console.log(e),hasErrors=!0;continue}}break;case\"number\":user.number=line[idx];break;case\"vote_weight\":user[this.expectedHeader[idx]]=line[idx]?line[idx]:1;break;default:user[this.expectedHeader[idx]]=line[idx]}const newEntry=this.userToEntry(user);return hasErrors&&this.setError(newEntry,\"ParsingErrors\"),newEntry}doImport(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.newGroups=yield this.createNewGroups();const importUsers=[];let trackId=1;for(const entry of this.entries)\"new\"===entry.status&&(entry.newEntry.solveGroups(this.newGroups)?(this.setError(entry,\"Group\"),this.updatePreview()):(entry.importTrackId=trackId,trackId+=1,importUsers.push(entry)));for(;importUsers.length;){const subSet=importUsers.splice(0,100),result=yield this.repo.bulkCreate(subSet);subSet.forEach(importUser=>{importUser&&result.importedTrackIds.includes(importUser.importTrackId)?importUser.status=\"done\":this.setError(importUser,result.errors[importUser.importTrackId]?result.errors[importUser.importTrackId]:\"FailedImport\")}),this.updatePreview()}}))}getGroups(groupString){const result=[];if(!groupString)return[];groupString.trim();const groupArray=groupString.split(\",\");for(const item of groupArray){const newGroup=item.trim();let existingGroup=this.groupRepo.getViewModelList().filter(grp=>grp.name===newGroup);existingGroup.length||(existingGroup=this.groupRepo.getViewModelList().filter(grp=>this.translate.instant(grp.name)===newGroup)),existingGroup.length?1===existingGroup.length&&result.push({name:existingGroup[0].name,id:existingGroup[0].id}):(this.newGroups.find(listedGrp=>listedGrp.name===newGroup)||this.newGroups.push({name:newGroup}),result.push({name:newGroup}))}return result}createNewGroups(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const promises=[];for(const group of this.newGroups)promises.push(this.groupRepo.create(new users_group.a({name:group.name})).then(identifiable=>({name:group.name,id:identifiable.id})));return yield Promise.all(promises)}))}toBoolean(data){if(data&&\"0\"!==data&&\"false\"!==data){if(\"1\"===data||\"true\"===data)return!0;throw new TypeError(\"Value cannot be translated into boolean: \"+data)}return!1}parseTextArea(data){const newEntries=[];this.clearData(),this.clearPreview(),data.split(\"\\n\").forEach(line=>{if(!line.length)return;const nameSchema=line.includes(\",\")?\"lastCommaFirst\":\"firstSpaceLast\",newUser=new import_create_user_ImportCreateUser(this.repo.parseUserString(line,nameSchema)),newEntry=this.userToEntry(newUser);newEntries.push(newEntry)}),this.setParsedEntries(newEntries)}userToEntry(user){const newEntry={newEntry:user,hasDuplicates:!1,status:\"new\",errors:[]};return user.isValid?(newEntry.hasDuplicates=this.repo.getViewModelList().some(existingUser=>existingUser.full_name===this.repo.getFullName(user)),newEntry.hasDuplicates&&this.setError(newEntry,\"Duplicates\")):this.setError(newEntry,\"NoName\"),newEntry}}return UserImportService.ɵfac=function(t){return new(t||UserImportService)(core.dc(user_repository_service.a),core.dc(group_repository_service.a),core.dc(ngx_translate_core.k),core.dc(ngx_papaparse.a),core.dc(snack_bar.a))},UserImportService.ɵprov=core.Pb({token:UserImportService,factory:UserImportService.ɵfac,providedIn:\"root\"}),UserImportService})();var tabs=__webpack_require__(\"wZkO\"),text_field=__webpack_require__(\"ihCf\"),sort=__webpack_require__(\"Dh3D\");function UserImportListComponent_button_6_Template(rf,ctx){if(1&rf){const _r8=core.ac();core.Zb(0,\"button\",21),core.hc(\"click\",(function(){return core.Ic(_r8),core.lc().doImport()})),core.Zb(1,\"span\",22),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Gb(2),core.Tc(core.nc(3,1,\"Import\")))}function UserImportListComponent_span_40_span_3_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1,\", \"),core.Yb())}function UserImportListComponent_span_40_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Qc(3,UserImportListComponent_span_40_span_3_Template,2,0,\"span\",23),core.Yb()),2&rf){const entry_r9=ctx.$implicit,last_r10=ctx.last;core.Gb(1),core.Uc(\" \",core.nc(2,2,entry_r9),\"\"),core.Gb(2),core.tc(\"ngIf\",!last_r10)}}function UserImportListComponent_mat_option_57_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",24),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const option_r12=ctx.$implicit;core.tc(\"value\",option_r12.value),core.Gb(1),core.Uc(\" \",core.nc(2,2,option_r12.label),\" \")}}function UserImportListComponent_mat_option_63_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",24),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const option_r13=ctx.$implicit;core.tc(\"value\",option_r13.value),core.Gb(1),core.Uc(\" \",core.nc(2,2,option_r13.label),\" \")}}function UserImportListComponent_mat_option_69_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",24),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const option_r14=ctx.$implicit;core.tc(\"value\",option_r14.value),core.Gb(1),core.Uc(\" \",core.nc(2,2,option_r14.label),\" \")}}function UserImportListComponent_mat_card_78_div_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Sc(1,\"   \"),core.Zb(2,\"mat-icon\",53),core.Sc(3,\"playlist_add\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Zb(6,\"span\"),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r15=core.lc(2);core.Gb(5),core.Uc(\" \",ctx_r15.newCount,\" \"),core.Gb(2),core.Tc(core.nc(8,2,\"Participant(s) will be imported.\"))}}function UserImportListComponent_mat_card_78_div_6_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",54),core.Sc(1,\"   \"),core.Zb(2,\"mat-icon\",53),core.Sc(3,\"warning\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Zb(6,\"span\"),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r16=core.lc(2);core.Gb(5),core.Uc(\" \",ctx_r16.nonImportableCount,\" \"),core.Gb(2),core.Tc(core.nc(8,2,\"entries will be ommitted.\"))}}function UserImportListComponent_mat_card_78_div_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",55),core.Sc(1,\"   \"),core.Zb(2,\"mat-icon\",53),core.Sc(3,\"done\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Zb(6,\"span\"),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r17=core.lc(2);core.Gb(5),core.Uc(\" \",ctx_r17.doneCount,\" \"),core.Gb(2),core.Tc(core.nc(8,2,\"Participants have been imported.\"))}}function UserImportListComponent_mat_card_78_div_8_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"span\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Gb(2),core.Tc(core.nc(3,1,'After verifiy the preview click on \"import\" please (see top right).')))}function UserImportListComponent_mat_card_78_mat_select_9_Template(rf,ctx){if(1&rf){const _r55=core.ac();core.Zb(0,\"mat-select\",56),core.hc(\"valueChange\",(function($event){return core.Ic(_r55),core.lc(2).shown=$event}))(\"selectionChange\",(function(){return core.Ic(_r55),core.lc(2).setFilter()})),core.Zb(1,\"mat-option\",57),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-option\",58),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Zb(7,\"mat-option\",59),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const ctx_r19=core.lc(2);core.tc(\"value\",ctx_r19.shown),core.Gb(2),core.Tc(core.nc(3,4,\"Show all\")),core.Gb(3),core.Tc(core.nc(6,6,\"Show errors only\")),core.Gb(3),core.Tc(core.nc(9,8,\"Show correct entries only\"))}}function UserImportListComponent_mat_card_78_mat_header_cell_13_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\",60)}function UserImportListComponent_mat_card_78_mat_cell_14_div_1_mat_icon_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-icon\",63),core.mc(1,\"translate\"),core.Sc(2,\" warning \"),core.Yb()),2&rf){const ctx_r61=core.lc(4);core.uc(\"matTooltip\",core.nc(1,1,ctx_r61.getVerboseError(\"ParsingErrors\")))}}function UserImportListComponent_mat_card_78_mat_cell_14_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"mat-icon\",61),core.mc(2,\"translate\"),core.Sc(3),core.Yb(),core.Qc(4,UserImportListComponent_mat_card_78_mat_cell_14_div_1_mat_icon_4_Template,3,3,\"mat-icon\",62),core.Yb()),2&rf){const entry_r57=core.lc().$implicit,ctx_r58=core.lc(2);core.Gb(1),core.wc(\"matTooltip\",\"\",entry_r57.errors.length,\" \",core.nc(2,4,\"errors\"),\"\"),core.Gb(2),core.Uc(\" \",ctx_r58.getActionIcon(entry_r57),\" \"),core.Gb(1),core.tc(\"ngIf\",ctx_r58.hasError(entry_r57,\"ParsingErrors\"))}}function UserImportListComponent_mat_card_78_mat_cell_14_div_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"mat-icon\",64),core.mc(2,\"translate\"),core.Sc(3),core.Yb(),core.Yb()),2&rf){const entry_r57=core.lc().$implicit,ctx_r59=core.lc(2);core.Gb(1),core.uc(\"matTooltip\",core.nc(2,2,\"Participant will be imported\")),core.Gb(2),core.Uc(\" \",ctx_r59.getActionIcon(entry_r57),\" \")}}function UserImportListComponent_mat_card_78_mat_cell_14_div_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"mat-icon\",64),core.mc(2,\"translate\"),core.Sc(3),core.Yb(),core.Yb()),2&rf){const entry_r57=core.lc().$implicit,ctx_r60=core.lc(2);core.Gb(1),core.uc(\"matTooltip\",core.nc(2,2,\"Participant has been imported\")),core.Gb(2),core.Uc(\" \",ctx_r60.getActionIcon(entry_r57),\" \")}}function UserImportListComponent_mat_card_78_mat_cell_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",60),core.Qc(1,UserImportListComponent_mat_card_78_mat_cell_14_div_1_Template,5,6,\"div\",23),core.Qc(2,UserImportListComponent_mat_card_78_mat_cell_14_div_2_Template,4,4,\"div\",23),core.Qc(3,UserImportListComponent_mat_card_78_mat_cell_14_div_3_Template,4,4,\"div\",23),core.Yb()),2&rf){const entry_r57=ctx.$implicit;core.Gb(1),core.tc(\"ngIf\",\"error\"===entry_r57.status),core.Gb(1),core.tc(\"ngIf\",\"new\"===entry_r57.status),core.Gb(1),core.tc(\"ngIf\",\"done\"===entry_r57.status)}}function UserImportListComponent_mat_card_78_mat_header_cell_16_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Title\")))}function UserImportListComponent_mat_card_78_mat_cell_17_span_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Zb(1,\"mat-icon\",65),core.mc(2,\"translate\"),core.Sc(3,\" warning \"),core.Yb(),core.Sc(4,\"   \"),core.Yb()),2&rf){const entry_r65=core.lc().$implicit,ctx_r66=core.lc(2);core.Gb(1),core.uc(\"matTooltip\",core.nc(2,1,ctx_r66.nameErrors(entry_r65)))}}function UserImportListComponent_mat_card_78_mat_cell_17_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Qc(1,UserImportListComponent_mat_card_78_mat_cell_17_span_1_Template,5,3,\"span\",23),core.Sc(2),core.Yb()),2&rf){const entry_r65=ctx.$implicit,ctx_r23=core.lc(2);core.Gb(1),core.tc(\"ngIf\",ctx_r23.nameErrors(entry_r65)),core.Gb(1),core.Uc(\" \",entry_r65.newEntry.title,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_19_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Given name\")))}function UserImportListComponent_mat_card_78_mat_cell_20_span_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Zb(1,\"mat-icon\",65),core.mc(2,\"translate\"),core.Sc(3,\" warning \"),core.Yb(),core.Sc(4,\"   \"),core.Yb()),2&rf){const entry_r68=core.lc().$implicit,ctx_r69=core.lc(2);core.Gb(1),core.uc(\"matTooltip\",core.nc(2,1,ctx_r69.nameErrors(entry_r68)))}}function UserImportListComponent_mat_card_78_mat_cell_20_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Qc(1,UserImportListComponent_mat_card_78_mat_cell_20_span_1_Template,5,3,\"span\",23),core.Sc(2),core.Yb()),2&rf){const entry_r68=ctx.$implicit,ctx_r25=core.lc(2);core.Gb(1),core.tc(\"ngIf\",ctx_r25.nameErrors(entry_r68)),core.Gb(1),core.Uc(\" \",entry_r68.newEntry.first_name,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_22_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Surname\")))}function UserImportListComponent_mat_card_78_mat_cell_23_span_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Zb(1,\"mat-icon\",65),core.mc(2,\"translate\"),core.Sc(3,\" warning \"),core.Yb(),core.Sc(4,\"   \"),core.Yb()),2&rf){const entry_r71=core.lc().$implicit,ctx_r72=core.lc(2);core.Gb(1),core.uc(\"matTooltip\",core.nc(2,1,ctx_r72.nameErrors(entry_r71)))}}function UserImportListComponent_mat_card_78_mat_cell_23_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Qc(1,UserImportListComponent_mat_card_78_mat_cell_23_span_1_Template,5,3,\"span\",23),core.Sc(2),core.Yb()),2&rf){const entry_r71=ctx.$implicit,ctx_r27=core.lc(2);core.Gb(1),core.tc(\"ngIf\",ctx_r27.nameErrors(entry_r71)),core.Gb(1),core.Uc(\" \",entry_r71.newEntry.last_name,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_25_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Structure level\")))}function UserImportListComponent_mat_card_78_mat_cell_26_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const entry_r74=ctx.$implicit;core.Gb(1),core.Uc(\" \",entry_r74.newEntry.structure_level,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_28_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Participant number\")))}function UserImportListComponent_mat_card_78_mat_cell_29_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const entry_r75=ctx.$implicit;core.Gb(1),core.Uc(\" \",entry_r75.newEntry.number,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_31_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Groups\")))}function UserImportListComponent_mat_card_78_mat_cell_32_div_1_span_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Zb(1,\"mat-icon\",63),core.mc(2,\"translate\"),core.Sc(3,\" warning \"),core.Yb(),core.Yb()),2&rf){const ctx_r78=core.lc(4);core.Gb(1),core.uc(\"matTooltip\",core.nc(2,1,ctx_r78.getVerboseError(\"Groups\")))}}function UserImportListComponent_mat_card_78_mat_cell_32_div_1_span_2_mat_icon_2_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-icon\",67),core.Sc(1,\"add\"),core.Yb())}function UserImportListComponent_mat_card_78_mat_cell_32_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.Qc(2,UserImportListComponent_mat_card_78_mat_cell_32_div_1_span_2_mat_icon_2_Template,2,0,\"mat-icon\",66),core.Sc(3,\"   \"),core.Yb()),2&rf){const group_r80=ctx.$implicit;core.Gb(1),core.Uc(\" \",group_r80.name,\" \"),core.Gb(1),core.tc(\"ngIf\",!group_r80.id)}}function UserImportListComponent_mat_card_78_mat_cell_32_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Qc(1,UserImportListComponent_mat_card_78_mat_cell_32_div_1_span_1_Template,4,3,\"span\",23),core.Qc(2,UserImportListComponent_mat_card_78_mat_cell_32_div_1_span_2_Template,4,2,\"span\",11),core.Yb()),2&rf){const entry_r76=core.lc().$implicit,ctx_r77=core.lc(2);core.Gb(1),core.tc(\"ngIf\",ctx_r77.hasError(entry_r76,\"Groups\")),core.Gb(1),core.tc(\"ngForOf\",entry_r76.newEntry.csvGroups)}}function UserImportListComponent_mat_card_78_mat_cell_32_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Qc(1,UserImportListComponent_mat_card_78_mat_cell_32_div_1_Template,3,2,\"div\",23),core.Yb()),2&rf){const entry_r76=ctx.$implicit;core.Gb(1),core.tc(\"ngIf\",entry_r76.newEntry.csvGroups.length)}}function UserImportListComponent_mat_card_78_mat_header_cell_34_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Comment\")))}function UserImportListComponent_mat_card_78_mat_cell_35_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const entry_r83=ctx.$implicit;core.Gb(1),core.Uc(\" \",entry_r83.newEntry.comment,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_37_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Is active\")))}function UserImportListComponent_mat_card_78_mat_cell_38_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Ub(1,\"mat-checkbox\",68),core.Yb()),2&rf){const entry_r84=ctx.$implicit;core.Gb(1),core.tc(\"checked\",entry_r84.newEntry.is_active)}}function UserImportListComponent_mat_card_78_mat_header_cell_40_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Is present\")))}function UserImportListComponent_mat_card_78_mat_cell_41_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Ub(1,\"mat-checkbox\",68),core.Yb()),2&rf){const entry_r85=ctx.$implicit;core.Gb(1),core.tc(\"checked\",entry_r85.newEntry.is_present)}}function UserImportListComponent_mat_card_78_mat_header_cell_43_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Is committee\")))}function UserImportListComponent_mat_card_78_mat_cell_44_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Ub(1,\"mat-checkbox\",68),core.Yb()),2&rf){const entry_r86=ctx.$implicit;core.Gb(1),core.tc(\"checked\",entry_r86.newEntry.is_committee)}}function UserImportListComponent_mat_card_78_mat_header_cell_46_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Initial password\")))}function UserImportListComponent_mat_card_78_mat_cell_47_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const entry_r87=ctx.$implicit;core.Gb(1),core.Uc(\" \",entry_r87.newEntry.default_password,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_49_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Email\")))}function UserImportListComponent_mat_card_78_mat_cell_50_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const entry_r88=ctx.$implicit;core.Gb(1),core.Uc(\" \",entry_r88.newEntry.email,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_52_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Username\")))}function UserImportListComponent_mat_card_78_mat_cell_53_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const entry_r89=ctx.$implicit;core.Gb(1),core.Uc(\" \",entry_r89.newEntry.username,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_55_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Gender\")))}function UserImportListComponent_mat_card_78_mat_cell_56_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const entry_r90=ctx.$implicit;core.Gb(1),core.Uc(\" \",entry_r90.newEntry.gender,\" \")}}function UserImportListComponent_mat_card_78_mat_header_cell_58_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Vote weight\")))}function UserImportListComponent_mat_card_78_mat_cell_59_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const entry_r91=ctx.$implicit;core.Gb(1),core.Uc(\" \",entry_r91.newEntry.vote_weight,\" \")}}function UserImportListComponent_mat_card_78_mat_header_row_60_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function UserImportListComponent_mat_card_78_mat_row_61_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-row\",69),2&rf){const row_r92=ctx.$implicit,ctx_r53=core.lc(2);core.tc(\"ngClass\",ctx_r53.getStateClass(row_r92))}}function UserImportListComponent_mat_card_78_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",4),core.Zb(1,\"h3\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",25),core.Qc(5,UserImportListComponent_mat_card_78_div_5_Template,9,4,\"div\",23),core.Qc(6,UserImportListComponent_mat_card_78_div_6_Template,9,4,\"div\",26),core.Qc(7,UserImportListComponent_mat_card_78_div_7_Template,9,4,\"div\",27),core.Yb(),core.Qc(8,UserImportListComponent_mat_card_78_div_8_Template,4,3,\"div\",23),core.Qc(9,UserImportListComponent_mat_card_78_mat_select_9_Template,10,10,\"mat-select\",28),core.Zb(10,\"div\",29),core.Zb(11,\"table\",30),core.Xb(12,31),core.Qc(13,UserImportListComponent_mat_card_78_mat_header_cell_13_Template,1,0,\"mat-header-cell\",32),core.Qc(14,UserImportListComponent_mat_card_78_mat_cell_14_Template,4,3,\"mat-cell\",33),core.Wb(),core.Xb(15,34),core.Qc(16,UserImportListComponent_mat_card_78_mat_header_cell_16_Template,3,3,\"mat-header-cell\",35),core.Qc(17,UserImportListComponent_mat_card_78_mat_cell_17_Template,3,2,\"mat-cell\",36),core.Wb(),core.Xb(18,37),core.Qc(19,UserImportListComponent_mat_card_78_mat_header_cell_19_Template,3,3,\"mat-header-cell\",35),core.Qc(20,UserImportListComponent_mat_card_78_mat_cell_20_Template,3,2,\"mat-cell\",36),core.Wb(),core.Xb(21,38),core.Qc(22,UserImportListComponent_mat_card_78_mat_header_cell_22_Template,3,3,\"mat-header-cell\",35),core.Qc(23,UserImportListComponent_mat_card_78_mat_cell_23_Template,3,2,\"mat-cell\",36),core.Wb(),core.Xb(24,39),core.Qc(25,UserImportListComponent_mat_card_78_mat_header_cell_25_Template,3,3,\"mat-header-cell\",35),core.Qc(26,UserImportListComponent_mat_card_78_mat_cell_26_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(27,40),core.Qc(28,UserImportListComponent_mat_card_78_mat_header_cell_28_Template,3,3,\"mat-header-cell\",35),core.Qc(29,UserImportListComponent_mat_card_78_mat_cell_29_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(30,41),core.Qc(31,UserImportListComponent_mat_card_78_mat_header_cell_31_Template,3,3,\"mat-header-cell\",35),core.Qc(32,UserImportListComponent_mat_card_78_mat_cell_32_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(33,42),core.Qc(34,UserImportListComponent_mat_card_78_mat_header_cell_34_Template,3,3,\"mat-header-cell\",35),core.Qc(35,UserImportListComponent_mat_card_78_mat_cell_35_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(36,43),core.Qc(37,UserImportListComponent_mat_card_78_mat_header_cell_37_Template,3,3,\"mat-header-cell\",35),core.Qc(38,UserImportListComponent_mat_card_78_mat_cell_38_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(39,44),core.Qc(40,UserImportListComponent_mat_card_78_mat_header_cell_40_Template,3,3,\"mat-header-cell\",35),core.Qc(41,UserImportListComponent_mat_card_78_mat_cell_41_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(42,45),core.Qc(43,UserImportListComponent_mat_card_78_mat_header_cell_43_Template,3,3,\"mat-header-cell\",35),core.Qc(44,UserImportListComponent_mat_card_78_mat_cell_44_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(45,46),core.Qc(46,UserImportListComponent_mat_card_78_mat_header_cell_46_Template,3,3,\"mat-header-cell\",35),core.Qc(47,UserImportListComponent_mat_card_78_mat_cell_47_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(48,47),core.Qc(49,UserImportListComponent_mat_card_78_mat_header_cell_49_Template,3,3,\"mat-header-cell\",35),core.Qc(50,UserImportListComponent_mat_card_78_mat_cell_50_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(51,48),core.Qc(52,UserImportListComponent_mat_card_78_mat_header_cell_52_Template,3,3,\"mat-header-cell\",35),core.Qc(53,UserImportListComponent_mat_card_78_mat_cell_53_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(54,49),core.Qc(55,UserImportListComponent_mat_card_78_mat_header_cell_55_Template,3,3,\"mat-header-cell\",35),core.Qc(56,UserImportListComponent_mat_card_78_mat_cell_56_Template,2,1,\"mat-cell\",36),core.Wb(),core.Xb(57,50),core.Qc(58,UserImportListComponent_mat_card_78_mat_header_cell_58_Template,3,3,\"mat-header-cell\",35),core.Qc(59,UserImportListComponent_mat_card_78_mat_cell_59_Template,2,1,\"mat-cell\",36),core.Wb(),core.Qc(60,UserImportListComponent_mat_card_78_mat_header_row_60_Template,1,0,\"mat-header-row\",51),core.Qc(61,UserImportListComponent_mat_card_78_mat_row_61_Template,1,1,\"mat-row\",52),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r6=core.lc();core.Gb(2),core.Tc(core.nc(3,9,\"Preview\")),core.Gb(3),core.tc(\"ngIf\",ctx_r6.newCount),core.Gb(1),core.tc(\"ngIf\",ctx_r6.nonImportableCount),core.Gb(1),core.tc(\"ngIf\",ctx_r6.doneCount),core.Gb(1),core.tc(\"ngIf\",ctx_r6.newCount),core.Gb(1),core.tc(\"ngIf\",ctx_r6.nonImportableCount),core.Gb(2),core.tc(\"dataSource\",ctx_r6.dataSource),core.Gb(49),core.tc(\"matHeaderRowDef\",ctx_r6.getColumnDefinition()),core.Gb(1),core.tc(\"matRowDefColumns\",ctx_r6.getColumnDefinition())}}let user_import_list_component_UserImportListComponent=(()=>{class UserImportListComponent extends base_import_list.a{constructor(titleService,matSnackBar,formBuilder,translate,exporter,importer){super(importer,titleService,translate,matSnackBar),this.translate=translate,this.exporter=exporter,this.headerRow=[\"Title\",\"Given name\",\"Surname\",\"Structure level\",\"Participant number\",\"Groups\",\"Comment\",\"Is active\",\"Is present\",\"Is a committee\",\"Initial password\",\"Email\",\"Username\",\"Gender\",\"Vote weight\"],this.textAreaForm=formBuilder.group({inputtext:[\"\"]})}downloadCsvExample(){this.exporter.dummyCSVExport(this.headerRow,[[\"Dr.\",\"Max\",\"Mustermann\",\"Berlin\",1234567890,\"Delegates, Staff\",\"xyz\",1,1,,\"initialPassword\",null,\"mmustermann\",\"m\",1],[null,\"John\",\"Doe\",\"Washington\",\"75/99/8-2\",\"Committees\",\"This is a comment, without doubt\",1,1,null,null,\"john.doe@email.com\",\"jdoe\",\"diverse\",2],[null,\"Julia\",\"Bloggs\",\"London\",null,null,null,null,null,null,null,null,\"jbloggs\",\"f\",1.5],[null,null,\"Executive Board\",null,null,null,null,null,null,1,null,null,\"executive\",null,2.5]],this.translate.instant(\"participants-example\")+\".csv\")}nameErrors(row){for(const name of[\"NoName\",\"Duplicates\",\"DuplicateImport\"])if(this.importer.hasError(row,name))return this.importer.verbose(name);return\"\"}parseTextArea(){this.importer.parseTextArea(this.textAreaForm.get(\"inputtext\").value)}onTabChange(){this.importer.clearPreview()}}return UserImportListComponent.ɵfac=function(t){return new(t||UserImportListComponent)(core.Tb(platform_browser.d),core.Tb(snack_bar.a),core.Tb(fesm2015_forms.f),core.Tb(ngx_translate_core.k),core.Tb(csv_export_service.a),core.Tb(user_import_service_UserImportService))},UserImportListComponent.ɵcmp=core.Nb({type:UserImportListComponent,selectors:[[\"os-user-import-list\"]],features:[core.Db],decls:79,vars:57,consts:[[3,\"nav\"],[1,\"title-slot\"],[1,\"menu-slot\"],[\"mat-button\",\"\",3,\"click\",4,\"ngIf\"],[1,\"os-form-card\",\"import-table\",\"spacer-bottom-60\"],[3,\"selectedTabChange\"],[3,\"label\"],[3,\"formGroup\"],[\"matInput\",\"\",\"osAutofocus\",\"\",\"formControlName\",\"inputtext\",\"cdkTextareaAutosize\",\"\",\"cdkAutosizeMinRows\",\"3\",\"cdkAutosizeMaxRows\",\"10\",3,\"placeholder\"],[\"mat-button\",\"\",\"color\",\"accent\",3,\"click\"],[1,\"code\",\"red-warning-text\"],[4,\"ngFor\",\"ngForOf\"],[1,\"wrapper\"],[1,\"selection\",3,\"value\",\"selectionChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"value\",\"\",1,\"selection\",3,\"selectionChange\"],[\"value\",'\"',1,\"selection\",3,\"selectionChange\"],[\"id\",\"user-import-file-input\",\"type\",\"file\",\"accept\",\"text\",1,\"hidden-input\",3,\"change\"],[\"fileInput\",\"\"],[\"mat-button\",\"\",\"color\",\"accent\",\"onclick\",\"document.getElementById('user-import-file-input').click()\"],[\"class\",\"os-form-card import-table spacer-bottom-60\",4,\"ngIf\"],[\"mat-button\",\"\",3,\"click\"],[1,\"upper\"],[4,\"ngIf\"],[3,\"value\"],[1,\"summary\"],[\"class\",\"red-warning-text\",4,\"ngIf\"],[\"class\",\"green-text\",4,\"ngIf\"],[\"class\",\"filter-imports\",3,\"value\",\"valueChange\",\"selectionChange\",4,\"ngIf\"],[1,\"table-container\"],[\"mat-table\",\"\",\"matSort\",\"\",3,\"dataSource\"],[\"matColumnDef\",\"status\",\"sticky\",\"\"],[\"class\",\"first-column\",4,\"matHeaderCellDef\"],[\"class\",\"first-column\",4,\"matCellDef\"],[\"matColumnDef\",\"title\"],[4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"first_name\"],[\"matColumnDef\",\"last_name\"],[\"matColumnDef\",\"structure_level\"],[\"matColumnDef\",\"number\"],[\"matColumnDef\",\"groups_id\"],[\"matColumnDef\",\"comment\"],[\"matColumnDef\",\"is_active\"],[\"matColumnDef\",\"is_present\"],[\"matColumnDef\",\"is_committee\"],[\"matColumnDef\",\"default_password\"],[\"matColumnDef\",\"email\"],[\"matColumnDef\",\"username\"],[\"matColumnDef\",\"gender\"],[\"matColumnDef\",\"vote_weight\"],[4,\"matHeaderRowDef\"],[3,\"ngClass\",4,\"matRowDef\",\"matRowDefColumns\"],[\"inline\",\"\"],[1,\"red-warning-text\"],[1,\"green-text\"],[1,\"filter-imports\",3,\"value\",\"valueChange\",\"selectionChange\"],[\"value\",\"all\"],[\"value\",\"error\"],[\"value\",\"noerror\"],[1,\"first-column\"],[1,\"red-warning-text\",3,\"matTooltip\"],[\"color\",\"warn\",3,\"matTooltip\",4,\"ngIf\"],[\"color\",\"warn\",3,\"matTooltip\"],[3,\"matTooltip\"],[\"color\",\"warn\",\"inline\",\"\",3,\"matTooltip\"],[\"class\",\"newBadge\",\"color\",\"accent\",\"inline\",\"\",4,\"ngIf\"],[\"color\",\"accent\",\"inline\",\"\",1,\"newBadge\"],[\"disabled\",\"\",3,\"checked\"],[3,\"ngClass\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"os-head-bar\",0),core.Zb(1,\"div\",1),core.Zb(2,\"h2\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Zb(5,\"div\",2),core.Qc(6,UserImportListComponent_button_6_Template,4,3,\"button\",3),core.Yb(),core.Yb(),core.Zb(7,\"mat-card\",4),core.Zb(8,\"mat-tab-group\",5),core.hc(\"selectedTabChange\",(function(){return ctx.onTabChange()})),core.Zb(9,\"mat-tab\",6),core.mc(10,\"translate\"),core.Ub(11,\"br\"),core.Zb(12,\"div\",7),core.Zb(13,\"div\"),core.Zb(14,\"span\"),core.Sc(15),core.mc(16,\"translate\"),core.Yb(),core.Zb(17,\"span\"),core.Sc(18),core.mc(19,\"translate\"),core.Yb(),core.Ub(20,\"br\"),core.Zb(21,\"span\"),core.Sc(22),core.mc(23,\"translate\"),core.Yb(),core.Yb(),core.Zb(24,\"mat-form-field\"),core.Ub(25,\"textarea\",8),core.mc(26,\"translate\"),core.Yb(),core.Yb(),core.Zb(27,\"div\"),core.Zb(28,\"button\",9),core.hc(\"click\",(function(){return ctx.parseTextArea()})),core.Zb(29,\"span\"),core.Sc(30),core.mc(31,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(32,\"mat-tab\",6),core.mc(33,\"translate\"),core.Ub(34,\"br\"),core.Zb(35,\"span\"),core.Sc(36),core.mc(37,\"translate\"),core.Yb(),core.Ub(38,\"br\"),core.Zb(39,\"div\",10),core.Qc(40,UserImportListComponent_span_40_Template,4,4,\"span\",11),core.Yb(),core.Zb(41,\"ul\"),core.Zb(42,\"li\"),core.Sc(43),core.mc(44,\"translate\"),core.Yb(),core.Zb(45,\"li\"),core.Sc(46),core.mc(47,\"translate\"),core.Yb(),core.Yb(),core.Zb(48,\"button\",9),core.hc(\"click\",(function(){return ctx.downloadCsvExample()})),core.Sc(49),core.mc(50,\"translate\"),core.Yb(),core.Zb(51,\"div\",12),core.Zb(52,\"mat-form-field\"),core.Zb(53,\"mat-label\"),core.Sc(54),core.mc(55,\"translate\"),core.Yb(),core.Zb(56,\"mat-select\",13),core.hc(\"selectionChange\",(function($event){return ctx.selectEncoding($event)})),core.Qc(57,UserImportListComponent_mat_option_57_Template,3,4,\"mat-option\",14),core.Yb(),core.Yb(),core.Zb(58,\"mat-form-field\"),core.Zb(59,\"mat-label\"),core.Sc(60),core.mc(61,\"translate\"),core.Yb(),core.Zb(62,\"mat-select\",15),core.hc(\"selectionChange\",(function($event){return ctx.selectColSep($event)})),core.Qc(63,UserImportListComponent_mat_option_63_Template,3,4,\"mat-option\",14),core.Yb(),core.Yb(),core.Zb(64,\"mat-form-field\"),core.Zb(65,\"mat-label\"),core.Sc(66),core.mc(67,\"translate\"),core.Yb(),core.Zb(68,\"mat-select\",16),core.hc(\"selectionChange\",(function($event){return ctx.selectTextSep($event)})),core.Qc(69,UserImportListComponent_mat_option_69_Template,3,4,\"mat-option\",14),core.Yb(),core.Yb(),core.Yb(),core.Zb(70,\"div\"),core.Zb(71,\"div\"),core.Zb(72,\"input\",17,18),core.hc(\"change\",(function($event){return ctx.onSelectFile($event)})),core.Yb(),core.Zb(74,\"button\",19),core.Zb(75,\"span\"),core.Sc(76),core.mc(77,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(78,UserImportListComponent_mat_card_78_Template,62,11,\"mat-card\",20)),2&rf&&(core.tc(\"nav\",!1),core.Gb(3),core.Tc(core.nc(4,25,\"Import participants\")),core.Gb(3),core.tc(\"ngIf\",ctx.hasFile&&ctx.newCount),core.Gb(3),core.uc(\"label\",core.nc(10,27,\"Text import\")),core.Gb(3),core.tc(\"formGroup\",ctx.textAreaForm),core.Gb(3),core.Tc(core.nc(16,29,\"Copy and paste your participant names in this textbox.\")),core.Gb(3),core.Tc(core.nc(19,31,\"Keep each person in a single line.\")),core.Gb(4),core.Tc(core.nc(23,33,'Comma separated names will be read as \"Surname, given name(s)\".')),core.Gb(3),core.uc(\"placeholder\",core.nc(26,35,\"Insert participants here\")),core.Gb(5),core.Tc(core.nc(31,37,\"Preview\")),core.Gb(2),core.uc(\"label\",core.nc(33,39,\"CSV import\")),core.Gb(4),core.Uc(\" \",core.nc(37,41,\"Required comma or semicolon separated values with these column header names in the first row:\"),\" \"),core.Gb(4),core.tc(\"ngForOf\",ctx.headerRow),core.Gb(3),core.Uc(\" \",core.nc(44,43,\"One of given name, surname and username has to be filled in. All other fields are optional and may be empty.\"),\" \"),core.Gb(3),core.Uc(\" \",core.nc(47,45,\"Additional columns after the required ones may be present and will not affect the import.\"),\" \"),core.Gb(3),core.Uc(\" \",core.nc(50,47,\"Download CSV example file\"),\" \"),core.Gb(5),core.Tc(core.nc(55,49,\"Encoding of the file\")),core.Gb(2),core.tc(\"value\",ctx.encodings[0].value),core.Gb(1),core.tc(\"ngForOf\",ctx.encodings),core.Gb(3),core.Tc(core.nc(61,51,\"Column separator\")),core.Gb(3),core.tc(\"ngForOf\",ctx.columnSeparators),core.Gb(3),core.Tc(core.nc(67,53,\"Text separator\")),core.Gb(3),core.tc(\"ngForOf\",ctx.textSeparators),core.Gb(7),core.Tc(core.nc(77,55,\"Select file\")),core.Gb(2),core.tc(\"ngIf\",ctx.hasFile))},directives:[head_bar_component.a,common.t,card.a,tabs.c,tabs.a,fesm2015_forms.t,fesm2015_forms.k,form_field.c,input.b,fesm2015_forms.c,text_field.c,autofocus_directive.a,fesm2015_forms.s,fesm2015_forms.i,fesm2015_button.b,common.s,form_field.g,fesm2015_select.a,fesm2015_core.n,table.n,sort.a,table.c,table.i,table.b,table.k,table.m,icon.a,table.h,table.a,tooltip.c,fesm2015_checkbox.a,table.j,table.l,common.q],pipes:[ngx_translate_core.j],encapsulation:2}),UserImportListComponent})();var biesbjerg_ngx_translate_extract_marker=__webpack_require__(\"4u49\"),storage_service=__webpack_require__(\"AqIO\"),choice_service=__webpack_require__(\"Jc+d\"),base_list_view=__webpack_require__(\"wL0i\"),openslides_status_service=__webpack_require__(\"D/ll\"),base_filter_list_service=__webpack_require__(\"+8Rz\");let user_filter_list_service_UserFilterListService=(()=>{class UserFilterListService extends base_filter_list_service.a{constructor(store,OSStatus,groupRepo,translate){super(store,OSStatus),this.translate=translate,this.storageKey=\"UserList\",this.userGroupFilterOptions={property:\"groups_id\",label:\"Groups\",options:[]},this.updateFilterForRepo(groupRepo,this.userGroupFilterOptions,this.translate.instant(\"Default\"),model=>1!==model.id)}getFilterDefinitions(){return[{property:\"is_present\",label:\"Presence\",options:[{condition:!0,label:this.translate.instant(\"Is present\")},{condition:!1,label:this.translate.instant(\"Is not present\")}]},{property:\"is_active\",label:this.translate.instant(\"Active\"),options:[{condition:!0,label:\"Is active\"},{condition:!1,label:this.translate.instant(\"Is not active\")}]},{property:\"is_committee\",label:this.translate.instant(\"Committee\"),options:[{condition:!0,label:\"Is a committee\"},{condition:!1,label:this.translate.instant(\"Is not a committee\")}]},{property:\"isLastEmailSend\",label:this.translate.instant(\"Last email send\"),options:[{condition:!0,label:this.translate.instant(\"Got an email\")},{condition:!1,label:this.translate.instant(\"Didn't get an email\")}]},{property:\"isVoteWeightOne\",label:this.translate.instant(\"Vote weight\"),options:[{condition:!1,label:this.translate.instant(\"Has changed vote weight\")},{condition:!0,label:this.translate.instant(\"Has unchanged vote weight\")}]}].concat(this.userGroupFilterOptions)}}return UserFilterListService.ɵfac=function(t){return new(t||UserFilterListService)(core.dc(storage_service.a),core.dc(openslides_status_service.a),core.dc(group_repository_service.a),core.dc(ngx_translate_core.k))},UserFilterListService.ɵprov=core.Pb({token:UserFilterListService,factory:UserFilterListService.ɵfac,providedIn:\"root\"}),UserFilterListService})();var base_sort_list_service=__webpack_require__(\"A6Ob\");let user_sort_list_service_UserSortListService=(()=>{class UserSortListService extends base_sort_list_service.a{constructor(translate,store,OSStatus){super(translate,store,OSStatus),this.storageKey=\"UserList\",this.userSortOptions=[{property:\"first_name\",label:\"Given name\"},{property:\"last_name\",label:\"Surname\"},{property:\"is_present\",label:\"Presence\"},{property:\"is_active\",label:\"Is active\"},{property:\"is_committee\",label:\"Is committee\"},{property:\"number\",label:\"Participant number\"},{property:\"structure_level\",label:\"Structure level\"},{property:\"vote_weight\",label:\"Vote weight\"},{property:\"comment\"}]}getSortOptions(){return this.userSortOptions}getDefaultDefinition(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){return{sortProperty:\"first_name\",sortAscending:!0}}))}}return UserSortListService.ɵfac=function(t){return new(t||UserSortListService)(core.dc(ngx_translate_core.k),core.dc(storage_service.a),core.dc(openslides_status_service.a))},UserSortListService.ɵprov=core.Pb({token:UserSortListService,factory:UserSortListService.ɵfac,providedIn:\"root\"}),UserSortListService})();var list_view_table_component=__webpack_require__(\"0Obk\"),pebula_ngrid=__webpack_require__(\"dRZP\"),icon_container_component=__webpack_require__(\"vYAO\"),projector_button_component=__webpack_require__(\"Tp2j\");const user_list_component_c0=[\"userInfoDialog\"];function UserListComponent_div_19_a_1_Template(rf,ctx){if(1&rf&&core.Ub(0,\"a\",20),2&rf){const user_r12=core.lc().row;core.tc(\"routerLink\",user_r12.id)}}function UserListComponent_div_19_div_6_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",21),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const user_r12=core.lc().row;core.Gb(1),core.Vc(\" \",core.nc(2,2,\"Vote weight\"),\": \",user_r12.vote_weight,\" \")}}function UserListComponent_div_19_mat_icon_8_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-icon\",22),core.mc(1,\"translate\"),core.Sc(2,\" account_balance \"),core.Yb()),2&rf&&core.uc(\"matTooltip\",core.nc(1,1,\"Is committee\"))}function UserListComponent_div_19_mat_icon_9_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-icon\",22),core.mc(1,\"translate\"),core.Sc(2,\" block \"),core.Yb()),2&rf&&core.uc(\"matTooltip\",core.nc(1,1,\"Inactive\"))}function UserListComponent_div_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",14),core.Qc(1,UserListComponent_div_19_a_1_Template,1,1,\"a\",15),core.Zb(2,\"div\",16),core.Zb(3,\"div\"),core.Zb(4,\"div\"),core.Sc(5),core.Yb(),core.Qc(6,UserListComponent_div_19_div_6_Template,3,4,\"div\",17),core.Yb(),core.Zb(7,\"div\",18),core.Qc(8,UserListComponent_div_19_mat_icon_8_Template,3,3,\"mat-icon\",19),core.Qc(9,UserListComponent_div_19_mat_icon_9_Template,3,3,\"mat-icon\",19),core.Yb(),core.Yb(),core.Yb()),2&rf){const user_r12=ctx.row,ctx_r0=core.lc();core.Gb(1),core.tc(\"ngIf\",!ctx_r0.isMultiSelect),core.Gb(4),core.Tc(user_r12.short_name),core.Gb(1),core.tc(\"ngIf\",ctx_r0.showVoteWeight),core.Gb(2),core.tc(\"ngIf\",user_r12.is_committee),core.Gb(1),core.tc(\"ngIf\",!user_r12.is_active&&ctx_r0.operator.hasPerms(\"users.see_extra\"))}}function UserListComponent_div_20_div_2_span_2_span_3_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1,\",\"),core.Yb())}function UserListComponent_div_20_div_2_span_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Qc(3,UserListComponent_div_20_div_2_span_2_span_3_Template,2,0,\"span\",12),core.Yb()),2&rf){const group_r25=ctx.$implicit,last_r26=ctx.last;core.Gb(1),core.Uc(\" \",core.nc(2,2,group_r25.getTitle()),\"\"),core.Gb(2),core.tc(\"ngIf\",!last_r26)}}function UserListComponent_div_20_div_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"os-icon-container\",26),core.Qc(2,UserListComponent_div_20_div_2_span_2_Template,4,4,\"span\",27),core.Yb(),core.Yb()),2&rf){const user_r20=core.lc().row;core.Gb(2),core.tc(\"ngForOf\",user_r20.groups)}}function UserListComponent_div_20_div_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",28),core.Zb(1,\"os-icon-container\",29),core.Sc(2),core.Yb(),core.Yb()),2&rf){const user_r20=core.lc().row;core.Gb(2),core.Tc(user_r20.structure_level)}}function UserListComponent_div_20_div_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",28),core.Zb(1,\"os-icon-container\",30),core.Sc(2),core.Yb(),core.Yb()),2&rf){const user_r20=core.lc().row;core.Gb(2),core.Tc(user_r20.number)}}function UserListComponent_div_20_Template(rf,ctx){if(1&rf){const _r32=core.ac();core.Zb(0,\"div\",23),core.hc(\"click\",(function($event){core.Ic(_r32);const user_r20=ctx.row;return core.lc().openEditInfo(user_r20,$event)})),core.Zb(1,\"div\",24),core.Qc(2,UserListComponent_div_20_div_2_Template,3,1,\"div\",12),core.Qc(3,UserListComponent_div_20_div_3_Template,3,1,\"div\",25),core.Qc(4,UserListComponent_div_20_div_4_Template,3,1,\"div\",25),core.Yb(),core.Yb()}if(2&rf){const user_r20=ctx.row,ctx_r1=core.lc();core.tc(\"ngClass\",ctx_r1.isMultiSelect?\"\":\"clickable\"),core.Gb(2),core.tc(\"ngIf\",user_r20.groups&&user_r20.groups.length),core.Gb(1),core.tc(\"ngIf\",user_r20.structure_level),core.Gb(1),core.tc(\"ngIf\",user_r20.number)}}function UserListComponent_div_21_mat_icon_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-icon\",34),core.mc(1,\"translate\"),core.Sc(2,\" mail \"),core.Yb()),2&rf){const user_r33=core.lc().row,ctx_r34=core.lc();core.wc(\"matTooltip\",\"\",core.nc(1,2,\"Email sent\"),\" (\",ctx_r34.getEmailSentTime(user_r33),\")\")}}function UserListComponent_div_21_mat_icon_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-icon\",34),core.Sc(1,\" comment \"),core.Yb()),2&rf){const user_r33=core.lc().row;core.uc(\"matTooltip\",user_r33.comment)}}function UserListComponent_div_21_os_icon_container_4_Template(rf,ctx){1&rf&&(core.Zb(0,\"os-icon-container\",35),core.Zb(1,\"span\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Gb(2),core.Tc(core.nc(3,1,\"Is SAML user\")))}function UserListComponent_div_21_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",14),core.Zb(1,\"div\",31),core.Qc(2,UserListComponent_div_21_mat_icon_2_Template,3,4,\"mat-icon\",32),core.Qc(3,UserListComponent_div_21_mat_icon_3_Template,2,1,\"mat-icon\",32),core.Qc(4,UserListComponent_div_21_os_icon_container_4_Template,4,3,\"os-icon-container\",33),core.Yb(),core.Yb()),2&rf){const user_r33=ctx.row;core.Gb(2),core.tc(\"ngIf\",user_r33.isLastEmailSend),core.Gb(1),core.tc(\"ngIf\",!!user_r33.comment),core.Gb(1),core.tc(\"ngIf\",user_r33.isSamlUser)}}function UserListComponent_div_22_Template(rf,ctx){if(1&rf){const _r41=core.ac();core.Zb(0,\"div\",14),core.Zb(1,\"mat-checkbox\",36),core.hc(\"change\",(function(){core.Ic(_r41);const user_r39=ctx.row;return core.lc().setPresent(user_r39)})),core.Zb(2,\"span\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const user_r39=ctx.row,ctx_r3=core.lc();core.Gb(1),core.tc(\"checked\",user_r39.is_present)(\"disabled\",ctx_r3.isPresentToggleDisabled(user_r39)),core.Gb(2),core.Tc(core.nc(4,3,\"Present\"))}}const user_list_component_c1=function(a0){return{user:a0}};function UserListComponent_div_23_Template(rf,ctx){if(1&rf){const _r44=core.ac();core.Zb(0,\"div\",14),core.Zb(1,\"button\",37),core.hc(\"click\",(function($event){return core.Ic(_r44),$event.stopPropagation()})),core.Zb(2,\"mat-icon\"),core.Sc(3,\"more_vert\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const user_r42=ctx.row,ctx_r4=core.lc(),_r5=core.Ec(25);core.Gb(1),core.tc(\"disabled\",ctx_r4.isMultiSelect)(\"matMenuTriggerFor\",_r5)(\"matMenuTriggerData\",core.zc(3,user_list_component_c1,user_r42))}}function UserListComponent_ng_template_26_Template(rf,ctx){if(1&rf){const _r47=core.ac();core.Ub(0,\"os-projector-button\",38),core.Zb(1,\"button\",39),core.hc(\"click\",(function(){core.Ic(_r47);const user_r45=ctx.user;return core.lc().setPresent(user_r45)})),core.Zb(2,\"mat-icon\",40),core.Sc(3),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const user_r45=ctx.user;core.tc(\"object\",user_r45)(\"menuItem\",!0),core.Gb(3),core.Uc(\" \",user_r45.is_present?\"check_box\":\"check_box_outline_blank\",\" \"),core.Gb(2),core.Tc(core.nc(6,4,\"Present\"))}}function UserListComponent_div_29_button_1_Template(rf,ctx){if(1&rf){const _r56=core.ac();core.Zb(0,\"button\",39),core.hc(\"click\",(function(){return core.Ic(_r56),core.lc(2).toggleMultiSelect()})),core.Zb(1,\"mat-icon\"),core.Sc(2,\"library_add\"),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Gb(4),core.Tc(core.nc(5,1,\"Multiselect\")))}function UserListComponent_div_29_button_2_Template(rf,ctx){1&rf&&(core.Zb(0,\"button\",45),core.Zb(1,\"mat-icon\"),core.Sc(2,\"people\"),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Gb(4),core.Tc(core.nc(5,1,\"Groups\")))}function UserListComponent_div_29_div_3_button_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"button\",47),core.Zb(1,\"mat-icon\"),core.Sc(2,\"transfer_within_a_station\"),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Gb(4),core.Tc(core.nc(5,1,\"Presence\")))}function UserListComponent_div_29_div_3_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\"),core.Qc(1,UserListComponent_div_29_div_3_button_1_Template,6,3,\"button\",46),core.Yb()),2&rf&&(core.Gb(1),core.tc(\"osPerms\",\"users.can_manage\"))}function UserListComponent_div_29_button_10_Template(rf,ctx){if(1&rf){const _r59=core.ac();core.Zb(0,\"button\",39),core.hc(\"click\",(function(){return core.Ic(_r59),core.lc(2).onDownloadAccessPdf()})),core.Zb(1,\"mat-icon\"),core.Sc(2,\"picture_as_pdf\"),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Gb(4),core.Tc(core.nc(5,1,\"Access data (PDF)\")))}function UserListComponent_div_29_button_11_Template(rf,ctx){if(1&rf){const _r61=core.ac();core.Zb(0,\"button\",39),core.hc(\"click\",(function(){return core.Ic(_r61),core.lc(2).csvExportUserList()})),core.Zb(1,\"mat-icon\"),core.Sc(2,\"archive\"),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Gb(4),core.Tc(core.nc(5,1,\"Export as CSV\")))}function UserListComponent_div_29_button_12_Template(rf,ctx){1&rf&&(core.Zb(0,\"button\",48),core.Zb(1,\"mat-icon\"),core.Sc(2,\"cloud_upload\"),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Gb(4),core.Tc(core.nc(5,1,\"Import\")))}function UserListComponent_div_29_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\"),core.Ub(1,\"mat-divider\"),core.Zb(2,\"button\",49),core.Zb(3,\"mat-icon\"),core.Sc(4,\"settings\"),core.Yb(),core.Zb(5,\"span\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Gb(6),core.Tc(core.nc(7,1,\"Settings\")))}function UserListComponent_div_29_Template(rf,ctx){if(1&rf){const _r63=core.ac();core.Zb(0,\"div\"),core.Qc(1,UserListComponent_div_29_button_1_Template,6,3,\"button\",41),core.Qc(2,UserListComponent_div_29_button_2_Template,6,3,\"button\",42),core.Qc(3,UserListComponent_div_29_div_3_Template,2,1,\"div\",12),core.Zb(4,\"button\",39),core.hc(\"click\",(function(){return core.Ic(_r63),core.lc().pdfExportUserList()})),core.Zb(5,\"mat-icon\"),core.Sc(6,\"picture_as_pdf\"),core.Yb(),core.Zb(7,\"span\"),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Qc(10,UserListComponent_div_29_button_10_Template,6,3,\"button\",41),core.Qc(11,UserListComponent_div_29_button_11_Template,6,3,\"button\",41),core.Qc(12,UserListComponent_div_29_button_12_Template,6,3,\"button\",43),core.Qc(13,UserListComponent_div_29_div_13_Template,8,3,\"div\",44),core.Yb()}if(2&rf){const ctx_r8=core.lc();core.Gb(1),core.tc(\"osPerms\",\"users.can_manage\"),core.Gb(1),core.tc(\"osPerms\",\"users.can_manage\"),core.Gb(1),core.tc(\"ngIf\",ctx_r8.presenceViewConfigured),core.Gb(5),core.Tc(core.nc(9,8,\"List of participants (PDF)\")),core.Gb(2),core.tc(\"osPerms\",\"users.can_manage\"),core.Gb(1),core.tc(\"osPerms\",\"users.can_manage\"),core.Gb(1),core.tc(\"osPerms\",\"users.can_manage\"),core.Gb(1),core.tc(\"osPerms\",\"core.can_manage_config\")}}function UserListComponent_div_30_div_13_div_8_Template(rf,ctx){if(1&rf){const _r67=core.ac();core.Zb(0,\"div\"),core.Ub(1,\"mat-divider\"),core.Zb(2,\"button\",50),core.hc(\"click\",(function(){return core.Ic(_r67),core.lc(3).setStateSelected(\"is_active\")})),core.Zb(3,\"mat-icon\"),core.Sc(4,\"block\"),core.Yb(),core.Zb(5,\"span\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Zb(8,\"button\",50),core.hc(\"click\",(function(){return core.Ic(_r67),core.lc(3).setStateSelected(\"is_present\")})),core.Zb(9,\"mat-icon\"),core.Sc(10,\"check_box\"),core.Yb(),core.Zb(11,\"span\"),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Zb(14,\"button\",50),core.hc(\"click\",(function(){return core.Ic(_r67),core.lc(3).setStateSelected(\"is_committee\")})),core.Zb(15,\"mat-icon\"),core.Sc(16,\"account_balance\"),core.Yb(),core.Zb(17,\"span\"),core.Sc(18),core.mc(19,\"translate\"),core.Yb(),core.Yb(),core.Ub(20,\"mat-divider\"),core.Zb(21,\"button\",50),core.hc(\"click\",(function(){return core.Ic(_r67),core.lc(3).sendInvitationEmailSelected()})),core.Zb(22,\"mat-icon\"),core.Sc(23,\"mail\"),core.Yb(),core.Zb(24,\"span\"),core.Sc(25),core.mc(26,\"translate\"),core.Yb(),core.Yb(),core.Zb(27,\"button\",50),core.hc(\"click\",(function(){return core.Ic(_r67),core.lc(3).resetPasswordsToDefaultSelected()})),core.Zb(28,\"mat-icon\"),core.Sc(29,\"vpn_key\"),core.Yb(),core.Zb(30,\"span\"),core.Sc(31),core.mc(32,\"translate\"),core.Yb(),core.Yb(),core.Zb(33,\"button\",50),core.hc(\"click\",(function(){return core.Ic(_r67),core.lc(3).generateNewPasswordsPasswordsSelected()})),core.Zb(34,\"mat-icon\"),core.Sc(35,\"vpn_key\"),core.Yb(),core.Zb(36,\"span\"),core.Sc(37),core.mc(38,\"translate\"),core.Yb(),core.Yb(),core.Ub(39,\"mat-divider\"),core.Zb(40,\"button\",51),core.hc(\"click\",(function(){return core.Ic(_r67),core.lc(3).deleteSelected()})),core.Zb(41,\"mat-icon\"),core.Sc(42,\"delete\"),core.Yb(),core.Zb(43,\"span\"),core.Sc(44),core.mc(45,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r65=core.lc(3);core.Gb(2),core.tc(\"disabled\",!ctx_r65.selectedRows.length),core.Gb(4),core.Tc(core.nc(7,14,\"Enable/disable account ...\")),core.Gb(2),core.tc(\"disabled\",!ctx_r65.selectedRows.length),core.Gb(4),core.Tc(core.nc(13,16,\"Set presence ...\")),core.Gb(2),core.tc(\"disabled\",!ctx_r65.selectedRows.length),core.Gb(4),core.Tc(core.nc(19,18,\"Set committee ...\")),core.Gb(3),core.tc(\"disabled\",!ctx_r65.selectedRows.length),core.Gb(4),core.Tc(core.nc(26,20,\"Send invitation email\")),core.Gb(2),core.tc(\"disabled\",!ctx_r65.selectedRows.length),core.Gb(4),core.Tc(core.nc(32,22,\"Reset passwords to the default ones\")),core.Gb(2),core.tc(\"disabled\",!ctx_r65.selectedRows.length),core.Gb(4),core.Tc(core.nc(38,24,\"Generate new passwords\")),core.Gb(3),core.tc(\"disabled\",!ctx_r65.selectedRows.length),core.Gb(4),core.Tc(core.nc(45,26,\"Delete\"))}}function UserListComponent_div_30_div_13_Template(rf,ctx){if(1&rf){const _r75=core.ac();core.Zb(0,\"div\"),core.Ub(1,\"mat-divider\"),core.Zb(2,\"button\",50),core.hc(\"click\",(function(){return core.Ic(_r75),core.lc(2).setGroupSelected()})),core.Zb(3,\"mat-icon\"),core.Sc(4,\"people\"),core.Yb(),core.Zb(5,\"span\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Qc(8,UserListComponent_div_30_div_13_div_8_Template,46,28,\"div\",44),core.Yb()}if(2&rf){const ctx_r64=core.lc(2);core.Gb(2),core.tc(\"disabled\",!ctx_r64.selectedRows.length),core.Gb(4),core.Tc(core.nc(7,3,\"Add/remove groups ...\")),core.Gb(2),core.tc(\"osPerms\",\"users.can_manage\")}}function UserListComponent_div_30_Template(rf,ctx){if(1&rf){const _r77=core.ac();core.Zb(0,\"div\"),core.Zb(1,\"button\",39),core.hc(\"click\",(function(){return core.Ic(_r77),core.lc().selectAll()})),core.Zb(2,\"mat-icon\"),core.Sc(3,\"done_all\"),core.Yb(),core.Zb(4,\"span\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Yb(),core.Zb(7,\"button\",50),core.hc(\"click\",(function(){return core.Ic(_r77),core.lc().deselectAll()})),core.Zb(8,\"mat-icon\"),core.Sc(9,\"clear\"),core.Yb(),core.Zb(10,\"span\"),core.Sc(11),core.mc(12,\"translate\"),core.Yb(),core.Yb(),core.Qc(13,UserListComponent_div_30_div_13_Template,9,5,\"div\",44),core.Yb()}if(2&rf){const ctx_r9=core.lc();core.Gb(5),core.Tc(core.nc(6,4,\"Select all\")),core.Gb(2),core.tc(\"disabled\",!ctx_r9.selectedRows.length),core.Gb(4),core.Tc(core.nc(12,6,\"Deselect all\")),core.Gb(2),core.tc(\"osPerms\",\"users.can_manage\")}}function UserListComponent_ng_template_31_mat_option_8_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",61),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const group_r81=ctx.$implicit;core.tc(\"value\",group_r81.id),core.Gb(1),core.Uc(\" \",core.nc(2,2,group_r81.getTitle()),\" \")}}function UserListComponent_ng_template_31_mat_option_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",61),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const gender_r82=ctx.$implicit;core.tc(\"value\",gender_r82),core.Gb(1),core.Tc(core.nc(2,2,gender_r82))}}const _c2=function(a0,a1,a2,a3){return{groups_id:a0,gender:a1,number:a2,structure_level:a3}};function UserListComponent_ng_template_31_Template(rf,ctx){if(1&rf){const _r84=core.ac();core.Zb(0,\"h1\",52),core.Zb(1,\"span\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb(),core.Zb(4,\"div\",53),core.Zb(5,\"mat-form-field\"),core.Zb(6,\"mat-select\",54),core.hc(\"ngModelChange\",(function($event){return core.Ic(_r84),core.lc().infoDialog.groups_id=$event})),core.mc(7,\"translate\"),core.Qc(8,UserListComponent_ng_template_31_mat_option_8_Template,3,4,\"mat-option\",55),core.Yb(),core.Yb(),core.Zb(9,\"mat-form-field\"),core.Zb(10,\"mat-select\",56),core.hc(\"ngModelChange\",(function($event){return core.Ic(_r84),core.lc().infoDialog.gender=$event})),core.mc(11,\"translate\"),core.Zb(12,\"mat-option\"),core.Sc(13,\"-\"),core.Yb(),core.Qc(14,UserListComponent_ng_template_31_mat_option_14_Template,3,4,\"mat-option\",55),core.Yb(),core.Yb(),core.Zb(15,\"mat-form-field\"),core.Zb(16,\"input\",57),core.hc(\"ngModelChange\",(function($event){return core.Ic(_r84),core.lc().infoDialog.structure_level=$event})),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Zb(18,\"mat-form-field\"),core.Zb(19,\"input\",57),core.hc(\"ngModelChange\",(function($event){return core.Ic(_r84),core.lc().infoDialog.number=$event})),core.mc(20,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(21,\"div\",58),core.Zb(22,\"button\",59),core.Zb(23,\"span\"),core.Sc(24),core.mc(25,\"translate\"),core.Yb(),core.Yb(),core.Zb(26,\"button\",60),core.Zb(27,\"span\"),core.Sc(28),core.mc(29,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r11=core.lc();core.Gb(2),core.Vc(\"\",core.nc(3,16,\"Edit details for\"),\" \",ctx_r11.infoDialog.name,\"\"),core.Gb(4),core.uc(\"placeholder\",core.nc(7,18,\"Groups\")),core.tc(\"ngModel\",ctx_r11.infoDialog.groups_id),core.Gb(2),core.tc(\"ngForOf\",ctx_r11.groups),core.Gb(2),core.uc(\"placeholder\",core.nc(11,20,\"Gender\")),core.tc(\"ngModel\",ctx_r11.infoDialog.gender),core.Gb(4),core.tc(\"ngForOf\",ctx_r11.genderList),core.Gb(2),core.uc(\"placeholder\",core.nc(17,22,\"Structure level\")),core.tc(\"ngModel\",ctx_r11.infoDialog.structure_level),core.Gb(3),core.uc(\"placeholder\",core.nc(20,24,\"Participant number\")),core.tc(\"ngModel\",ctx_r11.infoDialog.number),core.Gb(3),core.tc(\"mat-dialog-close\",core.Cc(30,_c2,ctx_r11.infoDialog.groups_id,ctx_r11.infoDialog.gender,ctx_r11.infoDialog.number,ctx_r11.infoDialog.structure_level)),core.Gb(2),core.Tc(core.nc(25,26,\"Save\")),core.Gb(2),core.tc(\"mat-dialog-close\",null),core.Gb(2),core.Tc(core.nc(29,28,\"Cancel\"))}}const _c3=function(){return[\"group\",\"presence\"]},routes=[{path:\"\",component:(()=>{class UserListComponent extends base_list_view.a{constructor(titleService,translate,matSnackBar,route,storage,repo,groupRepo,choiceService,router,operator,csvExport,promptService,filterService,sortService,config,userPdf,dialog,pollService){super(titleService,translate,matSnackBar,storage),this.translate=translate,this.route=route,this.repo=repo,this.groupRepo=groupRepo,this.choiceService=choiceService,this.router=router,this.operator=operator,this.csvExport=csvExport,this.promptService=promptService,this.filterService=filterService,this.sortService=sortService,this.userPdf=userPdf,this.dialog=dialog,this.pollService=pollService,this.genderList=users_user.c,this._presenceViewConfigured=!1,this.tableColumnDefinition=[{prop:\"short_name\",width:\"auto\"},{prop:\"group\",width:\"15%\"},{prop:\"infos\",width:this.singleButtonWidth},{prop:\"presence\",width:\"100px\"}],this.filterProps=[\"full_name\",\"groups\",\"structure_level\",\"number\"],this.selfPresentConfStr=\"users_allow_self_set_present\",this.canMultiSelect=!0,config.get(\"users_enable_presence_view\").subscribe(state=>this._presenceViewConfigured=state),config.get(\"users_activate_vote_weight\").subscribe(active=>this.isVoteWeightActive=active),config.get(this.selfPresentConfStr).subscribe(allowed=>this.allowSelfSetPresent=allowed)}get presenceViewConfigured(){return this._presenceViewConfigured&&this.operator.hasPerms(operator_service.b.usersCanManage)}get canAddUser(){return this.operator.hasPerms(operator_service.b.usersCanManage)}get showVoteWeight(){return this.pollService.isElectronicVotingEnabled&&this.isVoteWeightActive}ngOnInit(){super.setTitle(\"Participants\"),this.groups=this.groupRepo.getViewModelList().filter(group=>1!==group.id),this.groupRepo.getViewModelListObservable().subscribe(groups=>this.groups=groups.filter(group=>1!==group.id))}onPlusButton(){this.router.navigate([\"./new\"],{relativeTo:this.route})}isPresentToggleDisabled(user){return!!this.isMultiSelect||(!this.allowSelfSetPresent||this.operator.viewUser!==user)&&!this.operator.hasPerms(operator_service.b.usersCanManage)}openEditInfo(user,ev){if(this.isMultiSelect||!this.operator.hasPerms(operator_service.b.usersCanManage))return;ev.stopPropagation(),this.infoDialog={name:user.username,groups_id:user.groups_id,gender:user.gender,structure_level:user.structure_level,number:user.number};const dialogRef=this.dialog.open(this.userInfoDialog,dialog_settings.a);dialogRef.keydownEvents().subscribe(event=>{\"Enter\"===event.key&&event.shiftKey&&dialogRef.close(this.infoDialog)}),dialogRef.afterClosed().subscribe(result=>{result&&this.repo.update(result,user)})}csvExportUserList(){this.csvExport.export(this.dataSource.filteredData,[{property:\"title\"},{property:\"first_name\",label:\"Given name\"},{property:\"last_name\",label:\"Surname\"},{property:\"structure_level\",label:\"Structure level\"},{property:\"number\",label:\"Participant number\"},{label:\"groups\",map:user=>user.groups.map(group=>group.name).join(\",\")},{property:\"comment\"},{property:\"is_active\",label:\"Is active\"},{property:\"is_present\",label:\"Is present\"},{property:\"is_committee\",label:\"Is a committee\"},{property:\"default_password\",label:\"Initial password\"},{property:\"email\"},{property:\"gender\"}],this.translate.instant(\"Participants\")+\".csv\")}onDownloadAccessPdf(){this.userPdf.exportMultipleUserAccessPDF(this.dataSource.filteredData)}pdfExportUserList(){this.userPdf.exportUserList(this.dataSource.filteredData)}deleteSelected(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const title=this.translate.instant(\"Are you sure you want to delete all selected participants?\");(yield this.promptService.open(title))&&this.repo.bulkDelete(this.selectedRows).catch(this.raiseError)}))}setGroupSelected(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const content=this.translate.instant(\"This will add or remove the following groups for all selected participants:\"),choices=[Object(biesbjerg_ngx_translate_extract_marker.a)(\"add group(s)\"),Object(biesbjerg_ngx_translate_extract_marker.a)(\"remove group(s)\")],selectedChoice=yield this.choiceService.open(content,this.groupRepo.getViewModelList(),!0,choices);selectedChoice&&this.repo.bulkAlterGroups(this.selectedRows,selectedChoice.action===choices[0]?\"add\":\"remove\",selectedChoice.items).catch(this.raiseError)}))}setStateSelected(field){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){let options,verboseStateName;switch(field){case\"is_active\":options=[Object(biesbjerg_ngx_translate_extract_marker.a)(\"active\"),Object(biesbjerg_ngx_translate_extract_marker.a)(\"inactive\")],verboseStateName=\"active\";break;case\"is_present\":options=[Object(biesbjerg_ngx_translate_extract_marker.a)(\"present\"),Object(biesbjerg_ngx_translate_extract_marker.a)(\"absent\")],verboseStateName=\"present\";break;case\"is_committee\":options=[Object(biesbjerg_ngx_translate_extract_marker.a)(\"committee\"),Object(biesbjerg_ngx_translate_extract_marker.a)(\"no committee\")],verboseStateName=\"committee\"}const content=this.translate.instant(`Set ${verboseStateName} status for selected participants:`),selectedChoice=yield this.choiceService.open(content,null,!1,options);selectedChoice&&this.repo.bulkSetState(this.selectedRows,field,selectedChoice.action===options[0]).catch(this.raiseError)}))}sendInvitationEmailSelected(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const title=this.translate.instant(\"Are you sure you want to send emails to all selected participants?\"),content=this.selectedRows.length+\" \"+this.translate.instant(\"emails\");(yield this.promptService.open(title,content))&&this.repo.bulkSendInvitationEmail(this.selectedRows).catch(this.raiseError)}))}getEmailSentTime(user){return user.isLastEmailSend?this.repo.lastSentEmailTimeString(user):this.translate.instant(\"No email sent\")}resetPasswordsToDefaultSelected(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const title=this.translate.instant(\"Are you sure you want to reset all passwords to the default ones?\");(yield this.promptService.open(title))&&(this.selectedRows.find(row=>row.user.id===this.operator.user.id)&&this.raiseError(this.translate.instant(\"Note: Your own password was not changed. Please use the password change dialog instead.\")),this.repo.bulkResetPasswordsToDefault(this.selectedRows).catch(this.raiseError))}))}generateNewPasswordsPasswordsSelected(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const title=this.translate.instant(\"Are you sure you want to generate new passwords for all selected participants?\"),content=this.translate.instant(\"Note, that the default password will be changed to the new generated one.\");(yield this.promptService.open(title,content))&&(this.selectedRows.find(row=>row.user.id===this.operator.user.id)&&this.raiseError(this.translate.instant(\"Note: Your own password was not changed. Please use the password change dialog instead.\")),this.repo.bulkGenerateNewPasswords(this.selectedRows).catch(this.raiseError))}))}setPresent(viewUser){viewUser.user.is_present=!viewUser.user.is_present,this.operator.hasPerms(operator_service.b.usersCanManage)?this.repo.update(viewUser.user,viewUser).catch(this.raiseError):this.allowSelfSetPresent&&this.operator.viewUser===viewUser&&this.operator.setPresence(viewUser.user.is_present).catch(this.raiseError)}}return UserListComponent.ɵfac=function(t){return new(t||UserListComponent)(core.Tb(platform_browser.d),core.Tb(ngx_translate_core.k),core.Tb(snack_bar.a),core.Tb(fesm2015_router.a),core.Tb(storage_service.a),core.Tb(user_repository_service.a),core.Tb(group_repository_service.a),core.Tb(choice_service.a),core.Tb(fesm2015_router.f),core.Tb(operator_service.a),core.Tb(csv_export_service.a),core.Tb(prompt_service.a),core.Tb(user_filter_list_service_UserFilterListService),core.Tb(user_sort_list_service_UserSortListService),core.Tb(config_service.a),core.Tb(user_pdf_export_service_UserPdfExportService),core.Tb(fesm2015_dialog.b),core.Tb(poll_service.a))},UserListComponent.ɵcmp=core.Nb({type:UserListComponent,selectors:[[\"os-user-list\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(user_list_component_c0,!0),2&rf&&core.Dc(_t=core.ic())&&(ctx.userInfoDialog=_t.first)},features:[core.Db],decls:33,vars:27,consts:[[3,\"hasMainButton\",\"multiSelectMode\",\"mainEvent\"],[1,\"title-slot\"],[1,\"menu-slot\"],[\"type\",\"button\",\"mat-icon-button\",\"\",3,\"matMenuTriggerFor\"],[1,\"central-info-slot\"],[\"mat-icon-button\",\"\",3,\"click\"],[\"listStorageKey\",\"user\",3,\"listObservableProvider\",\"filterService\",\"sortService\",\"columns\",\"filterProps\",\"showListOfSpeakers\",\"multiSelect\",\"hiddenInMobile\",\"selectedRows\",\"selectedRowsChange\",\"dataSourceChange\"],[\"class\",\"cell-slot fill\",4,\"pblNgridCellDef\"],[\"class\",\"cell-slot fill\",3,\"ngClass\",\"click\",4,\"pblNgridCellDef\"],[\"singleItemMenu\",\"matMenu\"],[\"matMenuContent\",\"\"],[\"userMenu\",\"matMenu\"],[4,\"ngIf\"],[\"userInfoDialog\",\"\"],[1,\"cell-slot\",\"fill\"],[\"class\",\"detail-link\",3,\"routerLink\",4,\"ngIf\"],[1,\"nameCell\"],[\"class\",\"user-subtitle\",4,\"ngIf\"],[1,\"icon-group\"],[3,\"matTooltip\",4,\"ngIf\"],[1,\"detail-link\",3,\"routerLink\"],[1,\"user-subtitle\"],[3,\"matTooltip\"],[1,\"cell-slot\",\"fill\",3,\"ngClass\",\"click\"],[1,\"groupsCell\"],[\"class\",\"spacer-top-5\",4,\"ngIf\"],[\"icon\",\"people\"],[4,\"ngFor\",\"ngForOf\"],[1,\"spacer-top-5\"],[\"icon\",\"flag\"],[\"icon\",\"perm_identity\"],[1,\"infoCell\"],[\"inline\",\"\",3,\"matTooltip\",4,\"ngIf\"],[\"icon\",\"device_hub\",4,\"ngIf\"],[\"inline\",\"\",3,\"matTooltip\"],[\"icon\",\"device_hub\"],[1,\"checkbox-ripple-padding\",3,\"checked\",\"disabled\",\"change\"],[\"mat-icon-button\",\"\",3,\"disabled\",\"matMenuTriggerFor\",\"matMenuTriggerData\",\"click\"],[3,\"object\",\"menuItem\"],[\"mat-menu-item\",\"\",3,\"click\"],[\"color\",\"accent\"],[\"mat-menu-item\",\"\",3,\"click\",4,\"osPerms\"],[\"mat-menu-item\",\"\",\"routerLink\",\"groups\",4,\"osPerms\"],[\"mat-menu-item\",\"\",\"routerLink\",\"import\",4,\"osPerms\"],[4,\"osPerms\"],[\"mat-menu-item\",\"\",\"routerLink\",\"groups\"],[\"mat-menu-item\",\"\",\"routerLink\",\"presence\",4,\"osPerms\"],[\"mat-menu-item\",\"\",\"routerLink\",\"presence\"],[\"mat-menu-item\",\"\",\"routerLink\",\"import\"],[\"mat-menu-item\",\"\",\"routerLink\",\"/settings/participants\"],[\"mat-menu-item\",\"\",3,\"disabled\",\"click\"],[\"mat-menu-item\",\"\",1,\"red-warning-text\",3,\"disabled\",\"click\"],[\"mat-dialog-title\",\"\"],[\"mat-dialog-content\",\"\",1,\"os-form-card-mobile\"],[\"multiple\",\"\",3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"type\",\"text\",\"matInput\",\"\",3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"mat-dialog-actions\",\"\"],[\"type\",\"submit\",\"mat-button\",\"\",\"color\",\"accent\",3,\"mat-dialog-close\"],[\"type\",\"button\",\"mat-button\",\"\",3,\"mat-dialog-close\"],[3,\"value\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"os-head-bar\",0),core.hc(\"mainEvent\",(function(){return ctx.onPlusButton()})),core.Zb(1,\"div\",1),core.Zb(2,\"h2\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Zb(5,\"div\",2),core.Zb(6,\"button\",3),core.Zb(7,\"mat-icon\"),core.Sc(8,\"more_vert\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(9,\"div\",4),core.Zb(10,\"button\",5),core.hc(\"click\",(function(){return ctx.toggleMultiSelect()})),core.Zb(11,\"mat-icon\"),core.Sc(12,\"arrow_back\"),core.Yb(),core.Yb(),core.Zb(13,\"span\"),core.Sc(14),core.Yb(),core.Zb(15,\"span\"),core.Sc(16),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(18,\"os-list-view-table\",6),core.hc(\"selectedRowsChange\",(function($event){return ctx.selectedRows=$event}))(\"dataSourceChange\",(function($event){return ctx.onDataSourceChange($event)})),core.Qc(19,UserListComponent_div_19_Template,10,5,\"div\",7),core.Qc(20,UserListComponent_div_20_Template,5,4,\"div\",8),core.Qc(21,UserListComponent_div_21_Template,5,3,\"div\",7),core.Qc(22,UserListComponent_div_22_Template,5,5,\"div\",7),core.Qc(23,UserListComponent_div_23_Template,4,5,\"div\",7),core.Yb(),core.Zb(24,\"mat-menu\",null,9),core.Qc(26,UserListComponent_ng_template_26_Template,7,6,\"ng-template\",10),core.Yb(),core.Zb(27,\"mat-menu\",null,11),core.Qc(29,UserListComponent_div_29_Template,14,10,\"div\",12),core.Qc(30,UserListComponent_div_30_Template,14,8,\"div\",12),core.Yb(),core.Qc(31,UserListComponent_ng_template_31_Template,30,35,\"ng-template\",null,13,core.Rc)),2&rf){const _r7=core.Ec(28);core.tc(\"hasMainButton\",ctx.canAddUser)(\"multiSelectMode\",ctx.isMultiSelect),core.Gb(3),core.Tc(core.nc(4,22,\"Participants\")),core.Gb(3),core.tc(\"matMenuTriggerFor\",_r7),core.Gb(8),core.Uc(\"\",ctx.selectedRows.length,\" \"),core.Gb(2),core.Tc(core.nc(17,24,\"selected\")),core.Gb(2),core.tc(\"listObservableProvider\",ctx.repo)(\"filterService\",ctx.filterService)(\"sortService\",ctx.sortService)(\"columns\",ctx.tableColumnDefinition)(\"filterProps\",ctx.filterProps)(\"showListOfSpeakers\",!1)(\"multiSelect\",ctx.isMultiSelect)(\"hiddenInMobile\",core.yc(26,_c3))(\"selectedRows\",ctx.selectedRows),core.Gb(1),core.tc(\"pblNgridCellDef\",\"short_name\"),core.Gb(1),core.tc(\"pblNgridCellDef\",\"group\"),core.Gb(1),core.tc(\"pblNgridCellDef\",\"infos\"),core.Gb(1),core.tc(\"pblNgridCellDef\",\"presence\"),core.Gb(1),core.tc(\"pblNgridCellDef\",\"menu\"),core.Gb(6),core.tc(\"ngIf\",!ctx.isMultiSelect),core.Gb(1),core.tc(\"ngIf\",ctx.isMultiSelect)}},directives:[head_bar_component.a,fesm2015_button.b,menu.e,icon.a,list_view_table_component.a,pebula_ngrid.c,menu.f,menu.b,common.t,fesm2015_router.i,tooltip.c,common.q,icon_container_component.a,common.s,fesm2015_checkbox.a,projector_button_component.a,menu.c,perms_directive.a,fesm2015_router.g,divider.a,fesm2015_dialog.i,fesm2015_dialog.f,form_field.c,fesm2015_select.a,fesm2015_forms.s,fesm2015_forms.v,fesm2015_core.n,input.b,fesm2015_forms.c,fesm2015_dialog.c,fesm2015_dialog.d],pipes:[ngx_translate_core.j],styles:[\".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}.groupsCell[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.groupsCell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80%}.infoCell[_ngcontent-%COMP%]{display:grid}.detail-link[_ngcontent-%COMP%]{z-index:2}.nameCell[_ngcontent-%COMP%]{position:relative;z-index:1;display:-ms-flexbox;display:flex}.nameCell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.icon-group[_ngcontent-%COMP%]{margin-left:1em;z-index:3}\"]}),UserListComponent})(),pathMatch:\"full\",data:{basePerm:operator_service.b.usersCanSeeName}},{path:\"password\",component:password_component_PasswordComponent,data:{basePerm:operator_service.b.usersCanChangePassword}},{path:\"password/:id\",component:password_component_PasswordComponent,data:{basePerm:operator_service.b.usersCanManage}},{path:\"new\",component:user_detail_component_UserDetailComponent,data:{basePerm:operator_service.b.usersCanManage}},{path:\"import\",component:user_import_list_component_UserImportListComponent,data:{basePerm:operator_service.b.usersCanManage}},{path:\"presence\",component:presence_detail_component_PresenceDetailComponent,data:{basePerm:operator_service.b.usersCanManage}},{path:\"groups\",component:group_list_component_GroupListComponent,data:{basePerm:operator_service.b.usersCanManage}},{path:\":id\",component:user_detail_component_UserDetailComponent}];let users_routing_module_UsersRoutingModule=(()=>{class UsersRoutingModule{}return UsersRoutingModule.ɵmod=core.Rb({type:UsersRoutingModule}),UsersRoutingModule.ɵinj=core.Qb({factory:function(t){return new(t||UsersRoutingModule)},imports:[[fesm2015_router.j.forChild(routes)],fesm2015_router.j]}),UsersRoutingModule})(),users_module_UsersModule=(()=>{class UsersModule{}return UsersModule.ɵmod=core.Rb({type:UsersModule}),UsersModule.ɵinj=core.Qb({factory:function(t){return new(t||UsersModule)},imports:[[common.c,users_routing_module_UsersRoutingModule,shared_module.a]]}),UsersModule})()},\"Jc+d\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return choice_service_ChoiceService}));var tslib_es6=__webpack_require__(\"mrSG\"),dialog_settings=__webpack_require__(\"Izkr\"),dialog=__webpack_require__(\"0IaG\"),core=__webpack_require__(\"fXoL\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),common=__webpack_require__(\"ofXK\"),fesm2015_button=__webpack_require__(\"bTqV\"),search_value_selector_component=__webpack_require__(\"oqD5\"),ngx_translate_core=__webpack_require__(\"sYmb\");function ChoiceDialogComponent_h2_0_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"h2\",2),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r0=core.lc();core.Gb(1),core.Tc(core.nc(2,1,ctx_r0.data.title))}}function ChoiceDialogComponent_form_1_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",9),core.Ub(1,\"os-search-value-selector\",10),core.Yb()),2&rf){const ctx_r2=core.lc(2);core.Gb(1),core.tc(\"multiple\",ctx_r2.data.multiSelect)(\"formControl\",ctx_r2.selectForm.get(\"select\"))(\"inputListValues\",ctx_r2.data.choices)}}function ChoiceDialogComponent_form_1_div_3_button_1_Template(rf,ctx){if(1&rf){const _r9=core.ac();core.Zb(0,\"button\",12),core.hc(\"click\",(function(){core.Ic(_r9);const button_r7=ctx.$implicit;return core.lc(3).closeDialog(!0,button_r7)})),core.Zb(1,\"span\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const button_r7=ctx.$implicit,ctx_r6=core.lc(3);core.tc(\"disabled\",!ctx_r6.hasSelection),core.Gb(2),core.Tc(core.nc(3,2,button_r7))}}function ChoiceDialogComponent_form_1_div_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Qc(1,ChoiceDialogComponent_form_1_div_3_button_1_Template,4,4,\"button\",11),core.Yb()),2&rf){const ctx_r3=core.lc(2);core.Gb(1),core.tc(\"ngForOf\",ctx_r3.data.actionButtons)}}function ChoiceDialogComponent_form_1_div_4_button_1_Template(rf,ctx){if(1&rf){const _r12=core.ac();core.Zb(0,\"button\",12),core.hc(\"click\",(function(){return core.Ic(_r12),core.lc(3).closeDialog(!0)})),core.Zb(1,\"span\"),core.Sc(2,\"OK\"),core.Yb(),core.Yb()}if(2&rf){const ctx_r10=core.lc(3);core.tc(\"disabled\",!ctx_r10.hasSelection)}}function ChoiceDialogComponent_form_1_div_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Qc(1,ChoiceDialogComponent_form_1_div_4_button_1_Template,3,1,\"button\",13),core.Yb()),2&rf){const ctx_r4=core.lc(2);core.Gb(1),core.tc(\"ngIf\",!ctx_r4.data.multiSelect||ctx_r4.data.choices)}}function ChoiceDialogComponent_form_1_button_5_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"button\",8),core.hc(\"click\",(function(){core.Ic(_r14);const ctx_r13=core.lc(2);return ctx_r13.closeDialog(!0,ctx_r13.data.clearChoice)})),core.Zb(1,\"span\"),core.Sc(2),core.Yb(),core.Yb()}if(2&rf){const ctx_r5=core.lc(2);core.Gb(2),core.Tc(ctx_r5.data.clearChoice)}}function ChoiceDialogComponent_form_1_Template(rf,ctx){if(1&rf){const _r16=core.ac();core.Zb(0,\"form\",3),core.Qc(1,ChoiceDialogComponent_form_1_div_1_Template,2,3,\"div\",4),core.Zb(2,\"div\",5),core.Qc(3,ChoiceDialogComponent_form_1_div_3_Template,2,1,\"div\",6),core.Qc(4,ChoiceDialogComponent_form_1_div_4_Template,2,1,\"div\",6),core.Qc(5,ChoiceDialogComponent_form_1_button_5_Template,3,1,\"button\",7),core.Zb(6,\"button\",8),core.hc(\"click\",(function(){return core.Ic(_r16),core.lc().closeDialog(!1)})),core.Zb(7,\"span\"),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.tc(\"formGroup\",ctx_r1.selectForm),core.Gb(1),core.tc(\"ngIf\",ctx_r1.data.choices),core.Gb(2),core.tc(\"ngIf\",ctx_r1.data.actionButtons),core.Gb(1),core.tc(\"ngIf\",!ctx_r1.data.actionButtons),core.Gb(1),core.tc(\"ngIf\",ctx_r1.data.clearChoice),core.Gb(3),core.Tc(core.nc(9,6,\"Cancel\"))}}let choice_dialog_component_ChoiceDialogComponent=(()=>{class ChoiceDialogComponent{constructor(dialogRef,formBuilder,data){this.dialogRef=dialogRef,this.formBuilder=formBuilder,this.data=data,this.selectedMultiChoices=[],this.selectForm=this.formBuilder.group({select:[]})}get hasSelection(){return!(this.data&&this.data.choices&&(!this.selectForm.get(\"select\").value||!this.selectForm.get(\"select\").value&&!this.selectForm.get(\"select\").value.length))}closeDialog(ok,action){this.data.multiSelect||null!==this.selectedChoice||(action=this.data.clearChoice),ok?this.dialogRef.close({action:action||null,items:this.selectForm.get(\"select\").value}):this.dialogRef.close()}}return ChoiceDialogComponent.ɵfac=function(t){return new(t||ChoiceDialogComponent)(core.Tb(dialog.h),core.Tb(fesm2015_forms.f),core.Tb(dialog.a))},ChoiceDialogComponent.ɵcmp=core.Nb({type:ChoiceDialogComponent,selectors:[[\"os-choice-dialog\"]],decls:2,vars:2,consts:[[\"mat-dialog-title\",\"\",4,\"ngIf\"],[3,\"formGroup\",4,\"ngIf\"],[\"mat-dialog-title\",\"\"],[3,\"formGroup\"],[\"mat-dialog-content\",\"\",4,\"ngIf\"],[\"mat-dialog-actions\",\"\"],[4,\"ngIf\"],[\"mat-button\",\"\",3,\"click\",4,\"ngIf\"],[\"mat-button\",\"\",3,\"click\"],[\"mat-dialog-content\",\"\"],[\"ngDefaultControl\",\"\",3,\"multiple\",\"formControl\",\"inputListValues\"],[\"mat-button\",\"\",3,\"disabled\",\"click\",4,\"ngFor\",\"ngForOf\"],[\"mat-button\",\"\",3,\"disabled\",\"click\"],[\"mat-button\",\"\",3,\"disabled\",\"click\",4,\"ngIf\"]],template:function(rf,ctx){1&rf&&(core.Qc(0,ChoiceDialogComponent_h2_0_Template,3,3,\"h2\",0),core.Qc(1,ChoiceDialogComponent_form_1_Template,10,8,\"form\",1)),2&rf&&(core.tc(\"ngIf\",ctx.data),core.Gb(1),core.tc(\"ngIf\",ctx.data))},directives:[common.t,dialog.i,fesm2015_forms.I,fesm2015_forms.t,fesm2015_forms.k,dialog.c,fesm2015_button.b,dialog.f,search_value_selector_component.a,fesm2015_forms.c,fesm2015_forms.s,fesm2015_forms.h,common.s],pipes:[ngx_translate_core.j],styles:[\".mat-form-field{width:100%}\"],encapsulation:2}),ChoiceDialogComponent})(),choice_service_ChoiceService=(()=>{class ChoiceService{constructor(dialog){this.dialog=dialog}open(title,choices,multiSelect=!1,actions,clearChoice){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){return this.dialog.open(choice_dialog_component_ChoiceDialogComponent,Object.assign(Object.assign({},dialog_settings.a),{data:{title:title,choices:choices,multiSelect:multiSelect,actionButtons:actions,clearChoice:clearChoice}})).afterClosed().toPromise()}))}}return ChoiceService.ɵfac=function(t){return new(t||ChoiceService)(core.dc(dialog.b))},ChoiceService.ɵprov=core.Pb({token:ChoiceService,factory:ChoiceService.ɵfac,providedIn:\"root\"}),ChoiceService})()},wL0i:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return BaseListViewComponent}));var _base_view__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mV3u\");class BaseListViewComponent extends _base_view__WEBPACK_IMPORTED_MODULE_0__.a{constructor(titleService,translate,matSnackBar,storage){super(titleService,translate,matSnackBar),this.storage=storage,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth=\"40px\",this.badgeButtonWidth=\"45px\",this.selectedRows=[]}onDataSourceChange(newDataSource){this.dataSource=newDataSource}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);","extractedComments":[]}