{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24,36],{\"+BBA\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"TopicsModule\",(function(){return topics_module_TopicsModule}));var common=__webpack_require__(\"ofXK\"),shared_module=__webpack_require__(\"PCNd\"),fesm2015_router=__webpack_require__(\"tyNb\"),operator_service=__webpack_require__(\"OwvW\"),tslib_es6=__webpack_require__(\"mrSG\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),item_repository_service=__webpack_require__(\"InfO\"),topic_repository_service=__webpack_require__(\"cffc\"),prompt_service=__webpack_require__(\"F48D\"),item=__webpack_require__(\"+az0\"),topic=__webpack_require__(\"KUsl\"),base_view=__webpack_require__(\"mV3u\"),create_topic=__webpack_require__(\"W+e+\"),view_topic=__webpack_require__(\"Q/67\"),core=__webpack_require__(\"fXoL\"),platform_browser=__webpack_require__(\"jhN1\"),snack_bar=__webpack_require__(\"dNgK\"),ngx_translate_core=__webpack_require__(\"sYmb\"),head_bar_component=__webpack_require__(\"mksl\"),perms_directive=__webpack_require__(\"3Xi6\"),menu=__webpack_require__(\"STbY\"),projector_button_component=__webpack_require__(\"Tp2j\"),speaker_button_component=__webpack_require__(\"40uZ\"),fesm2015_button=__webpack_require__(\"bTqV\"),icon=__webpack_require__(\"NFeN\"),card=__webpack_require__(\"Wp6s\"),list=__webpack_require__(\"MutI\"),form_field=__webpack_require__(\"kmnG\"),input=__webpack_require__(\"qFsG\"),autofocus_directive=__webpack_require__(\"IZUe\"),tinymce_tinymce_angular=__webpack_require__(\"fB2i\"),attachment_control_component=__webpack_require__(\"JAMN\"),fesm2015_select=__webpack_require__(\"d3UM\"),search_value_selector_component=__webpack_require__(\"oqD5\"),fesm2015_core=__webpack_require__(\"FKr1\"),divider=__webpack_require__(\"f0Cb\"),trust_pipe=__webpack_require__(\"7jBc\");function TopicDetailComponent_span_3_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"New topic\")))}function TopicDetailComponent_span_4_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Edit topic\")))}function TopicDetailComponent_span_5_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"Topic\")))}function TopicDetailComponent_div_6_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",8),core.Zb(1,\"button\",9),core.Zb(2,\"mat-icon\"),core.Sc(3,\"more_vert\"),core.Yb(),core.Yb(),core.Yb()),2&rf){core.lc();const _r5=core.Ec(9);core.Gb(1),core.tc(\"matMenuTriggerFor\",_r5)}}function TopicDetailComponent_mat_card_7_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h1\"),core.Sc(2),core.Yb(),core.Yb()),2&rf){const ctx_r7=core.lc(2);core.Gb(2),core.Tc(ctx_r7.topic.getListTitle())}}function TopicDetailComponent_mat_card_7_span_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Ub(1,\"div\",12),core.mc(2,\"trust\"),core.Yb()),2&rf){const ctx_r8=core.lc(2);core.Gb(1),core.tc(\"innerHTML\",core.oc(2,1,ctx_r8.topic.text,\"html\"),core.Jc)}}function TopicDetailComponent_mat_card_7_div_4_mat_list_item_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\"),core.Zb(1,\"a\",15),core.Sc(2),core.Yb(),core.Yb()),2&rf){const file_r12=ctx.$implicit;core.Gb(1),core.tc(\"routerLink\",file_r12.url),core.Gb(1),core.Tc(file_r12.getTitle())}}function TopicDetailComponent_mat_card_7_div_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"h3\"),core.Zb(2,\"span\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Sc(5,\": \"),core.Zb(6,\"mat-list\",13),core.Qc(7,TopicDetailComponent_mat_card_7_div_4_mat_list_item_7_Template,3,2,\"mat-list-item\",14),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r9=core.lc(2);core.Gb(3),core.Tc(core.nc(4,2,\"Attachments\")),core.Gb(4),core.tc(\"ngForOf\",ctx_r9.topic.attachments)}}function TopicDetailComponent_mat_card_7_form_5_mat_error_5_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-error\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Gb(1),core.Tc(core.nc(2,1,\"A name is required\")))}function TopicDetailComponent_mat_card_7_form_5_div_12_mat_option_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",24),core.Zb(1,\"span\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf){const type_r16=ctx.$implicit;core.tc(\"value\",type_r16.key),core.Gb(2),core.Tc(core.nc(3,2,type_r16.name))}}function TopicDetailComponent_mat_card_7_form_5_div_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Zb(1,\"div\"),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"mat-select\",21),core.mc(4,\"translate\"),core.Qc(5,TopicDetailComponent_mat_card_7_form_5_div_12_mat_option_5_Template,4,4,\"mat-option\",22),core.Yb(),core.Yb(),core.Yb(),core.Zb(6,\"div\"),core.Zb(7,\"mat-form-field\"),core.Ub(8,\"os-search-value-selector\",23),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r14=core.lc(3);core.Gb(3),core.uc(\"placeholder\",core.nc(4,5,\"Agenda visibility\")),core.Gb(2),core.tc(\"ngForOf\",ctx_r14.itemVisibility),core.Gb(3),core.uc(\"placeholder\",core.nc(9,7,\"Parent agenda item\")),core.tc(\"includeNone\",!0)(\"inputListValues\",ctx_r14.itemObserver)}}function TopicDetailComponent_mat_card_7_form_5_Template(rf,ctx){if(1&rf){const _r18=core.ac();core.Zb(0,\"form\",16),core.hc(\"keydown\",(function($event){return core.Ic(_r18),core.lc(2).onKeyDown($event)})),core.Zb(1,\"div\"),core.Zb(2,\"mat-form-field\"),core.Ub(3,\"input\",17),core.mc(4,\"translate\"),core.Qc(5,TopicDetailComponent_mat_card_7_form_5_mat_error_5_Template,3,3,\"mat-error\",2),core.Yb(),core.Yb(),core.Zb(6,\"div\",18),core.Zb(7,\"h4\"),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Ub(10,\"editor\",19),core.Yb(),core.Zb(11,\"os-attachment-control\",20),core.hc(\"errorHandler\",(function($event){return core.Ic(_r18),core.lc(2).raiseError($event)})),core.Yb(),core.Qc(12,TopicDetailComponent_mat_card_7_form_5_div_12_Template,10,9,\"div\",2),core.Yb()}if(2&rf){const ctx_r10=core.lc(2);core.tc(\"formGroup\",ctx_r10.topicForm),core.Gb(3),core.uc(\"placeholder\",core.nc(4,6,\"Title\")),core.Gb(2),core.tc(\"ngIf\",ctx_r10.topicForm.invalid),core.Gb(3),core.Tc(core.nc(9,8,\"Text\")),core.Gb(2),core.tc(\"init\",ctx_r10.tinyMceSettings),core.Gb(2),core.tc(\"ngIf\",ctx_r10.newTopic)}}function TopicDetailComponent_mat_card_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",10),core.Qc(1,TopicDetailComponent_mat_card_7_div_1_Template,3,1,\"div\",2),core.Zb(2,\"div\"),core.Qc(3,TopicDetailComponent_mat_card_7_span_3_Template,3,4,\"span\",2),core.Yb(),core.Qc(4,TopicDetailComponent_mat_card_7_div_4_Template,8,4,\"div\",2),core.Qc(5,TopicDetailComponent_mat_card_7_form_5_Template,13,10,\"form\",11),core.Yb()),2&rf){const ctx_r4=core.lc();core.tc(\"ngClass\",ctx_r4.editTopic?\"os-form-card\":\"os-card\"),core.Gb(1),core.tc(\"ngIf\",!ctx_r4.editTopic),core.Gb(2),core.tc(\"ngIf\",!ctx_r4.editTopic),core.Gb(1),core.tc(\"ngIf\",ctx_r4.topic.hasAttachments()&&!ctx_r4.editTopic),core.Gb(1),core.tc(\"ngIf\",ctx_r4.editTopic)}}function TopicDetailComponent_div_12_Template(rf,ctx){if(1&rf){const _r21=core.ac();core.Zb(0,\"div\"),core.Ub(1,\"mat-divider\"),core.Zb(2,\"button\",25),core.hc(\"click\",(function(){return core.Ic(_r21),core.lc().onDeleteButton()})),core.Zb(3,\"mat-icon\"),core.Sc(4,\"delete\"),core.Yb(),core.Zb(5,\"span\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Yb()}2&rf&&(core.Gb(6),core.Tc(core.nc(7,1,\"Delete\")))}let topic_detail_component_TopicDetailComponent=(()=>{class TopicDetailComponent extends base_view.a{constructor(title,matSnackBar,translate,route,router,formBuilder,repo,promptService,operator,itemRepo){super(title,translate,matSnackBar),this.translate=translate,this.route=route,this.router=router,this.formBuilder=formBuilder,this.repo=repo,this.promptService=promptService,this.operator=operator,this.itemRepo=itemRepo,this.itemVisibility=item.b,this.getTopicByUrl(),this.createForm(),this.itemObserver=this.itemRepo.getViewModelListBehaviorSubject()}setEditMode(mode){this.editTopic=mode,mode&&this.patchForm(),!mode&&this.newTopic&&this.router.navigate([\"./agenda/\"])}saveTopic(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){if(this.topicForm.valid)try{this.newTopic?(this.topicForm.value.agenda_parent_id||delete this.topicForm.value.agenda_parent_id,yield this.repo.create(new create_topic.a(this.topicForm.value)),this.router.navigate([\"/agenda/\"])):(yield this.repo.update(this.topicForm.value,this.topic),this.setEditMode(!1))}catch(e){this.raiseError(e)}}))}createForm(){this.topicForm=this.formBuilder.group({agenda_type:[],agenda_parent_id:[],attachments_id:[[]],text:[\"\"],title:[\"\",fesm2015_forms.G.required]}),this.topicForm.get(\"agenda_type\").setValue(1)}patchForm(){const topicPatch={};Object.keys(this.topicForm.controls).forEach(ctrl=>{topicPatch[ctrl]=this.topic[ctrl]}),this.topicForm.patchValue(topicPatch)}getTopicByUrl(){this.route.snapshot.url[0]&&\"new\"===this.route.snapshot.url[0].path?(this.newTopic=!0,this.editTopic=!0,this.topic=new view_topic.a(new topic.a),super.setTitle(\"New topic\")):this.route.params.subscribe(params=>{this.loadTopic(params.id)})}loadTopic(id){this.repo.getViewModelObservable(id).subscribe(newViewTopic=>{if(newViewTopic&&!this.editTopic){const title=newViewTopic.getTitle();super.setTitle(title),this.topic=newViewTopic,this.topicForm&&!this.editTopic&&this.patchForm()}})}onDeleteButton(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const title=this.translate.instant(\"Are you sure you want to delete this entry?\"),content=this.topic.title;(yield this.promptService.open(title,content))&&(yield this.repo.delete(this.topic).catch(this.raiseError),this.router.navigate([\"/agenda\"]))}))}isAllowed(action){switch(action){case\"see\":return this.operator.hasPerms(operator_service.b.agendaCanSee);case\"edit\":return this.operator.hasPerms(operator_service.b.agendaCanManage);case\"default\":return!1}}onKeyDown(event){\"Enter\"===event.key&&event.shiftKey&&this.saveTopic(),\"Escape\"===event.key&&this.setEditMode(!1)}}return TopicDetailComponent.ɵfac=function(t){return new(t||TopicDetailComponent)(core.Tb(platform_browser.d),core.Tb(snack_bar.a),core.Tb(ngx_translate_core.k),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.f),core.Tb(fesm2015_forms.f),core.Tb(topic_repository_service.a),core.Tb(prompt_service.a),core.Tb(operator_service.a),core.Tb(item_repository_service.a))},TopicDetailComponent.ɵcmp=core.Nb({type:TopicDetailComponent,selectors:[[\"os-topic-detail\"]],features:[core.Db],decls:13,vars:16,consts:[[\"mainButtonIcon\",\"edit\",3,\"hasMainButton\",\"nav\",\"goBack\",\"editMode\",\"isSaveButtonEnabled\",\"mainEvent\",\"saveEvent\"],[1,\"title-slot\"],[4,\"ngIf\"],[\"class\",\"menu-slot\",4,\"osPerms\",\"osPermsOr\"],[\"class\",\"spacer-bottom-60\",3,\"ngClass\",4,\"ngIf\"],[\"topicExtraMenu\",\"matMenu\"],[3,\"object\",\"menuItem\"],[4,\"osPerms\"],[1,\"menu-slot\"],[\"type\",\"button\",\"mat-icon-button\",\"\",3,\"matMenuTriggerFor\"],[1,\"spacer-bottom-60\",3,\"ngClass\"],[3,\"formGroup\",\"keydown\",4,\"ngIf\"],[3,\"innerHTML\"],[\"dense\",\"\"],[4,\"ngFor\",\"ngForOf\"],[\"target\",\"_blank\",3,\"routerLink\"],[3,\"formGroup\",\"keydown\"],[\"type\",\"text\",\"matInput\",\"\",\"osAutofocus\",\"\",\"required\",\"\",\"formControlName\",\"title\",3,\"placeholder\"],[1,\"spacer-bottom-20\"],[\"formControlName\",\"text\",3,\"init\"],[\"formControlName\",\"attachments_id\",3,\"errorHandler\"],[\"formControlName\",\"agenda_type\",3,\"placeholder\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"formControlName\",\"agenda_parent_id\",3,\"includeNone\",\"placeholder\",\"inputListValues\"],[3,\"value\"],[\"mat-menu-item\",\"\",1,\"red-warning-text\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"os-head-bar\",0),core.hc(\"mainEvent\",(function(){return ctx.setEditMode(!ctx.editTopic)}))(\"saveEvent\",(function(){return ctx.saveTopic()})),core.Zb(1,\"div\",1),core.Zb(2,\"h2\"),core.Qc(3,TopicDetailComponent_span_3_Template,3,3,\"span\",2),core.Qc(4,TopicDetailComponent_span_4_Template,3,3,\"span\",2),core.Qc(5,TopicDetailComponent_span_5_Template,3,3,\"span\",2),core.Yb(),core.Yb(),core.Qc(6,TopicDetailComponent_div_6_Template,4,1,\"div\",3),core.Yb(),core.Qc(7,TopicDetailComponent_mat_card_7_Template,6,5,\"mat-card\",4),core.Zb(8,\"mat-menu\",null,5),core.Ub(10,\"os-projector-button\",6),core.Ub(11,\"os-speaker-button\",6),core.Qc(12,TopicDetailComponent_div_12_Template,8,3,\"div\",7),core.Yb()),2&rf&&(core.tc(\"hasMainButton\",ctx.isAllowed(\"edit\"))(\"nav\",!1)(\"goBack\",!0)(\"editMode\",ctx.editTopic)(\"isSaveButtonEnabled\",ctx.topicForm.valid),core.Gb(3),core.tc(\"ngIf\",ctx.newTopic),core.Gb(1),core.tc(\"ngIf\",ctx.editTopic&&!ctx.newTopic),core.Gb(1),core.tc(\"ngIf\",!ctx.newTopic&&!ctx.editTopic),core.Gb(1),core.tc(\"osPerms\",\"agenda.can_manage\")(\"osPermsOr\",\"agenda.can_see_list_of_speakers\"),core.Gb(1),core.tc(\"ngIf\",ctx.topic||ctx.editTopic),core.Gb(3),core.tc(\"object\",ctx.topic)(\"menuItem\",!0),core.Gb(1),core.tc(\"object\",ctx.topic)(\"menuItem\",!0),core.Gb(1),core.tc(\"osPerms\",\"agenda.can_manage\"))},directives:[head_bar_component.a,common.t,perms_directive.a,menu.f,projector_button_component.a,speaker_button_component.a,fesm2015_button.b,menu.e,icon.a,card.a,common.q,list.a,common.s,list.d,fesm2015_router.i,fesm2015_forms.I,fesm2015_forms.t,fesm2015_forms.k,form_field.c,input.b,fesm2015_forms.c,autofocus_directive.a,fesm2015_forms.D,fesm2015_forms.s,fesm2015_forms.i,tinymce_tinymce_angular.a,attachment_control_component.a,form_field.b,fesm2015_select.a,search_value_selector_component.a,fesm2015_core.n,divider.a,menu.c],pipes:[ngx_translate_core.j,trust_pipe.a],styles:[\".topic-text[_ngcontent-%COMP%]{margin:0 20px;padding:25px}.topic-text[_ngcontent-%COMP%]   .missing[_ngcontent-%COMP%]{color:#708090;font-style:italic}\"]}),TopicDetailComponent})();const routes=[{path:\"new\",component:topic_detail_component_TopicDetailComponent,data:{basePerm:operator_service.b.agendaCanManage}},{path:\":id\",component:topic_detail_component_TopicDetailComponent,data:{basePerm:operator_service.b.agendaCanSee}}];let topics_routing_module_TopicsRoutingModule=(()=>{class TopicsRoutingModule{}return TopicsRoutingModule.ɵmod=core.Rb({type:TopicsRoutingModule}),TopicsRoutingModule.ɵinj=core.Qb({factory:function(t){return new(t||TopicsRoutingModule)},imports:[[fesm2015_router.j.forChild(routes)],fesm2015_router.j]}),TopicsRoutingModule})(),topics_module_TopicsModule=(()=>{class TopicsModule{}return TopicsModule.ɵmod=core.Rb({type:TopicsModule}),TopicsModule.ɵinj=core.Qb({factory:function(t){return new(t||TopicsModule)},imports:[[common.c,topics_routing_module_TopicsRoutingModule,shared_module.a]]}),TopicsModule})()},\"40uZ\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return speaker_button_component_SpeakerButtonComponent}));var distinctUntilChanged=__webpack_require__(\"/uUt\"),list_of_speakers_repository_service=__webpack_require__(\"3Y/2\"),base_view_model_with_list_of_speakers=__webpack_require__(\"J/o/\"),core=__webpack_require__(\"fXoL\"),perms_directive=__webpack_require__(\"3Xi6\"),common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),fesm2015_button=__webpack_require__(\"bTqV\"),tooltip=__webpack_require__(\"Qu3c\"),icon=__webpack_require__(\"NFeN\"),badge=__webpack_require__(\"TU8p\"),menu=__webpack_require__(\"STbY\"),chips=__webpack_require__(\"A5z7\"),ngx_translate_core=__webpack_require__(\"sYmb\");function SpeakerButtonComponent_ng_container_0_ng_container_1_a_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",4),core.Zb(1,\"button\",5),core.mc(2,\"translate\"),core.Zb(3,\"mat-icon\",6),core.Sc(4),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r2=core.lc(3);core.tc(\"routerLink\",ctx_r2.listOfSpeakersUrl),core.Gb(1),core.tc(\"disabled\",ctx_r2.disabled)(\"matTooltip\",core.nc(2,5,ctx_r2.tooltip)),core.Gb(2),core.tc(\"matBadge\",ctx_r2.listOfSpeakers.waitingSpeakerAmount>0?ctx_r2.listOfSpeakers.waitingSpeakerAmount:null),core.Gb(1),core.Uc(\" \",ctx_r2.icon,\" \")}}function SpeakerButtonComponent_ng_container_0_ng_container_1_button_2_mat_basic_chip_8_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-basic-chip\",9),core.Zb(1,\"span\"),core.Sc(2),core.Yb(),core.Yb()),2&rf){const ctx_r4=core.lc(4);core.Gb(2),core.Tc(ctx_r4.listOfSpeakers.waitingSpeakerAmount)}}function SpeakerButtonComponent_ng_container_0_ng_container_1_button_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"button\",7),core.Zb(1,\"mat-icon\"),core.Sc(2),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Zb(6,\"span\"),core.Sc(7,\" \"),core.Yb(),core.Qc(8,SpeakerButtonComponent_ng_container_0_ng_container_1_button_2_mat_basic_chip_8_Template,3,1,\"mat-basic-chip\",8),core.Yb()),2&rf){const ctx_r3=core.lc(3);core.tc(\"routerLink\",ctx_r3.listOfSpeakers.listOfSpeakersUrl),core.Gb(2),core.Tc(ctx_r3.icon),core.Gb(2),core.Tc(core.nc(5,4,\"List of speakers\")),core.Gb(4),core.tc(\"ngIf\",ctx_r3.listOfSpeakers.waitingSpeakerAmount>0)}}function SpeakerButtonComponent_ng_container_0_ng_container_1_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,SpeakerButtonComponent_ng_container_0_ng_container_1_a_1_Template,5,7,\"a\",2),core.Qc(2,SpeakerButtonComponent_ng_container_0_ng_container_1_button_2_Template,9,6,\"button\",3),core.Wb()),2&rf){const ctx_r1=core.lc(2);core.Gb(1),core.tc(\"ngIf\",!ctx_r1.menuItem),core.Gb(1),core.tc(\"ngIf\",ctx_r1.menuItem)}}function SpeakerButtonComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,SpeakerButtonComponent_ng_container_0_ng_container_1_Template,3,2,\"ng-container\",1),core.Wb()),2&rf){const ctx_r0=core.lc();core.Gb(1),core.tc(\"ngIf\",ctx_r0.listOfSpeakers)}}let speaker_button_component_SpeakerButtonComponent=(()=>{class SpeakerButtonComponent{constructor(listOfSpeakersRepo){this.listOfSpeakersRepo=listOfSpeakersRepo,this.menuItem=!1}set object(obj){let listOfSpeakers;listOfSpeakers=Object(base_view_model_with_list_of_speakers.b)(obj)?obj.listOfSpeakers:function(obj){return!!obj&&void 0!==obj.id&&void 0!==obj.collection}(obj)?this.listOfSpeakersRepo.findByContentObject(obj):null,this.cleanLosSub(),listOfSpeakers&&(this.losSub=this.listOfSpeakersRepo.getViewModelObservable(listOfSpeakers.id).pipe(Object(distinctUntilChanged.a)()).subscribe(speakerObj=>{this.listOfSpeakers=speakerObj}))}get listOfSpeakersUrl(){if(!this.disabled)return this.listOfSpeakers.listOfSpeakersUrl}get icon(){return this.listOfSpeakers.closed?\"voice_over_off\":\"record_voice_over\"}get tooltip(){return this.listOfSpeakers.closed?\"The list of speakers is closed.\":\"List of speakers\"}ngOnDestroy(){this.cleanLosSub()}cleanLosSub(){this.losSub&&(this.losSub.unsubscribe(),this.losSub=null)}}return SpeakerButtonComponent.ɵfac=function(t){return new(t||SpeakerButtonComponent)(core.Tb(list_of_speakers_repository_service.a))},SpeakerButtonComponent.ɵcmp=core.Nb({type:SpeakerButtonComponent,selectors:[[\"os-speaker-button\"]],inputs:{object:\"object\",disabled:\"disabled\",menuItem:\"menuItem\"},decls:1,vars:1,consts:[[4,\"osPerms\"],[4,\"ngIf\"],[\"class\",\"anchor-button\",3,\"routerLink\",4,\"ngIf\"],[\"type\",\"button\",\"mat-menu-item\",\"\",3,\"routerLink\",4,\"ngIf\"],[1,\"anchor-button\",3,\"routerLink\"],[\"type\",\"button\",\"mat-icon-button\",\"\",3,\"disabled\",\"matTooltip\"],[\"matBadgeColor\",\"accent\",3,\"matBadge\"],[\"type\",\"button\",\"mat-menu-item\",\"\",3,\"routerLink\"],[\"disableRipple\",\"\",\"class\",\"lightblue\",4,\"ngIf\"],[\"disableRipple\",\"\",1,\"lightblue\"]],template:function(rf,ctx){1&rf&&core.Qc(0,SpeakerButtonComponent_ng_container_0_Template,2,1,\"ng-container\",0),2&rf&&core.tc(\"osPerms\",\"agenda.can_see_list_of_speakers\")},directives:[perms_directive.a,common.t,router.i,fesm2015_button.b,tooltip.c,icon.a,badge.a,menu.c,router.g,chips.a],pipes:[ngx_translate_core.j],styles:[\".mat-basic-chip .mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\"],encapsulation:2}),SpeakerButtonComponent})()},F48D:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return PromptService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_shared_components_prompt_dialog_prompt_dialog_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"LBBb\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"fXoL\"),_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"0IaG\");let PromptService=(()=>{class PromptService{constructor(dialog){this.dialog=dialog}open(title,content=\"\"){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return this.dialog.open(_shared_components_prompt_dialog_prompt_dialog_component__WEBPACK_IMPORTED_MODULE_1__.a,{width:\"250px\",data:{title:title,content:content}}).afterClosed().toPromise()}))}}return PromptService.ɵfac=function(t){return new(t||PromptService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.dc(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__.b))},PromptService.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Pb({token:PromptService,factory:PromptService.ɵfac,providedIn:\"root\"}),PromptService})()},JAMN:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return AttachmentControlComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"fXoL\"),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"kmnG\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"lJxs\"),app_core_repositories_mediafiles_mediafile_repository_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"SSyl\"),app_shared_models_base_base_form_control__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"aAo1\"),app_shared_utils_dialog_settings__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"Izkr\"),_angular_forms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"3Pt+\"),_angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"u47x\"),_angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(\"0IaG\"),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(\"ofXK\"),_search_value_selector_search_value_selector_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(\"oqD5\"),_directives_perms_directive__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(\"3Xi6\"),_angular_material_button__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(\"bTqV\"),_angular_material_icon__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(\"NFeN\"),_media_upload_content_media_upload_content_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(\"GTZY\"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(\"sYmb\");function AttachmentControlComponent_div_0_button_4_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Zb(0,\"button\",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hc(\"click\",(function(){_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(_r5);const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.lc(2),_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ec(2);return ctx_r4.openUploadDialog(_r1)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Zb(1,\"mat-icon\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sc(2,\"cloud_upload\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yb()}}function AttachmentControlComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Zb(0,\"div\",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Zb(1,\"mat-form-field\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ub(2,\"os-search-value-selector\",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(3,\"translate\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qc(4,AttachmentControlComponent_div_0_button_4_Template,3,0,\"button\",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yb()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.lc();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uc(\"placeholder\",_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(3,5,\"Attachments\")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.tc(\"multiple\",!0)(\"formControl\",ctx_r0.contentForm)(\"inputListValues\",ctx_r0.mediaFileList),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.tc(\"osPerms\",\"mediafiles.can_manage\")}}function AttachmentControlComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Zb(0,\"h1\",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Zb(1,\"span\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sc(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.mc(3,\"translate\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Zb(4,\"os-media-upload-content\",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hc(\"uploadSuccessEvent\",(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.lc().uploadSuccess($event)}))(\"errorEvent\",(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.Ic(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.lc().uploadError($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yb()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tc(_angular_core__WEBPACK_IMPORTED_MODULE_0__.nc(3,1,\"Upload files\")))}let AttachmentControlComponent=(()=>{class AttachmentControlComponent extends app_shared_models_base_base_form_control__WEBPACK_IMPORTED_MODULE_4__.a{constructor(formBuilder,focusMonitor,element,ngControl,dialogService,mediaService){super(formBuilder,focusMonitor,element,ngControl),this.ngControl=ngControl,this.dialogService=dialogService,this.mediaService=mediaService,this.errorHandler=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.p}get empty(){return!this.contentForm.value.length}get controlType(){return\"attachment-control\"}ngOnInit(){this.mediaFileList=this.mediaService.getViewModelListObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)(files=>files.filter(file=>!file.is_directory)))}openUploadDialog(dialog){this.dialogRef=this.dialogService.open(dialog,Object.assign(Object.assign({},app_shared_utils_dialog_settings__WEBPACK_IMPORTED_MODULE_5__.c),{disableClose:!1}))}uploadSuccess(fileIDs){const newValues=[...this.contentForm.value,...fileIDs];this.updateForm(newValues),this.dialogRef.close()}uploadError(error){this.errorHandler.emit(error)}onContainerClick(event){}initializeForm(){this.contentForm=this.fb.control([])}updateForm(value){this.contentForm.setValue(value||[])}}return AttachmentControlComponent.ɵfac=function(t){return new(t||AttachmentControlComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(_angular_forms__WEBPACK_IMPORTED_MODULE_6__.f),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(_angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_7__.h),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.m),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(_angular_forms__WEBPACK_IMPORTED_MODULE_6__.r,10),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb(app_core_repositories_mediafiles_mediafile_repository_service__WEBPACK_IMPORTED_MODULE_3__.a))},AttachmentControlComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({type:AttachmentControlComponent,selectors:[[\"os-attachment-control\"]],outputs:{errorHandler:\"errorHandler\"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.Fb([{provide:_angular_material_form_field__WEBPACK_IMPORTED_MODULE_1__.d,useExisting:AttachmentControlComponent}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Db],decls:3,vars:1,consts:[[\"class\",\"attachment-container\",4,\"ngIf\"],[\"uploadDialog\",\"\"],[1,\"attachment-container\"],[1,\"selector\",3,\"multiple\",\"placeholder\",\"formControl\",\"inputListValues\"],[\"type\",\"button\",\"mat-icon-button\",\"\",3,\"click\",4,\"osPerms\"],[\"type\",\"button\",\"mat-icon-button\",\"\",3,\"click\"],[\"mat-dialog-title\",\"\"],[3,\"uploadSuccessEvent\",\"errorEvent\"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qc(0,AttachmentControlComponent_div_0_Template,5,7,\"div\",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qc(1,AttachmentControlComponent_ng_template_1_Template,5,3,\"ng-template\",null,1,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rc)),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.tc(\"ngIf\",ctx.contentForm)},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_9__.t,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_1__.c,_search_value_selector_search_value_selector_component__WEBPACK_IMPORTED_MODULE_10__.a,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.s,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.h,_directives_perms_directive__WEBPACK_IMPORTED_MODULE_11__.a,_angular_material_button__WEBPACK_IMPORTED_MODULE_12__.b,_angular_material_icon__WEBPACK_IMPORTED_MODULE_13__.a,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__.i,_media_upload_content_media_upload_content_component__WEBPACK_IMPORTED_MODULE_14__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.j],styles:[\"[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .attachment-container[_ngcontent-%COMP%]{-ms-flex-pack:justify;justify-content:space-between;display:-ms-flexbox;display:flex}[_nghost-%COMP%]   .attachment-container[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{width:95%}[_nghost-%COMP%]   .attachment-container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{top:20px}\"],changeDetection:0}),AttachmentControlComponent})()},LBBb:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return PromptDialogComponent}));var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"0IaG\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"fXoL\"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"ofXK\"),_angular_material_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"bTqV\"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"sYmb\");function PromptDialogComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"div\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(1,\"h2\",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Sc(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Ub(3,\"mat-dialog-content\",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(4,\"mat-dialog-actions\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(5,\"button\",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Sc(6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.mc(7,\"translate\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(8,\"button\",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Sc(9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.mc(10,\"translate\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc();_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tc(ctx_r0.data.title),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"innerHTML\",ctx_r0.data.content,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Jc),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"mat-dialog-close\",!0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tc(_angular_core__WEBPACK_IMPORTED_MODULE_1__.nc(7,6,\"Yes\")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"mat-dialog-close\",!1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tc(_angular_core__WEBPACK_IMPORTED_MODULE_1__.nc(10,8,\"Cancel\"))}}let PromptDialogComponent=(()=>{class PromptDialogComponent{constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data}}return PromptDialogComponent.ɵfac=function(t){return new(t||PromptDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.h),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.a))},PromptDialogComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Nb({type:PromptDialogComponent,selectors:[[\"os-prompt-dialog\"]],decls:1,vars:1,consts:[[4,\"ngIf\"],[\"mat-dialog-title\",\"\"],[3,\"innerHTML\"],[\"mat-button\",\"\",\"color\",\"warn\",3,\"mat-dialog-close\"],[\"mat-button\",\"\",3,\"mat-dialog-close\"]],template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(0,PromptDialogComponent_div_0_Template,11,10,\"div\",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"ngIf\",ctx.data)},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.t,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.i,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.f,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.c,_angular_material_button__WEBPACK_IMPORTED_MODULE_3__.b,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_0__.d],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__.j],encapsulation:2}),PromptDialogComponent})()}}]);","extractedComments":[]}