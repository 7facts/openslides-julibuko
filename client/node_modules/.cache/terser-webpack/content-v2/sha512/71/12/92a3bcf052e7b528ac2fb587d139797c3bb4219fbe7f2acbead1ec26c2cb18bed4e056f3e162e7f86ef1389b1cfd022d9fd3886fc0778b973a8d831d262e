{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{\"0Obk\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ListViewTableComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"fXoL\"),_angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"tyNb\"),_pebula_ngrid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"dRZP\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"pLZG\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"/uUt\"),app_core_core_services_operator_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"OwvW\"),app_core_core_services_projector_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"+WZz\"),app_core_core_services_storage_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(\"AqIO\"),app_core_ui_services_viewport_service__WEBPACK_IMPORTED_MODULE_11__=(__webpack_require__(\"+8Rz\"),__webpack_require__(\"A6Ob\"),__webpack_require__(\"KL36\")),_angular_common__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(\"ofXK\"),_angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(\"XhcP\"),_pebula_ngrid_material_selection_column__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(\"1yIO\"),_pebula_ngrid_target_events__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(\"SOyc\"),_sort_filter_bar_sort_filter_bar_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(\"XROA\"),_directives_perms_directive__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(\"3Xi6\"),_projector_button_projector_button_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(\"Tp2j\"),_angular_material_icon__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(\"NFeN\"),_angular_material_tooltip__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(\"Qu3c\"),_speaker_button_speaker_button_component__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(\"40uZ\"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(\"sYmb\");function ListViewTableComponent_mat_drawer_container_0_os_sort_filter_bar_2_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_1__.ac();_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"os-sort-filter-bar\",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.hc(\"searchFieldChange\",(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Ic(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc(2).searchFilter($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc(2);_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"totalCount\",ctx_r1.totalCount)(\"filterCount\",ctx_r1.countFilter)(\"filterService\",ctx_r1.filterService)(\"sortService\",ctx_r1.sortService)(\"searchFieldInput\",ctx_r1.inputValue)}}function ListViewTableComponent_mat_drawer_container_0_div_4_os_projector_button_1_Template(rf,ctx){if(1&rf){const _r12=_angular_core__WEBPACK_IMPORTED_MODULE_1__.ac();_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"os-projector-button\",13),_angular_core__WEBPACK_IMPORTED_MODULE_1__.hc(\"changeEvent\",(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Ic(_r12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc(3).viewUpdateEvent()})),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()}if(2&rf){const viewModel_r8=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc().row,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc(2);_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"object\",ctx_r9.getProjectable(viewModel_r8))}}function ListViewTableComponent_mat_drawer_container_0_div_4_div_2_mat_icon_1_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"mat-icon\",16),_angular_core__WEBPACK_IMPORTED_MODULE_1__.mc(1,\"translate\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Sc(2,\" videocam \"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.uc(\"matTooltip\",_angular_core__WEBPACK_IMPORTED_MODULE_1__.nc(1,1,\"Currently projected\"))}function ListViewTableComponent_mat_drawer_container_0_div_4_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"div\",14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(1,ListViewTableComponent_mat_drawer_container_0_div_4_div_2_mat_icon_1_Template,3,3,\"mat-icon\",15),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()),2&rf){const viewModel_r8=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc().row,ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc(2);_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"ngIf\",ctx_r10.projectorService.isProjected(ctx_r10.getProjectable(viewModel_r8)))}}function ListViewTableComponent_mat_drawer_container_0_div_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"div\",10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(1,ListViewTableComponent_mat_drawer_container_0_div_4_os_projector_button_1_Template,1,1,\"os-projector-button\",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(2,ListViewTableComponent_mat_drawer_container_0_div_4_div_2_Template,2,1,\"div\",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"osPerms\",\"core.can_manage_projector\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"osPerms\",\"core.can_manage_projector\")(\"osPermsComplement\",!0))}function ListViewTableComponent_mat_drawer_container_0_div_5_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"div\",17),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(1,\"span\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Sc(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.mc(3,\"translate\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tc(_angular_core__WEBPACK_IMPORTED_MODULE_1__.nc(3,1,\"No data\")))}function ListViewTableComponent_mat_drawer_container_0_div_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"div\",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Ub(1,\"os-speaker-button\",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()),2&rf){const viewModel_r16=ctx.row,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc(2);_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"object\",viewModel_r16.contentObjectData?viewModel_r16.contentObjectData:viewModel_r16)(\"disabled\",ctx_r5.multiSelect)}}function ListViewTableComponent_mat_drawer_container_0_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_1__.ac();_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(0,\"mat-drawer-container\",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(1,\"div\",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(2,ListViewTableComponent_mat_drawer_container_0_os_sort_filter_bar_2_Template,1,5,\"os-sort-filter-bar\",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(3,\"pbl-ngrid\",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.hc(\"rowClick\",(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Ic(_r19),_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc().onSelectRow($event)})),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(4,ListViewTableComponent_mat_drawer_container_0_div_4_Template,3,3,\"div\",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(5,ListViewTableComponent_mat_drawer_container_0_div_5_Template,4,3,\"div\",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zb(6,\"div\",null,7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.rc(8,0,[\"class\",\"ngrid-lg\"]),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(9,ListViewTableComponent_mat_drawer_container_0_div_9_Template,2,2,\"div\",8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yb()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_1__.lc();_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"ngIf\",ctx_r0.showFilterBar),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"showHeader\",!ctx_r0.showFilterBar||!ctx_r0.fullScreen)(\"showHeader\",!1)(\"dataSource\",ctx_r0.dataSource)(\"columns\",ctx_r0.columnSet)(\"hideColumns\",ctx_r0.hiddenColumns)(\"rowClassUpdate\",ctx_r0.isElementProjected),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Hb(\"vScrollFixed\",-1!==ctx_r0.vScrollFixed&&ctx_r0.vScrollFixed)(\"vScrollAuto\",-1===ctx_r0.vScrollFixed),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"pblNgridCellDef\",\"projector\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Gb(5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"pblNgridCellDef\",\"speaker\")}}const _c0=[[[\"\",8,\"cell-slot\"]]],_c1=[\".cell-slot\"];let ListViewTableComponent=(()=>{class ListViewTableComponent{constructor(operator,vp,router,store,cd,projectorService){this.operator=operator,this.store=store,this.cd=cd,this.projectorService=projectorService,this.multiSelect=!1,this.allowProjector=!0,this.selectedRowsChange=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.p,this.columns=[],this.showFilterBar=!0,this.alwaysShowMenu=!1,this.showListOfSpeakers=!0,this.showMenu=!0,this.vScrollFixed=110,this.fullScreen=!0,this.dataSourceChange=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.p,this.subs=[],this.isElementProjected=context=>{if(this.allowProjector&&this.projectorService.isProjected(this.getProjectable(context.$implicit)))return\"projected\"},vp.isMobileSubject.subscribe(mobile=>{mobile!==this.isMobile&&this.cd.markForCheck(),this.isMobile=mobile}),this.subs.push(router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(event=>event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_2__.d)).subscribe(()=>{this.saveScrollOffset()}))}get projectorColumnWidth(){return this.operator.hasPerms(app_core_core_services_operator_service__WEBPACK_IMPORTED_MODULE_6__.b.coreCanManageProjector)?60:24}get defaultStartColumns(){return[{prop:\"selection\",label:\"\",width:\"40px\"},{prop:\"projector\",label:\"\",width:this.projectorColumnWidth+\"px\"}]}get defaultEndColumns(){return[{prop:\"speaker\",label:\"\",width:\"45px\"},{prop:\"menu\",label:\"\",width:\"40px\"}]}get countFilter(){return this.dataSource.filteredData.length}get totalCount(){return this.dataSource.length}get hiddenColumns(){let hidden=[];if(this.multiSelect||hidden.push(\"selection\"),(this.alwaysShowMenu||this.isMobile)&&this.showMenu||hidden.push(\"menu\"),(this.multiSelect||this.isMobile||!this.allowProjector)&&hidden.push(\"projector\"),!this.isMobile&&this.operator.hasPerms(app_core_core_services_operator_service__WEBPACK_IMPORTED_MODULE_6__.b.agendaCanSeeListOfSpeakers)&&this.showListOfSpeakers||hidden.push(\"speaker\"),this.restricted&&this.restricted.length){const restrictedColumns=this.restricted.filter(restriction=>!this.operator.hasPerms(restriction.permission)).map(restriction=>restriction.columnName);hidden=hidden.concat(restrictedColumns)}return this.isMobile&&this.hiddenInMobile&&this.hiddenInMobile.length&&(hidden=hidden.concat(this.hiddenInMobile)),hidden}ngOnInit(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){this.getListObservable(),yield this.restoreSearchQuery(),this.createDataSource(),this.changeRowHeight(),this.cd.detectChanges(),this.scrollToPreviousPosition()}))}ngOnDestroy(){this.cd.detach();for(const sub of this.subs)sub.unsubscribe();this.subs=[]}createDataSource(){this.dataSource=Object(_pebula_ngrid__WEBPACK_IMPORTED_MODULE_3__.q)().onTrigger(()=>this.dataListObservable?this.dataListObservable:[]).create(),this.dataSource.onSourceChanged.subscribe(()=>{this.dataSourceChange.next(this.dataSource),this.checkSelection()}),this.dataSource.selection.changed.subscribe(selection=>{this.selectedRows=selection.source.selected,this.selectedRowsChange.emit(this.selectedRows)}),this.columnSet=Object(_pebula_ngrid__WEBPACK_IMPORTED_MODULE_3__.p)().default({width:\"60px\"}).table(...this.defaultStartColumns,...this.columns,...this.defaultEndColumns).build(),this.dataSource.setFilter(this.getFilterPredicate()),this.filterService&&this.subs.push(this.filterService.outputObservable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)()).subscribe(()=>{this.dataSource.refresh()})),this.sortService&&this.subs.push(this.sortService.outputObservable.subscribe(()=>{this.dataSource.refresh()}))}getListObservable(){if(this.listObservableProvider||this.listObservable){const listObservable=this.listObservableProvider?this.listObservableProvider.getViewModelListObservable():this.listObservable;this.filterService&&this.sortService?(this.filterService.initFilters(listObservable),this.sortService.initSorting(this.filterService.outputObservable),this.dataListObservable=this.sortService.outputObservable):this.filterService?(this.filterService.initFilters(listObservable),this.dataListObservable=this.filterService.outputObservable):this.sortService?(this.sortService.initSorting(listObservable),this.dataListObservable=this.sortService.outputObservable):this.dataListObservable=listObservable}}viewUpdateEvent(){this.cd.markForCheck()}getFilterPredicate(){return item=>{if(!this.inputValue)return!0;const trimmedInput=this.inputValue.trim().toLowerCase();if(-1!==(\"\"+item.id).trim().toLowerCase().indexOf(trimmedInput))return!0;if(this.filterProps&&this.filterProps.length)for(const prop of this.filterProps){const split=prop.split(\".\");let currValue=item;for(const subProp of split)currValue&&(currValue=currValue[subProp]);if(currValue){let propertyAsString=\"\";if(propertyAsString=\"function\"==typeof currValue?\"\"+currValue():currValue.constructor===Array?currValue.join(\"\"):\"\"+currValue,propertyAsString&&-1!==propertyAsString.trim().toLowerCase().indexOf(trimmedInput))return!0}}}}onSelectRow(event){if(this.multiSelect){const clickedModel=event.row;this.dataSource.selection.isSelected(clickedModel)?this.dataSource.selection.deselect(clickedModel):this.dataSource.selection.select(clickedModel)}}getProjectable(viewModel){var _a,_b;return null!==(_b=null===(_a=viewModel)||void 0===_a?void 0:_a.contentObject)&&void 0!==_b?_b:viewModel}searchFilter(filterValue){this.listStorageKey&&this.saveSearchQuery(this.listStorageKey,filterValue),this.inputValue=filterValue,this.dataSource.syncFilter()}getScrollOffset(key){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return(yield this.store.get(\"scroll_\"+key))||0}))}saveScrollOffset(){const offset=this.ngrid.viewport.measureScrollOffset();this.store.set(\"scroll_\"+this.listStorageKey,offset)}saveSearchQuery(key,query){this.store.set(\"query_\"+key,query)}restoreSearchQuery(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){this.inputValue=yield this.store.get(\"query_\"+this.listStorageKey)}))}scrollToPreviousPosition(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){if(this.ngrid){const scrollIndex=yield this.getScrollOffset(this.listStorageKey);this.ngrid.viewport.scrollToOffset(scrollIndex)}}))}changeRowHeight(){this.vScrollFixed>0&&document.documentElement.style.setProperty(\"--pbl-height\",this.vScrollFixed+\"px\")}checkSelection(){if(this.multiSelect){const previouslySelectedRows=[];this.selectedRows.forEach(selectedRow=>{const newRow=this.dataSource.source.find(item=>item.id===selectedRow.id);newRow&&previouslySelectedRows.push(newRow)}),this.dataSource.selection.clear(),this.dataSource.selection.select(...previouslySelectedRows)}}}return ListViewTableComponent.ɵfac=function(t){return new(t||ListViewTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(app_core_core_services_operator_service__WEBPACK_IMPORTED_MODULE_6__.a),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(app_core_ui_services_viewport_service__WEBPACK_IMPORTED_MODULE_11__.a),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(_angular_router__WEBPACK_IMPORTED_MODULE_2__.f),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(app_core_core_services_storage_service__WEBPACK_IMPORTED_MODULE_8__.a),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(_angular_core__WEBPACK_IMPORTED_MODULE_1__.h),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Tb(app_core_core_services_projector_service__WEBPACK_IMPORTED_MODULE_7__.a))},ListViewTableComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Nb({type:ListViewTableComponent,selectors:[[\"os-list-view-table\"]],viewQuery:function(rf,ctx){var _t;1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Zc(_pebula_ngrid__WEBPACK_IMPORTED_MODULE_3__.e,!0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Dc(_t=_angular_core__WEBPACK_IMPORTED_MODULE_1__.ic())&&(ctx.ngrid=_t.first)},inputs:{listObservableProvider:\"listObservableProvider\",listObservable:\"listObservable\",sortService:\"sortService\",filterService:\"filterService\",multiSelect:\"multiSelect\",allowProjector:\"allowProjector\",hiddenInMobile:\"hiddenInMobile\",restricted:\"restricted\",selectedRows:\"selectedRows\",columns:\"columns\",filterProps:\"filterProps\",listStorageKey:\"listStorageKey\",showFilterBar:\"showFilterBar\",alwaysShowMenu:\"alwaysShowMenu\",showListOfSpeakers:\"showListOfSpeakers\",showMenu:\"showMenu\",vScrollFixed:\"vScrollFixed\",fullScreen:\"fullScreen\"},outputs:{selectedRowsChange:\"selectedRowsChange\",dataSourceChange:\"dataSourceChange\"},ngContentSelectors:_c1,decls:1,vars:1,consts:[[\"class\",\"list-view-frame\",4,\"ngIf\"],[1,\"list-view-frame\"],[1,\"list-view-table-wrapper\"],[\"class\",\"sort-filter-bar\",3,\"totalCount\",\"filterCount\",\"filterService\",\"sortService\",\"searchFieldInput\",\"searchFieldChange\",4,\"ngIf\"],[\"matCheckboxSelection\",\"selection\",\"rowClassUpdateFreq\",\"ngDoCheck\",1,\"vscroll-list-view\",3,\"showHeader\",\"dataSource\",\"columns\",\"hideColumns\",\"rowClassUpdate\",\"rowClick\"],[\"class\",\"fill ngrid-lg\",4,\"pblNgridCellDef\"],[\"class\",\"pbl-ngrid-no-data\",4,\"pblNgridNoDataRef\"],[\"contentWrapper\",\"\"],[\"class\",\"fill\",4,\"pblNgridCellDef\"],[1,\"sort-filter-bar\",3,\"totalCount\",\"filterCount\",\"filterService\",\"sortService\",\"searchFieldInput\",\"searchFieldChange\"],[1,\"fill\",\"ngrid-lg\"],[\"class\",\"projector-button\",3,\"object\",\"changeEvent\",4,\"osPerms\"],[\"class\",\"projector-button\",4,\"osPerms\",\"osPermsComplement\"],[1,\"projector-button\",3,\"object\",\"changeEvent\"],[1,\"projector-button\"],[\"color\",\"accent\",3,\"matTooltip\",4,\"ngIf\"],[\"color\",\"accent\",3,\"matTooltip\"],[1,\"pbl-ngrid-no-data\"],[1,\"fill\"],[3,\"object\",\"disabled\"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.sc(_c0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qc(0,ListViewTableComponent_mat_drawer_container_0_Template,10,11,\"mat-drawer-container\",0)),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.tc(\"ngIf\",ctx.columns&&ctx.columnSet)},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_12__.t,_angular_material_sidenav__WEBPACK_IMPORTED_MODULE_13__.b,_pebula_ngrid__WEBPACK_IMPORTED_MODULE_3__.e,_pebula_ngrid_material_selection_column__WEBPACK_IMPORTED_MODULE_14__.b,_pebula_ngrid__WEBPACK_IMPORTED_MODULE_3__.A,_pebula_ngrid_target_events__WEBPACK_IMPORTED_MODULE_15__.b,_pebula_ngrid__WEBPACK_IMPORTED_MODULE_3__.c,_pebula_ngrid__WEBPACK_IMPORTED_MODULE_3__.l,_sort_filter_bar_sort_filter_bar_component__WEBPACK_IMPORTED_MODULE_16__.a,_directives_perms_directive__WEBPACK_IMPORTED_MODULE_17__.a,_projector_button_projector_button_component__WEBPACK_IMPORTED_MODULE_18__.a,_angular_material_icon__WEBPACK_IMPORTED_MODULE_19__.a,_angular_material_tooltip__WEBPACK_IMPORTED_MODULE_20__.c,_speaker_button_speaker_button_component__WEBPACK_IMPORTED_MODULE_21__.a],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__.j],styles:[\".title-line{font-weight:500;font-size:16px}.title-line .icon-prefix .mat-icon{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line .favorite-star{padding-right:3px}.mat-table{width:100%}.mat-table .mat-header-row .mat-column-anchor{display:none}.mat-table .mat-row{position:relative}.mat-table .mat-row .mat-column-anchor{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table .mat-row .mat-column-anchor a{display:block;height:100%;width:100%}.mat-table .mat-cell{position:relative}.mat-table .mat-cell .fill{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table .mat-cell .fill *{margin-top:auto;margin-bottom:auto}.mat-table .mat-cell>*{z-index:2}.mat-table .mat-table-sticky{z-index:3!important}.list-view-frame{height:calc(100vh - 64px)}.list-view-table-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;height:100%}.list-view-table-wrapper .sort-filter-bar{-ms-flex:0 1 auto;flex:0 1 auto;display:block}.list-view-table-wrapper .vscroll-list-view{-ms-flex:1 1 auto;flex:1 1 auto;height:100%}.list-view-table-wrapper .vscroll-list-view .projector-button{margin:auto;display:-ms-flexbox;display:flex}.list-view-table-wrapper .vscroll-list-view .pbl-ngrid-row{height:var(--pbl-height)}.list-view-table-wrapper .vscroll-list-view .pbl-ngrid-row:last-of-type{margin-bottom:60px!important}.list-view-table-wrapper .vscroll-list-view .pbl-ngrid-cell{height:inherit}.list-view-table-wrapper .vscroll-list-view .multiselect .pbl-ngrid-cell{cursor:pointer}\"],encapsulation:2,changeDetection:0}),ListViewTableComponent})()},\"40uZ\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return speaker_button_component_SpeakerButtonComponent}));var distinctUntilChanged=__webpack_require__(\"/uUt\"),list_of_speakers_repository_service=__webpack_require__(\"3Y/2\"),base_view_model_with_list_of_speakers=__webpack_require__(\"J/o/\"),core=__webpack_require__(\"fXoL\"),perms_directive=__webpack_require__(\"3Xi6\"),common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),fesm2015_button=__webpack_require__(\"bTqV\"),tooltip=__webpack_require__(\"Qu3c\"),icon=__webpack_require__(\"NFeN\"),badge=__webpack_require__(\"TU8p\"),menu=__webpack_require__(\"STbY\"),chips=__webpack_require__(\"A5z7\"),ngx_translate_core=__webpack_require__(\"sYmb\");function SpeakerButtonComponent_ng_container_0_ng_container_1_a_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",4),core.Zb(1,\"button\",5),core.mc(2,\"translate\"),core.Zb(3,\"mat-icon\",6),core.Sc(4),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r2=core.lc(3);core.tc(\"routerLink\",ctx_r2.listOfSpeakersUrl),core.Gb(1),core.tc(\"disabled\",ctx_r2.disabled)(\"matTooltip\",core.nc(2,5,ctx_r2.tooltip)),core.Gb(2),core.tc(\"matBadge\",ctx_r2.listOfSpeakers.waitingSpeakerAmount>0?ctx_r2.listOfSpeakers.waitingSpeakerAmount:null),core.Gb(1),core.Uc(\" \",ctx_r2.icon,\" \")}}function SpeakerButtonComponent_ng_container_0_ng_container_1_button_2_mat_basic_chip_8_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-basic-chip\",9),core.Zb(1,\"span\"),core.Sc(2),core.Yb(),core.Yb()),2&rf){const ctx_r4=core.lc(4);core.Gb(2),core.Tc(ctx_r4.listOfSpeakers.waitingSpeakerAmount)}}function SpeakerButtonComponent_ng_container_0_ng_container_1_button_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"button\",7),core.Zb(1,\"mat-icon\"),core.Sc(2),core.Yb(),core.Zb(3,\"span\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Zb(6,\"span\"),core.Sc(7,\" \"),core.Yb(),core.Qc(8,SpeakerButtonComponent_ng_container_0_ng_container_1_button_2_mat_basic_chip_8_Template,3,1,\"mat-basic-chip\",8),core.Yb()),2&rf){const ctx_r3=core.lc(3);core.tc(\"routerLink\",ctx_r3.listOfSpeakers.listOfSpeakersUrl),core.Gb(2),core.Tc(ctx_r3.icon),core.Gb(2),core.Tc(core.nc(5,4,\"List of speakers\")),core.Gb(4),core.tc(\"ngIf\",ctx_r3.listOfSpeakers.waitingSpeakerAmount>0)}}function SpeakerButtonComponent_ng_container_0_ng_container_1_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,SpeakerButtonComponent_ng_container_0_ng_container_1_a_1_Template,5,7,\"a\",2),core.Qc(2,SpeakerButtonComponent_ng_container_0_ng_container_1_button_2_Template,9,6,\"button\",3),core.Wb()),2&rf){const ctx_r1=core.lc(2);core.Gb(1),core.tc(\"ngIf\",!ctx_r1.menuItem),core.Gb(1),core.tc(\"ngIf\",ctx_r1.menuItem)}}function SpeakerButtonComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,SpeakerButtonComponent_ng_container_0_ng_container_1_Template,3,2,\"ng-container\",1),core.Wb()),2&rf){const ctx_r0=core.lc();core.Gb(1),core.tc(\"ngIf\",ctx_r0.listOfSpeakers)}}let speaker_button_component_SpeakerButtonComponent=(()=>{class SpeakerButtonComponent{constructor(listOfSpeakersRepo){this.listOfSpeakersRepo=listOfSpeakersRepo,this.menuItem=!1}set object(obj){let listOfSpeakers;listOfSpeakers=Object(base_view_model_with_list_of_speakers.b)(obj)?obj.listOfSpeakers:function(obj){return!!obj&&void 0!==obj.id&&void 0!==obj.collection}(obj)?this.listOfSpeakersRepo.findByContentObject(obj):null,this.cleanLosSub(),listOfSpeakers&&(this.losSub=this.listOfSpeakersRepo.getViewModelObservable(listOfSpeakers.id).pipe(Object(distinctUntilChanged.a)()).subscribe(speakerObj=>{this.listOfSpeakers=speakerObj}))}get listOfSpeakersUrl(){if(!this.disabled)return this.listOfSpeakers.listOfSpeakersUrl}get icon(){return this.listOfSpeakers.closed?\"voice_over_off\":\"record_voice_over\"}get tooltip(){return this.listOfSpeakers.closed?\"The list of speakers is closed.\":\"List of speakers\"}ngOnDestroy(){this.cleanLosSub()}cleanLosSub(){this.losSub&&(this.losSub.unsubscribe(),this.losSub=null)}}return SpeakerButtonComponent.ɵfac=function(t){return new(t||SpeakerButtonComponent)(core.Tb(list_of_speakers_repository_service.a))},SpeakerButtonComponent.ɵcmp=core.Nb({type:SpeakerButtonComponent,selectors:[[\"os-speaker-button\"]],inputs:{object:\"object\",disabled:\"disabled\",menuItem:\"menuItem\"},decls:1,vars:1,consts:[[4,\"osPerms\"],[4,\"ngIf\"],[\"class\",\"anchor-button\",3,\"routerLink\",4,\"ngIf\"],[\"type\",\"button\",\"mat-menu-item\",\"\",3,\"routerLink\",4,\"ngIf\"],[1,\"anchor-button\",3,\"routerLink\"],[\"type\",\"button\",\"mat-icon-button\",\"\",3,\"disabled\",\"matTooltip\"],[\"matBadgeColor\",\"accent\",3,\"matBadge\"],[\"type\",\"button\",\"mat-menu-item\",\"\",3,\"routerLink\"],[\"disableRipple\",\"\",\"class\",\"lightblue\",4,\"ngIf\"],[\"disableRipple\",\"\",1,\"lightblue\"]],template:function(rf,ctx){1&rf&&core.Qc(0,SpeakerButtonComponent_ng_container_0_Template,2,1,\"ng-container\",0),2&rf&&core.tc(\"osPerms\",\"agenda.can_see_list_of_speakers\")},directives:[perms_directive.a,common.t,router.i,fesm2015_button.b,tooltip.c,icon.a,badge.a,menu.c,router.g,chips.a],pipes:[ngx_translate_core.j],styles:[\".mat-basic-chip .mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\"],encapsulation:2}),SpeakerButtonComponent})()}}]);","extractedComments":[]}