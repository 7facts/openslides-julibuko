function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=_superPropBase(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[26,36],{"1Cmi":function(t,e,n){"use strict";n.r(e),n.d(e,"ProjectorModule",(function(){return Be}));var o,r,c,i,a=n("ofXK"),s=n("tyNb"),l=n("OwvW"),u=n("mrSG"),b=n("5+WD"),p=n("PqYM"),d=n("+WZz"),m=n("KXMp"),f=n("L/zN"),g=n("3moa"),h=n("2aHC"),v=n("F48D"),j=n("v/c4"),k=n("P5St"),Y=n("Izkr"),Z=n("mV3u"),w=n("0QsF"),S=n("3Pt+"),C=n("0IaG"),y=n("+KbT"),_=n("fXoL"),T=n("jhN1"),x=n("dNgK"),G=n("sYmb"),P=n("kmnG"),O=n("qFsG"),I=n("IZUe"),M=n("bTqV"),R=((o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i,a,s){var l;return _classCallCheck(this,n),(l=e.call(this,t,c,o)).formBuilder=i,l.durationService=a,l.data=s,l.defaultTime=r.instant("projector_default_countdown"),l}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this.data.duration||this.durationService.durationToString(this.defaultTime,"m"),e=this.data.title||"".concat(this.translate.instant("Countdown")," ").concat(this.data.count+1);this.countdownForm=this.formBuilder.group({title:[e,S.G.required],description:[this.data.description],duration:[t,S.G.required]})}}]),n}(Z.a)).\u0275fac=function(t){return new(t||o)(_.Tb(T.d),_.Tb(x.a),_.Tb(y.a),_.Tb(G.k),_.Tb(S.f),_.Tb(h.a),_.Tb(C.a))},o.\u0275cmp=_.Nb({type:o,selectors:[["os-countdown-dialog"]],features:[_.Db],decls:24,vars:22,consts:[["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content",""],["matInput","","osAutofocus","","formControlName","title","required","",3,"placeholder"],["matInput","","formControlName","description",3,"placeholder"],["matInput","","formControlName","duration","required","",3,"placeholder"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close","disabled"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(_.Zb(0,"h1",0),_.Zb(1,"span"),_.Sc(2),_.mc(3,"translate"),_.Yb(),_.Yb(),_.Zb(4,"form",1),_.Zb(5,"div",2),_.Zb(6,"mat-form-field"),_.Ub(7,"input",3),_.mc(8,"translate"),_.Yb(),_.Zb(9,"mat-form-field"),_.Ub(10,"input",4),_.mc(11,"translate"),_.Yb(),_.Zb(12,"mat-form-field"),_.Ub(13,"input",5),_.mc(14,"translate"),_.Yb(),_.Yb(),_.Zb(15,"div",6),_.Zb(16,"button",7),_.Zb(17,"span"),_.Sc(18),_.mc(19,"translate"),_.Yb(),_.Yb(),_.Zb(20,"button",8),_.Zb(21,"span"),_.Sc(22),_.mc(23,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Yb()),2&t&&(_.Gb(2),_.Tc(_.nc(3,10,"Countdown")),_.Gb(2),_.tc("formGroup",e.countdownForm),_.Gb(3),_.uc("placeholder",_.nc(8,12,"Countdown title")),_.Gb(3),_.uc("placeholder",_.nc(11,14,"Countdown description")),_.Gb(3),_.uc("placeholder",_.nc(14,16,"Countdown time")),_.Gb(3),_.tc("mat-dialog-close",e.countdownForm.value)("disabled",!e.countdownForm.valid),_.Gb(2),_.Tc(_.nc(19,18,"Save")),_.Gb(2),_.tc("mat-dialog-close",null),_.Gb(2),_.Tc(_.nc(23,20,"Cancel")))},directives:[C.i,S.I,S.t,S.k,C.f,P.c,O.b,S.c,I.a,S.s,S.i,S.D,C.c,M.b,C.d],pipes:[G.j],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),o),E=n("kYDr"),D=((r=function(){function t(e){_classCallCheck(this,t),this.projectorService=e}return _createClass(t,[{key:"getCurrentSpeakerChyronProjectorElement",value:function(){return{name:"agenda/current-speaker-chyron",stable:!0,getIdentifiers:function(){return["name"]}}}},{key:"isProjectedOn",value:function(t){return this.projectorService.isProjectedOn(this.getCurrentSpeakerChyronProjectorElement(),t.projector)}},{key:"toggleOn",value:function(t){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isProjectedOn(t)){e.next=5;break}return e.next=3,this.projectorService.removeFrom(t.projector,this.getCurrentSpeakerChyronProjectorElement());case 3:e.next=7;break;case 5:return e.next=7,this.projectorService.projectOn(t.projector,this.getCurrentSpeakerChyronProjectorElement());case 7:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(t){return new(t||r)(_.dc(d.a))},r.\u0275prov=_.Pb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),F=n("fB2i"),Q=((c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i){var a;return _classCallCheck(this,n),(a=e.call(this,t,r,o)).formBuilder=c,a.data=i,a}return _createClass(n,[{key:"ngOnInit",value:function(){this.messageForm=this.formBuilder.group({text:[this.data.text,S.G.required]})}}]),n}(Z.a)).\u0275fac=function(t){return new(t||c)(_.Tb(T.d),_.Tb(x.a),_.Tb(G.k),_.Tb(S.f),_.Tb(C.a))},c.\u0275cmp=_.Nb({type:c,selectors:[["os-message-dialog"]],features:[_.Db],decls:16,vars:14,consts:[["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content",""],["formControlName","text",3,"init"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close","disabled"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(_.Zb(0,"h1",0),_.Zb(1,"span"),_.Sc(2),_.mc(3,"translate"),_.Yb(),_.Yb(),_.Zb(4,"form",1),_.Zb(5,"div",2),_.Ub(6,"editor",3),_.Yb(),_.Zb(7,"div",4),_.Zb(8,"button",5),_.Zb(9,"span"),_.Sc(10),_.mc(11,"translate"),_.Yb(),_.Yb(),_.Zb(12,"button",6),_.Zb(13,"span"),_.Sc(14),_.mc(15,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Yb()),2&t&&(_.Gb(2),_.Tc(_.nc(3,8,"Message")),_.Gb(2),_.tc("formGroup",e.messageForm),_.Gb(2),_.tc("init",e.tinyMceSettings),_.Gb(2),_.tc("mat-dialog-close",e.messageForm.value)("disabled",!e.messageForm.valid),_.Gb(2),_.Tc(_.nc(11,10,"Save")),_.Gb(2),_.tc("mat-dialog-close",null),_.Gb(2),_.Tc(_.nc(15,12,"Cancel")))},directives:[C.i,S.I,S.t,S.k,C.f,F.a,S.s,S.i,C.c,M.b,C.d],pipes:[G.j],styles:[""]}),c),N=n("3UWI"),z=n("/Sqw"),L=n("PAIG"),B=n("GIVM"),q=((i=function(){function t(e){_classCallCheck(this,t),this.projectorService=e}return _createClass(t,[{key:"getClockProjectorElement",value:function(){return{name:"core/clock",stable:!0,getIdentifiers:function(){return["name"]}}}},{key:"isProjectedOn",value:function(t){return this.projectorService.isProjectedOn(this.getClockProjectorElement(),t.projector)}},{key:"setProjectedOn",value:function(t,e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=this.isProjectedOn(t),!e||o){n.next=6;break}return n.next=4,this.projectorService.projectOn(t.projector,this.getClockProjectorElement());case 4:n.next=10;break;case 6:if(n.t0=!e&&o,!n.t0){n.next=10;break}return n.next=10,this.projectorService.removeFrom(t.projector,this.getClockProjectorElement());case 10:case"end":return n.stop()}}),n,this)})))}}]),t}()).\u0275fac=function(t){return new(t||i)(_.dc(d.a))},i.\u0275prov=_.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i);n("Ri39");var A=n("f0Cb"),U=n("QibW"),H=n("5RNC"),V=n("bSwM"),$=n("d3UM"),W=n("FKr1"),X=n("Qu3c"),K=n("NFeN"),J=["preview"];function tt(t,e){1&t&&(_.Zb(0,"mat-hint"),_.Zb(1,"span"),_.Sc(2),_.mc(3,"translate"),_.Yb(),_.Yb()),2&t&&(_.Gb(2),_.Tc(_.nc(3,1,"Required")))}function et(t,e){if(1&t){var n=_.ac();_.Zb(0,"mat-radio-button",29),_.hc("change",(function(){return _.Ic(n),_.lc(2).onCustomAspectRatio(!1)})),_.Sc(1),_.Yb()}if(2&t){var o=e.$implicit;_.tc("value",o),_.Gb(1),_.Uc(" ",o," ")}}function nt(t,e){if(1&t){var n=_.ac();_.Zb(0,"mat-form-field"),_.Zb(1,"input",30),_.hc("change",(function(){return _.Ic(n),_.lc(2).setCustomAspectRatio()})),_.mc(2,"translate"),_.Yb(),_.Yb()}if(2&t){var o=_.lc(2);_.Gb(1),_.uc("placeholder",_.nc(2,2,"Custom aspect ratio")),_.tc("value",o.previewProjector.aspectRatio)}}function ot(t,e){if(1&t&&(_.Zb(0,"mat-option",31),_.Sc(1),_.mc(2,"translate"),_.Yb()),2&t){var n=e.$implicit;_.tc("value",n.id),_.Gb(1),_.Uc(" ",_.nc(2,2,n.getTitle())," ")}}function rt(t,e){if(1&t){var n=_.ac();_.Zb(0,"div",32),_.Zb(1,"div",33),_.Zb(2,"mat-form-field",34),_.Zb(3,"span"),_.Sc(4),_.mc(5,"translate"),_.Yb(),_.Ub(6,"input",35),_.Yb(),_.Yb(),_.Zb(7,"div",18),_.Zb(8,"button",36),_.hc("click",(function(){_.Ic(n);var t=e.form;return _.lc(2).resetField(t)})),_.mc(9,"translate"),_.Zb(10,"mat-icon"),_.Sc(11,"replay"),_.Yb(),_.Yb(),_.Yb(),_.Yb()}if(2&t){var o=e.title,r=e.form;_.Gb(4),_.Tc(_.nc(5,3,o)),_.Gb(2),_.tc("formControlName",r),_.Gb(2),_.uc("matTooltip",_.nc(9,5,"Reset"))}}function ct(t,e){}function it(t,e){}function at(t,e){}function st(t,e){}function lt(t,e){}function ut(t,e){}function bt(t,e){}var pt=function(){return{title:"Foreground color",form:"color"}},dt=function(){return{title:"Background color",form:"background_color"}},mt=function(){return{title:"Header background color",form:"header_background_color"}},ft=function(){return{title:"Header font color",form:"header_font_color"}},gt=function(){return{title:"Headline color",form:"header_h1_color"}},ht=function(){return{title:"Chyron background color",form:"chyron_background_color"}},vt=function(){return{title:"Chyron font color",form:"chyron_font_color"}};function jt(t,e){if(1&t){var n=_.ac();_.Zb(0,"div",10),_.Zb(1,"mat-form-field"),_.Ub(2,"input",11),_.mc(3,"translate"),_.Qc(4,tt,4,3,"mat-hint",12),_.Yb(),_.Zb(5,"h3"),_.Sc(6),_.mc(7,"translate"),_.Yb(),_.Zb(8,"div"),_.Zb(9,"mat-radio-group",13),_.Qc(10,et,2,2,"mat-radio-button",14),_.Zb(11,"mat-radio-button",15),_.hc("change",(function(){return _.Ic(n),_.lc().onCustomAspectRatio(!0)})),_.Sc(12),_.mc(13,"translate"),_.Yb(),_.Qc(14,nt,3,4,"mat-form-field",12),_.Yb(),_.Yb(),_.Zb(15,"div",16),_.Ub(16,"mat-slider",17),_.Zb(17,"div",18),_.Zb(18,"mat-form-field"),_.Ub(19,"input",19),_.Yb(),_.Yb(),_.Yb(),_.Zb(20,"div"),_.Zb(21,"div"),_.Zb(22,"mat-checkbox",20),_.Zb(23,"span"),_.Sc(24),_.mc(25,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Zb(26,"div"),_.Zb(27,"mat-checkbox",21),_.Zb(28,"span"),_.Sc(29),_.mc(30,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Zb(31,"div"),_.Zb(32,"mat-checkbox",22),_.Zb(33,"span"),_.Sc(34),_.mc(35,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Zb(36,"div"),_.Zb(37,"mat-checkbox",23),_.Zb(38,"span"),_.Sc(39),_.mc(40,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Yb(),_.Zb(41,"h3"),_.Sc(42),_.mc(43,"translate"),_.Yb(),_.Zb(44,"mat-select",24),_.mc(45,"translate"),_.Qc(46,ot,3,4,"mat-option",25),_.Yb(),_.Zb(47,"div",26),_.Qc(48,rt,12,7,"ng-template",null,27,_.Rc),_.Qc(50,ct,0,0,"ng-template",28),_.Qc(51,it,0,0,"ng-template",28),_.Qc(52,at,0,0,"ng-template",28),_.Qc(53,st,0,0,"ng-template",28),_.Qc(54,lt,0,0,"ng-template",28),_.Qc(55,ut,0,0,"ng-template",28),_.Qc(56,bt,0,0,"ng-template",28),_.Yb(),_.Yb()}if(2&t){var o=_.Ec(49),r=_.lc();_.Gb(2),_.uc("placeholder",_.nc(3,37,"Name")),_.Gb(2),_.tc("ngIf",!r.updateForm.controls.name.valid),_.Gb(2),_.Tc(_.nc(7,39,"Resolution and size")),_.Gb(4),_.tc("ngForOf",r.defaultAspectRatio),_.Gb(2),_.Uc(" ",_.nc(13,41,"custom")," "),_.Gb(2),_.tc("ngIf",r.customAspectRatio),_.Gb(2),_.tc("thumbLabel",!0)("min",r.minWidth)("max",r.maxResolution)("step",r.resolutionChangeStep)("value",r.updateForm.value.width),_.Gb(3),_.tc("min",r.minWidth)("max",r.maxResolution)("step",r.resolutionChangeStep)("value",r.updateForm.value.width),_.Gb(5),_.Tc(_.nc(25,43,"Show header and footer")),_.Gb(5),_.Tc(_.nc(30,45,"Show title")),_.Gb(5),_.Tc(_.nc(35,47,"Show logo")),_.Gb(5),_.Tc(_.nc(40,49,"Show clock")),_.Gb(3),_.Tc(_.nc(43,51,"Projection defaults")),_.Gb(2),_.uc("placeholder",_.nc(45,53,"Projection defaults")),_.tc("multiple",!0),_.Gb(2),_.tc("ngForOf",r.projectionDefaults),_.Gb(4),_.tc("ngTemplateOutlet",o)("ngTemplateOutletContext",_.yc(55,pt)),_.Gb(1),_.tc("ngTemplateOutlet",o)("ngTemplateOutletContext",_.yc(56,dt)),_.Gb(1),_.tc("ngTemplateOutlet",o)("ngTemplateOutletContext",_.yc(57,mt)),_.Gb(1),_.tc("ngTemplateOutlet",o)("ngTemplateOutletContext",_.yc(58,ft)),_.Gb(1),_.tc("ngTemplateOutlet",o)("ngTemplateOutletContext",_.yc(59,gt)),_.Gb(1),_.tc("ngTemplateOutlet",o)("ngTemplateOutletContext",_.yc(60,ht)),_.Gb(1),_.tc("ngTemplateOutlet",o)("ngTemplateOutletContext",_.yc(61,vt))}}function kt(t,e){if(1&t&&_.Ub(0,"os-projector",37,38),2&t){var n=_.lc();_.tc("projector",n.previewProjector)}}var Yt,Zt=((Yt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i,a,s,l,u,b){var p;return _classCallCheck(this,n),(p=e.call(this,t,o,r)).projector=i,p.dialogRef=a,p.repo=s,p.projectionDefaultRepo=l,p.clockSlideService=u,p.cd=b,p.defaultAspectRatio=["4:3","16:9","16:10"],p.maxResolution=2e3,p.minWidth=800,p.resolutionChangeStep=10,p.aspectRatioRe=RegExp("[1-9]+[0-9]*:[1-9]+[0-9]*"),i&&(p.previewProjector=new B.a(i.getModel()),p.defaultAspectRatio.some((function(t){return t===p.previewProjector.aspectRatio}))||(p.customAspectRatio=!0)),p.updateForm=c.group({name:["",S.G.required],aspectRatio:["",[S.G.required,S.G.pattern(p.aspectRatioRe)]],width:[0,S.G.required],projectiondefaults_id:[[]],clock:[],color:["",S.G.required],background_color:["",S.G.required],header_background_color:["",S.G.required],header_font_color:["",S.G.required],header_h1_color:["",S.G.required],chyron_background_color:["",S.G.required],chyron_font_color:["",S.G.required],show_header_footer:[],show_title:[],show_logo:[]}),p.subscriptions.push(p.updateForm.valueChanges.pipe(Object(N.a)(100)).subscribe((function(){p.onChangeForm()}))),p}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.projectionDefaults=this.projectionDefaultRepo.getViewModelList(),this.subscriptions.push(this.projectionDefaultRepo.getViewModelListObservable().subscribe((function(e){return t.projectionDefaults=e}))),this.projector&&(this.updateForm.patchValue(this.projector.projector),this.updateForm.patchValue({name:this.translate.instant(this.projector.name),clock:this.clockSlideService.isProjectedOn(this.projector),aspectRatio:this.projector.aspectRatio}))}},{key:"onSubmitProjector",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.applyChanges();case 2:this.dialogRef.close(!0);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"applyChanges",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new B.a,Object.assign(e,this.updateForm.value),t.prev=2,t.next=5,this.clockSlideService.setProjectedOn(this.projector,this.updateForm.value.clock);case 5:return t.next=7,this.repo.update(e,this.projector);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.raiseError(t.t0);case 12:case"end":return t.stop()}}),t,this,[[2,9]])})))}},{key:"onChangeForm",value:function(){this.previewProjector&&this.projector&&this.updateForm.valid&&(Object.assign(this.previewProjector,this.updateForm.value),this.preview.setProjector(this.previewProjector),this.cd.markForCheck())}},{key:"resetField",value:function(t){var e={};e[t]=this.projector[t],this.updateForm.patchValue(e)}},{key:"onCustomAspectRatio",value:function(t){this.customAspectRatio=t}},{key:"setCustomAspectRatio",value:function(){var t=this.updateForm.get("aspectRatio").value.match(this.aspectRatioRe);if(t&&t[0]){var e=t[0];this.updateForm.get("aspectRatio").setValue(e)}}}]),n}(Z.a)).\u0275fac=function(t){return new(t||Yt)(_.Tb(T.d),_.Tb(G.k),_.Tb(x.a),_.Tb(S.f),_.Tb(C.a),_.Tb(C.h),_.Tb(g.a),_.Tb(z.a),_.Tb(q),_.Tb(_.h))},Yt.\u0275cmp=_.Nb({type:Yt,selectors:[["os-projector-edit-dialog"]],viewQuery:function(t,e){var n;1&t&&_.Zc(J,!0),2&t&&_.Dc(n=_.ic())&&(e.preview=n.first)},features:[_.Db],decls:27,vars:19,consts:[["mat-dialog-title",""],[1,"settings-grid"],[3,"formGroup","ngSubmit"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","",3,"click"],[1,"preview-container"],[3,"projector",4,"ngIf"],["mat-dialog-content",""],["formControlName","name","matInput","","required","",3,"placeholder"],[4,"ngIf"],["formControlName","aspectRatio","name","aspectRatio"],[3,"value","change",4,"ngFor","ngForOf"],[3,"change"],[1,"spacer-top-20","grid-form"],["formControlName","width",1,"grid-start",3,"thumbLabel","min","max","step","value"],[1,"grid-end"],["matInput","","type","number","formControlName","width",3,"min","max","step","value"],["formControlName","show_header_footer"],["formControlName","show_title"],["formControlName","show_logo"],["formControlName","clock"],["formControlName","projectiondefaults_id",3,"placeholder","multiple"],[3,"value",4,"ngFor","ngForOf"],[1,"spacer-top-10"],["colorFormField",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"value","change"],["matInput","","type","text","formControlName","aspectRatio",3,"value","placeholder","change"],[3,"value"],[1,"grid-form"],[1,"grid-start"],[1,"color-picker-form"],["matInput","","type","color",3,"formControlName"],["type","button","mat-icon-button","",3,"matTooltip","click"],[3,"projector"],["preview",""]],template:function(t,e){1&t&&(_.Zb(0,"h1",0),_.Zb(1,"span"),_.Sc(2),_.mc(3,"translate"),_.Yb(),_.Yb(),_.Zb(4,"div",1),_.Zb(5,"form",2),_.hc("ngSubmit",(function(){return e.onSubmitProjector()})),_.Qc(6,jt,57,62,"div",3),_.Zb(7,"div",4),_.Ub(8,"mat-divider"),_.Zb(9,"button",5),_.Zb(10,"span"),_.Sc(11),_.mc(12,"translate"),_.Yb(),_.Yb(),_.Zb(13,"button",6),_.Zb(14,"span"),_.Sc(15),_.mc(16,"translate"),_.Yb(),_.Yb(),_.Zb(17,"button",7),_.hc("click",(function(){return e.applyChanges()})),_.Zb(18,"span"),_.Sc(19),_.mc(20,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Yb(),_.Zb(21,"div"),_.Zb(22,"h3"),_.Sc(23),_.mc(24,"translate"),_.Yb(),_.Zb(25,"div",8),_.Qc(26,kt,2,1,"os-projector",9),_.Yb(),_.Yb(),_.Yb()),2&t&&(_.Gb(2),_.Tc(_.nc(3,9,"Edit projector")),_.Gb(3),_.tc("formGroup",e.updateForm),_.Gb(1),_.tc("ngIf",e.projector),_.Gb(5),_.Tc(_.nc(12,11,"Save")),_.Gb(2),_.tc("mat-dialog-close",null),_.Gb(2),_.Tc(_.nc(16,13,"Cancel")),_.Gb(4),_.Tc(_.nc(20,15,"Apply")),_.Gb(4),_.Tc(_.nc(24,17,"Preview")),_.Gb(3),_.tc("ngIf",e.previewProjector))},directives:[C.i,S.I,S.t,S.k,a.t,C.c,A.a,M.b,C.d,C.f,P.c,S.c,O.b,S.s,S.i,S.D,U.b,a.s,U.a,H.a,S.y,V.a,$.a,a.A,P.f,W.n,X.c,K.a,L.a],pipes:[G.j],styles:["form{overflow:hidden}.settings-grid{display:grid;grid-gap:10px}@media (min-width:960px){.settings-grid{grid-template-columns:40% 60%}}.settings-grid .mat-form-field{width:100%}.grid-form{width:100%;display:grid;grid-template-columns:auto 50px}.grid-form .grid-start{grid-column-start:1;grid-column-end:1;margin:auto 0;width:100%}.grid-form .grid-end{grid-column-start:2;grid-column-end:2;margin:auto 0}.grid-form .color-picker-form .mat-form-field-wrapper{padding-bottom:0}.grid-form .mat-form-field-underline{display:none}.preview-container{border:1px solid #d3d3d3}.no-markup{color:inherit;text-decoration:inherit}.mat-dialog-actions{display:block}"],encapsulation:2,changeDetection:0}),Yt),wt=n("mksl"),St=n("3Xi6"),Ct=n("STbY"),yt=n("m1Ob"),_t=n("B5uJ"),Tt=n("7EHt"),xt=n("MutI"),Gt=n("SSyl"),Pt=n("smbJ");function Ot(t,e){if(1&t){var n=_.ac();_.Zb(0,"button",3),_.hc("click",(function(){_.Ic(n);var t=_.lc(2).$implicit;return _.lc(2).fullscreen(t)})),_.Zb(1,"mat-icon"),_.Sc(2,"check_box_outline_blank"),_.Yb(),_.Yb()}}function It(t,e){if(1&t){var n=_.ac();_.Zb(0,"button",3),_.hc("click",(function(){_.Ic(n);var t=_.lc(2).$implicit;return _.lc(2).fullscreen(t)})),_.Zb(1,"mat-icon"),_.Sc(2,"check_box"),_.Yb(),_.Yb()}}function Mt(t,e){if(1&t&&(_.Zb(0,"div"),_.Qc(1,Ot,3,0,"button",2),_.Qc(2,It,3,0,"button",2),_.Zb(3,"span"),_.Sc(4),_.mc(5,"translate"),_.Yb(),_.Yb()),2&t){var n=_.lc().$implicit;_.Gb(1),_.tc("ngIf",!n.fullscreen),_.Gb(1),_.tc("ngIf",!!n.fullscreen),_.Gb(2),_.Tc(_.nc(5,3,"fullscreen"))}}function Rt(t,e){if(1&t){var n=_.ac();_.Zb(0,"div"),_.Zb(1,"button",4),_.hc("click",(function(){_.Ic(n);var t=_.lc().$implicit;return _.lc(2).pdfBackward(t)})),_.Zb(2,"mat-icon"),_.Sc(3,"arrow_back"),_.Yb(),_.Yb(),_.Zb(4,"button",4),_.hc("click",(function(){_.Ic(n);var t=_.lc().$implicit;return _.lc(2).pdfForward(t)})),_.Zb(5,"mat-icon"),_.Sc(6,"arrow_forward"),_.Yb(),_.Yb(),_.Zb(7,"span"),_.Sc(8),_.mc(9,"translate"),_.Yb(),_.Sc(10),_.Ub(11,"br"),_.Zb(12,"button",3),_.hc("click",(function(){_.Ic(n);var t=_.lc().$implicit;return _.lc(2).zoom(t,"in")})),_.Zb(13,"mat-icon"),_.Sc(14,"zoom_in"),_.Yb(),_.Yb(),_.Zb(15,"button",3),_.hc("click",(function(){_.Ic(n);var t=_.lc().$implicit;return _.lc(2).zoom(t,"reset")})),_.Zb(16,"mat-icon"),_.Sc(17,"replay"),_.Yb(),_.Yb(),_.Zb(18,"button",3),_.hc("click",(function(){_.Ic(n);var t=_.lc().$implicit;return _.lc(2).zoom(t,"out")})),_.Zb(19,"mat-icon"),_.Sc(20,"zoom_out"),_.Yb(),_.Yb(),_.Yb()}if(2&t){var o=_.lc().$implicit,r=_.lc(2);_.Gb(1),_.tc("disabled",r.getPage(o)<=1),_.Gb(3),_.tc("disabled",r.getPage(o)>=r.getMediafile(o).pages),_.Gb(4),_.Tc(_.nc(9,5,"Page")),_.Gb(2),_.Vc(" ",r.getPage(o),"/",r.getMediafile(o).pages," ")}}function Et(t,e){if(1&t&&(_.Zb(0,"div"),_.Zb(1,"i"),_.Sc(2),_.Yb(),_.Qc(3,Mt,6,5,"div",0),_.Qc(4,Rt,21,7,"div",0),_.Yb()),2&t){var n=e.$implicit,o=_.lc(2);_.Gb(2),_.Tc(o.getMediafile(n).getTitle()),_.Gb(1),_.tc("ngIf",o.getMediafile(n).isImage()),_.Gb(1),_.tc("ngIf",o.getMediafile(n).isPdf())}}function Dt(t,e){if(1&t&&(_.Zb(0,"mat-expansion-panel"),_.Zb(1,"mat-expansion-panel-header"),_.Zb(2,"span"),_.Sc(3),_.mc(4,"translate"),_.Yb(),_.Yb(),_.Qc(5,Et,5,3,"div",1),_.Yb()),2&t){var n=_.lc();_.Gb(3),_.Tc(_.nc(4,2,"Media file")),_.Gb(2),_.tc("ngForOf",n.elements)}}var Ft,Qt=((Ft=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,o,r)).mediafileRepo=c,s.slideManager=i,s.projectorService=a,s.elements=[],s}return _createClass(n,[{key:"updateElements",value:function(){var t=this;this.elements=this.projector.elements.filter((function(e){if(e.name!==Pt.a.COLLECTIONSTRING||!e.id)return!1;var n=t.mediafileRepo.getViewModel(e.id);return!!n&&n.isProjectable()}))}},{key:"getMediafile",value:function(t){return this.mediafileRepo.getViewModel(t.id)}},{key:"getPage",value:function(t){return t.page||1}},{key:"pdfForward",value:function(t){this.getPage(t)<this.getMediafile(t).pages&&this.pdfSetPage(t,this.getPage(t)+1)}},{key:"pdfBackward",value:function(t){this.getPage(t)>1&&this.pdfSetPage(t,this.getPage(t)-1)}},{key:"pdfSetPage",value:function(t,e){this.getMediafile(t).pages>=e&&(t.page=e,this.updateElement(t))}},{key:"zoom",value:function(t,e){"reset"===e?t.zoom=0:"in"===e?t.zoom=(t.zoom||0)+1:"out"===e&&(t.zoom=(t.zoom||0)-1),this.updateElement(t)}},{key:"fullscreen",value:function(t){t.fullscreen=!t.fullscreen,this.updateElement(t)}},{key:"updateElement",value:function(t){var e=this.slideManager.getIdentifiableProjectorElement(t);this.projectorService.updateElement(this.projector.projector,e).catch(this.raiseError)}},{key:"projector",set:function(t){this._projector=t,this.updateElements()},get:function(){return this._projector}}]),n}(Z.a)).\u0275fac=function(t){return new(t||Ft)(_.Tb(T.d),_.Tb(G.k),_.Tb(x.a),_.Tb(Gt.a),_.Tb(w.a),_.Tb(d.a))},Ft.\u0275cmp=_.Nb({type:Ft,selectors:[["os-presentation-control"]],inputs:{projector:"projector"},features:[_.Db],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",3,"click"],["type","button","mat-icon-button","",3,"disabled","click"]],template:function(t,e){1&t&&_.Qc(0,Dt,6,4,"mat-expansion-panel",0),2&t&&_.tc("ngIf",e.elements.length)},directives:[a.t,Tt.c,Tt.g,a.s,M.b,K.a],pipes:[G.j],styles:[""]}),Ft),Nt=n("vYAO"),zt=n("AqIO"),Lt=n("6sZz"),Bt=(n("memo"),n("Wp6s")),qt=n("Tp2j"),At=n("RY0B");function Ut(t,e){if(1&t){var n=_.ac();_.Zb(0,"button",7),_.hc("click",(function(t){return _.Ic(n),_.lc(2).start(t)})),_.Zb(1,"mat-icon"),_.Sc(2,"play_arrow"),_.Yb(),_.Yb()}}function Ht(t,e){if(1&t){var n=_.ac();_.Zb(0,"button",7),_.hc("click",(function(t){return _.Ic(n),_.lc(2).pause(t)})),_.Zb(1,"mat-icon"),_.Sc(2,"pause"),_.Yb(),_.Yb()}}function Vt(t,e){if(1&t){var n=_.ac();_.Zb(0,"mat-card"),_.Zb(1,"div",1),_.Zb(2,"div",2),_.Ub(3,"os-projector-button",3),_.Yb(),_.Zb(4,"div",4),_.Sc(5),_.mc(6,"translate"),_.Yb(),_.Zb(7,"div",5),_.Zb(8,"button",6),_.hc("click",(function(){return _.Ic(n),_.lc().onBringDialog()})),_.mc(9,"translate"),_.Zb(10,"mat-icon"),_.Sc(11," open_in_new "),_.Yb(),_.Yb(),_.Zb(12,"button",7),_.hc("click",(function(){return _.Ic(n),_.lc().onEdit()})),_.Zb(13,"mat-icon"),_.Sc(14," edit "),_.Yb(),_.Yb(),_.Zb(15,"button",7),_.hc("click",(function(){return _.Ic(n),_.lc().onDelete()})),_.Zb(16,"mat-icon"),_.Sc(17," close "),_.Yb(),_.Yb(),_.Yb(),_.Zb(18,"div",8),_.Ub(19,"os-countdown-time",9),_.Zb(20,"div"),_.Zb(21,"button",10),_.hc("click",(function(t){return _.Ic(n),_.lc().stop(t)})),_.Zb(22,"mat-icon"),_.Sc(23,"stop"),_.Yb(),_.Yb(),_.Qc(24,Ut,3,0,"button",11),_.Qc(25,Ht,3,0,"button",11),_.Yb(),_.Yb(),_.Yb(),_.Yb()}if(2&t){var o=_.lc();_.Gb(3),_.tc("object",o.countdown)("projector",o.projector),_.Gb(2),_.Tc(_.nc(6,9,o.countdown.getTitle())),_.Gb(3),_.uc("matTooltip",_.nc(9,11,"Open projection dialog")),_.Gb(11),_.tc("countdown",o.countdown)("warningTime",o.warningTime),_.Gb(2),_.tc("disabled",!o.canStop()),_.Gb(3),_.tc("ngIf",!o.countdown.running),_.Gb(1),_.tc("ngIf",o.countdown.running)}}var $t,Wt=(($t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i,a,s,l){var u;return _classCallCheck(this,n),(u=e.call(this,t,o,r)).repo=c,u.configService=i,u.promptService=a,u.projectionDialogService=s,u.storage=l,u.editEvent=new _.p,u.storageKey="projectorElementOptions",u.configService.get("agenda_countdown_warning_time").subscribe((function(t){return u.warningTime=t})),u}return _createClass(n,[{key:"start",value:function(t){t.stopPropagation(),this.repo.start(this.countdown).catch(this.raiseError)}},{key:"pause",value:function(t){t.stopPropagation(),this.repo.pause(this.countdown).catch(this.raiseError)}},{key:"stop",value:function(t){t.stopPropagation(),this.repo.stop(this.countdown).catch(this.raiseError)}},{key:"canStop",value:function(){return this.countdown.running||this.countdown.countdown_time!==this.countdown.default_time}},{key:"onEdit",value:function(){this.editEvent.next(this.countdown)}},{key:"onBringDialog",value:function(){var t=this;this.projectionDialogService.openProjectDialogFor(this.countdown).then((function(e){return t.storeSettings(e)}),null)}},{key:"onDelete",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Delete countdown")+" ".concat(this.translate.instant(this.countdown.title),"?"),t.next=3,this.promptService.open("Are you sure?",e);case 3:if(t.t0=t.sent,!t.t0){t.next=6;break}this.repo.delete(this.countdown).then((function(){}),this.raiseError);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"storeSettings",value:function(t){this.storage.set(this.storageKey,t)}}]),n}(Z.a)).\u0275fac=function(t){return new(t||$t)(_.Tb(T.d),_.Tb(G.k),_.Tb(x.a),_.Tb(m.a),_.Tb(y.a),_.Tb(v.a),_.Tb(Lt.a),_.Tb(zt.a))},$t.\u0275cmp=_.Nb({type:$t,selectors:[["os-countdown-controls"]],inputs:{countdown:"countdown",projector:"projector"},outputs:{editEvent:"editEvent"},features:[_.Db],decls:1,vars:1,consts:[[4,"ngIf"],[1,"grid-wrapper"],[1,"projector-button"],[3,"object","projector"],[1,"title"],[1,"action-buttons"],["type","button","mat-icon-button","",1,"small-mat-icon-button",3,"matTooltip","click"],["type","button","mat-icon-button","",1,"small-mat-icon-button",3,"click"],[1,"timer"],[1,"larger-countdown",3,"countdown","warningTime"],["type","button","mat-icon-button","",1,"small-mat-icon-button",3,"disabled","click"],["type","button","class","small-mat-icon-button","mat-icon-button","",3,"click",4,"ngIf"]],template:function(t,e){1&t&&_.Qc(0,Vt,26,13,"mat-card",0),2&t&&_.tc("ngIf",e.countdown)},directives:[a.t,Bt.a,qt.a,M.b,X.c,K.a,At.a],pipes:[G.j],styles:['.small-mat-icon-button[_ngcontent-%COMP%]{margin:0 5px;position:relative;width:20px;height:20px}.small-mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;left:0;top:0;line-height:normal;width:20px;height:20px}.small-mat-icon-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.grid-wrapper[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-areas:"project title buttons" "project controls controls";grid-gap:10px;grid-template-columns:-webkit-min-content auto -webkit-min-content;grid-template-columns:min-content auto min-content}.projector-button[_ngcontent-%COMP%]{grid-area:project;margin:auto 10px auto 0}.title[_ngcontent-%COMP%]{grid-area:title;padding:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.action-buttons[_ngcontent-%COMP%]{grid-area:buttons;text-align:right}.action-buttons[_ngcontent-%COMP%], .timer[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.timer[_ngcontent-%COMP%]{grid-area:controls}.larger-countdown[_ngcontent-%COMP%]{font-size:150%;min-width:60px}']}),$t);function Xt(t,e){if(1&t){var n=_.ac();_.Zb(0,"mat-card"),_.Zb(1,"div",1),_.Zb(2,"div",2),_.Ub(3,"os-projector-button",3),_.Yb(),_.Zb(4,"div",4),_.Zb(5,"button",5),_.hc("click",(function(){return _.Ic(n),_.lc().onBringDialog()})),_.mc(6,"translate"),_.Zb(7,"mat-icon"),_.Sc(8," open_in_new "),_.Yb(),_.Yb(),_.Zb(9,"button",6),_.hc("click",(function(){return _.Ic(n),_.lc().onEdit()})),_.Zb(10,"mat-icon"),_.Sc(11," edit "),_.Yb(),_.Yb(),_.Zb(12,"button",6),_.hc("click",(function(){return _.Ic(n),_.lc().onDelete()})),_.Zb(13,"mat-icon"),_.Sc(14," close "),_.Yb(),_.Yb(),_.Yb(),_.Ub(15,"div",7),_.Yb(),_.Yb()}if(2&t){var o=_.lc();_.Gb(3),_.tc("object",o.message)("projector",o.projector),_.Gb(2),_.uc("matTooltip",_.nc(6,4,"Open projection dialog")),_.Gb(10),_.tc("innerHTML",o.message.getPreview(100),_.Jc)}}n("Of+n");var Kt,Jt=((Kt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r,o)).translate=r,s.repo=c,s.promptService=i,s.projectionDialogService=a,s.editEvent=new _.p,s}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"onEdit",value:function(){this.editEvent.next(this.message)}},{key:"onBringDialog",value:function(){this.projectionDialogService.openProjectDialogFor(this.message)}},{key:"onDelete",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Delete message")+" ".concat(this.translate.instant(this.message.getTitle()),"?"),t.next=3,this.promptService.open("Are you sure?",e);case 3:if(t.t0=t.sent,!t.t0){t.next=6;break}this.repo.delete(this.message).then((function(){}),this.raiseError);case 6:case"end":return t.stop()}}),t,this)})))}}]),n}(Z.a)).\u0275fac=function(t){return new(t||Kt)(_.Tb(T.d),_.Tb(x.a),_.Tb(G.k),_.Tb(f.a),_.Tb(v.a),_.Tb(Lt.a))},Kt.\u0275cmp=_.Nb({type:Kt,selectors:[["os-message-controls"]],inputs:{message:"message",projector:"projector"},outputs:{editEvent:"editEvent"},features:[_.Db],decls:1,vars:1,consts:[[4,"ngIf"],[1,"grid-wrapper"],[1,"projector-button"],[3,"object","projector"],[1,"action-buttons"],["type","button","mat-icon-button","",1,"small-mat-icon-button",3,"matTooltip","click"],["type","button","mat-icon-button","",1,"small-mat-icon-button",3,"click"],[1,"message",3,"innerHTML"]],template:function(t,e){1&t&&_.Qc(0,Xt,16,6,"mat-card",0),2&t&&_.tc("ngIf",e.message)},directives:[a.t,Bt.a,qt.a,M.b,X.c,K.a],pipes:[G.j],styles:['.small-mat-icon-button[_ngcontent-%COMP%]{margin:0 5px;position:relative;width:20px;height:20px}.small-mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;left:0;top:0;line-height:normal;width:20px;height:20px}.small-mat-icon-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.grid-wrapper[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-areas:"project message buttons" "project message buttons";grid-gap:10px;grid-template-columns:-webkit-min-content auto auto;grid-template-columns:min-content auto auto}.projector-button[_ngcontent-%COMP%]{grid-area:project;margin:auto 10px auto 0}.action-buttons[_ngcontent-%COMP%]{grid-area:buttons;text-align:right}']}),Kt);function te(t,e){if(1&t&&(_.Zb(0,"button",8),_.Zb(1,"mat-icon"),_.Sc(2,"more_vert"),_.Yb(),_.Yb()),2&t){_.lc();var n=_.Ec(8);_.tc("matMenuTriggerFor",n)}}function ee(t,e){1&t&&(_.Zb(0,"mat-icon"),_.Sc(1,"star"),_.Yb())}function ne(t,e){1&t&&(_.Zb(0,"mat-icon"),_.Sc(1,"star_border"),_.Yb())}function oe(t,e){if(1&t){var n=_.ac();_.Zb(0,"button",9),_.hc("click",(function(){return _.Ic(n),_.lc().onSetAsClosRef()})),_.Qc(1,ee,2,0,"mat-icon",7),_.Qc(2,ne,2,0,"mat-icon",7),_.Zb(3,"span"),_.Sc(4),_.mc(5,"translate"),_.Yb(),_.Yb()}if(2&t){var o=_.lc();_.tc("disabled",o.projector.isReferenceProjector),_.Gb(1),_.tc("ngIf",o.projector.isReferenceProjector),_.Gb(1),_.tc("ngIf",!o.projector.isReferenceProjector),_.Gb(2),_.Tc(_.nc(5,4,"Set as reference projector"))}}function re(t,e){if(1&t){var n=_.ac();_.Zb(0,"div",18),_.Zb(1,"button",19),_.hc("click",(function(){_.Ic(n);var t=_.lc(3);return t.scale(t.scrollScaleDirection.Down)})),_.mc(2,"translate"),_.Zb(3,"mat-icon"),_.Sc(4,"zoom_out"),_.Yb(),_.Yb(),_.Zb(5,"button",19),_.hc("click",(function(){_.Ic(n);var t=_.lc(3);return t.scale(t.scrollScaleDirection.Up)})),_.mc(6,"translate"),_.Zb(7,"mat-icon"),_.Sc(8,"zoom_in"),_.Yb(),_.Yb(),_.Zb(9,"button",19),_.hc("click",(function(){_.Ic(n);var t=_.lc(3);return t.scale(t.scrollScaleDirection.Reset)})),_.mc(10,"translate"),_.Zb(11,"mat-icon"),_.Sc(12,"refresh"),_.Yb(),_.Yb(),_.Zb(13,"div",20),_.Sc(14),_.Yb(),_.Zb(15,"button",21),_.hc("click",(function(){_.Ic(n);var t=_.lc(3);return t.scroll(t.scrollScaleDirection.Down,5)})),_.mc(16,"translate"),_.Zb(17,"mat-icon"),_.Sc(18,"arrow_upward"),_.Yb(),_.Yb(),_.Zb(19,"button",22),_.hc("click",(function(){_.Ic(n);var t=_.lc(3);return t.scroll(t.scrollScaleDirection.Down)})),_.mc(20,"translate"),_.Zb(21,"mat-icon"),_.Sc(22,"arrow_drop_up"),_.Yb(),_.Yb(),_.Zb(23,"button",19),_.hc("click",(function(){_.Ic(n);var t=_.lc(3);return t.scroll(t.scrollScaleDirection.Up)})),_.mc(24,"translate"),_.Zb(25,"mat-icon"),_.Sc(26,"arrow_drop_down"),_.Yb(),_.Yb(),_.Zb(27,"button",19),_.hc("click",(function(){_.Ic(n);var t=_.lc(3);return t.scroll(t.scrollScaleDirection.Up,5)})),_.mc(28,"translate"),_.Zb(29,"mat-icon"),_.Sc(30,"arrow_downward"),_.Yb(),_.Yb(),_.Zb(31,"button",19),_.hc("click",(function(){_.Ic(n);var t=_.lc(3);return t.scroll(t.scrollScaleDirection.Reset)})),_.mc(32,"translate"),_.Zb(33,"mat-icon"),_.Sc(34,"refresh"),_.Yb(),_.Yb(),_.Zb(35,"div",20),_.Sc(36),_.Yb(),_.Yb()}if(2&t){var o=_.lc(3);_.Gb(1),_.uc("matTooltip",_.nc(2,14,"Zoom out")),_.Gb(4),_.uc("matTooltip",_.nc(6,16,"Zoom in")),_.Gb(4),_.uc("matTooltip",_.nc(10,18,"Reset")),_.Gb(4),_.tc("ngClass",0!=o.projector.scale?"warn":""),_.Gb(1),_.Tc(o.projector.scale),_.Gb(1),_.uc("matTooltip",_.nc(16,20,"Scroll up (big step)")),_.tc("disabled",o.projector.scroll<=4),_.Gb(4),_.uc("matTooltip",_.nc(20,22,"Scroll up")),_.tc("disabled",o.projector.scroll<=0),_.Gb(4),_.uc("matTooltip",_.nc(24,24,"Scroll down")),_.Gb(4),_.uc("matTooltip",_.nc(28,26,"Scroll down (big step)")),_.Gb(4),_.uc("matTooltip",_.nc(32,28,"Reset")),_.Gb(4),_.tc("ngClass",0!=o.projector.scroll?"warn":""),_.Gb(1),_.Uc(" ",o.projector.scroll," ")}}var ce=function(t){return["/projector",t]};function ie(t,e){if(1&t&&(_.Zb(0,"div",13),_.Zb(1,"a",14),_.Zb(2,"div",15),_.Ub(3,"os-projector",16),_.Yb(),_.Yb(),_.Qc(4,re,37,30,"div",17),_.Yb()),2&t){var n=_.lc(2);_.Gb(1),_.tc("routerLink",_.zc(3,ce,n.projector.id)),_.Gb(2),_.tc("projector",n.projector),_.Gb(1),_.tc("osPerms","core.can_manage_projector")}}function ae(t,e){if(1&t&&(_.Zb(0,"os-icon-container",37),_.Sc(1),_.Yb()),2&t){var n=_.lc().$implicit,o=_.lc(4);_.tc("noWrap",!0),_.Gb(1),_.Uc(" ",o.getSlideSubtitle(n)," ")}}function se(t,e){if(1&t){var n=_.ac();_.Zb(0,"mat-list-item",32),_.Zb(1,"div",33),_.Zb(2,"button",34),_.hc("click",(function(){_.Ic(n);var t=e.$implicit;return _.lc(4).unprojectCurrent(t)})),_.Zb(3,"mat-icon"),_.Sc(4,"videocam"),_.Yb(),_.Yb(),_.Zb(5,"span",35),_.Sc(6),_.Qc(7,ae,2,2,"os-icon-container",36),_.Yb(),_.Zb(8,"button",34),_.hc("click",(function(){_.Ic(n);var t=e.$implicit;return _.lc(4).unprojectCurrent(t)})),_.Zb(9,"mat-icon"),_.Sc(10,"close"),_.Yb(),_.Yb(),_.Yb(),_.Yb()}if(2&t){var o=e.$implicit,r=_.lc(4);_.Gb(6),_.Uc(" ",r.getSlideTitle(o)," "),_.Gb(1),_.tc("ngIf",r.getSlideSubtitle(o))}}function le(t,e){if(1&t&&(_.Zb(0,"div"),_.Zb(1,"mat-list"),_.Qc(2,se,11,2,"mat-list-item",31),_.Yb(),_.Yb()),2&t){var n=_.lc(3);_.Gb(2),_.tc("ngForOf",n.projector.non_stable_elements)}}function ue(t,e){1&t&&(_.Zb(0,"div",49),_.Zb(1,"mat-icon"),_.Sc(2,"drag_indicator"),_.Yb(),_.Yb())}function be(t,e){if(1&t){var n=_.ac();_.Zb(0,"div",50),_.Zb(1,"button",34),_.hc("click",(function(){_.Ic(n);var t=_.lc().index;return _.lc(4).projectNow(t)})),_.Zb(2,"mat-icon"),_.Sc(3,"videocam"),_.Yb(),_.Yb(),_.Yb()}}function pe(t,e){if(1&t&&(_.Zb(0,"os-icon-container",51),_.Sc(1),_.Yb()),2&t){var n=_.lc().$implicit,o=_.lc(4);_.tc("noWrap",!0),_.Gb(1),_.Uc(" ",o.getSlideSubtitle(n)," ")}}function de(t,e){if(1&t){var n=_.ac();_.Zb(0,"div",52),_.Zb(1,"div"),_.Zb(2,"button",34),_.hc("click",(function(){_.Ic(n);var t=_.lc().index;return _.lc(4).removePreviewElement(t)})),_.Zb(3,"mat-icon"),_.Sc(4,"delete"),_.Yb(),_.Yb(),_.Yb(),_.Yb()}}function me(t,e){if(1&t&&(_.Zb(0,"div",42),_.Qc(1,ue,3,0,"div",43),_.Qc(2,be,4,0,"div",44),_.Zb(3,"div",45),_.Zb(4,"span",46),_.Sc(5),_.Yb(),_.Qc(6,pe,2,2,"os-icon-container",47),_.Yb(),_.Qc(7,de,5,0,"div",48),_.Yb()),2&t){var n=e.$implicit,o=_.lc(4);_.Gb(1),_.tc("ngIf",o.editQueue),_.Gb(1),_.tc("ngIf",!o.editQueue),_.Gb(3),_.Tc(o.getSlideTitle(n)),_.Gb(1),_.tc("ngIf",o.getSlideSubtitle(n)),_.Gb(1),_.tc("ngIf",o.editQueue)}}function fe(t,e){if(1&t){var n=_.ac();_.Zb(0,"button",34),_.hc("click",(function(){_.Ic(n);var t=_.lc(4);return t.editQueue=!t.editQueue})),_.Zb(1,"mat-icon"),_.Sc(2,"edit"),_.Yb(),_.Yb()}}function ge(t,e){if(1&t){var n=_.ac();_.Zb(0,"button",34),_.hc("click",(function(){_.Ic(n);var t=_.lc(4);return t.editQueue=!t.editQueue})),_.Zb(1,"mat-icon"),_.Sc(2,"close"),_.Yb(),_.Yb()}}function he(t,e){if(1&t){var n=_.ac();_.Zb(0,"mat-expansion-panel",38),_.Zb(1,"mat-expansion-panel-header"),_.Zb(2,"span"),_.Sc(3),_.mc(4,"translate"),_.Yb(),_.Yb(),_.Zb(5,"div",39),_.hc("cdkDropListDropped",(function(t){return _.Ic(n),_.lc(3).onSortingChange(t)})),_.Qc(6,me,8,5,"div",40),_.Yb(),_.Zb(7,"mat-action-row"),_.Qc(8,fe,3,0,"button",41),_.Qc(9,ge,3,0,"button",41),_.Yb(),_.Yb()}if(2&t){var o=_.lc(3);_.tc("expanded",!0),_.Gb(3),_.Tc(_.nc(4,6,"Queue")),_.Gb(2),_.tc("cdkDropListDisabled",!o.editQueue),_.Gb(1),_.tc("ngForOf",o.projector.elements_preview),_.Gb(2),_.tc("ngIf",!o.editQueue),_.Gb(1),_.tc("ngIf",o.editQueue)}}function ve(t,e){if(1&t){var n=_.ac();_.Zb(0,"mat-list-item",53),_.Zb(1,"os-countdown-controls",54),_.hc("editEvent",(function(t){return _.Ic(n),_.lc(3).openCountdownDialog(t)})),_.Yb(),_.Yb()}if(2&t){var o=e.$implicit,r=_.lc(3);_.Gb(1),_.tc("countdown",o)("projector",r.projector.projector)}}function je(t,e){if(1&t){var n=_.ac();_.Zb(0,"mat-list-item",53),_.Zb(1,"os-message-controls",55),_.hc("editEvent",(function(t){return _.Ic(n),_.lc(3).openMessagesDialog(t)})),_.Yb(),_.Yb()}if(2&t){var o=e.$implicit,r=_.lc(3);_.Gb(1),_.tc("message",o)("projector",r.projector.projector)}}function ke(t,e){if(1&t){var n=_.ac();_.Zb(0,"mat-list"),_.Zb(1,"mat-list-item"),_.Zb(2,"button",29),_.hc("click",(function(){return _.Ic(n),_.lc(3).toggleClos(!1)})),_.Zb(3,"mat-icon"),_.Sc(4,"videocam"),_.Yb(),_.Yb(),_.Zb(5,"span",30),_.Sc(6),_.mc(7,"translate"),_.Yb(),_.Yb(),_.Yb()}if(2&t){var o=_.lc(3);_.Gb(2),_.tc("ngClass",o.isClosProjected(!1)?"projector-active":"projector-inactive"),_.Gb(4),_.Tc(_.nc(7,2,"Slide"))}}function Ye(t,e){if(1&t&&(_.Zb(0,"li"),_.Sc(1),_.Yb()),2&t){var n=e.$implicit,o=_.lc(4);_.Gb(1),_.Vc(" ",o.getSlideTitle(n[0])," ",o.getSlideSubtitle(n[0])," ")}}function Ze(t,e){if(1&t&&(_.Zb(0,"mat-expansion-panel"),_.Zb(1,"mat-expansion-panel-header"),_.Zb(2,"span"),_.Sc(3),_.mc(4,"translate"),_.Yb(),_.Yb(),_.Zb(5,"ol"),_.Qc(6,Ye,2,2,"li",56),_.Yb(),_.Yb()),2&t){var n=_.lc(3);_.Gb(3),_.Tc(_.nc(4,2,"Previous slides")),_.Gb(3),_.tc("ngForOf",n.projector.elements_history)}}function we(t,e){if(1&t){var n=_.ac();_.Zb(0,"div"),_.Zb(1,"div",23),_.Zb(2,"button",24),_.hc("click",(function(){return _.Ic(n),_.lc(2).projectPreviousSlide()})),_.Zb(3,"mat-icon"),_.Sc(4,"arrow_back"),_.Yb(),_.Zb(5,"span"),_.Sc(6),_.mc(7,"translate"),_.Yb(),_.Yb(),_.Zb(8,"button",24),_.hc("click",(function(){return _.Ic(n),_.lc(2).projectNextSlide()})),_.Zb(9,"span"),_.Sc(10),_.mc(11,"translate"),_.Yb(),_.Zb(12,"mat-icon"),_.Sc(13,"arrow_forward"),_.Yb(),_.Yb(),_.Ub(14,"hr"),_.Yb(),_.Zb(15,"div"),_.Qc(16,le,3,1,"div",7),_.Zb(17,"mat-accordion",25),_.Qc(18,he,10,8,"mat-expansion-panel",26),_.Zb(19,"mat-expansion-panel"),_.Zb(20,"mat-expansion-panel-header"),_.Zb(21,"span"),_.Sc(22),_.mc(23,"translate"),_.Yb(),_.Yb(),_.Zb(24,"mat-list"),_.Qc(25,ve,2,2,"mat-list-item",27),_.Yb(),_.Zb(26,"mat-action-row"),_.Zb(27,"button",28),_.hc("click",(function(){return _.Ic(n),_.lc(2).openCountdownDialog()})),_.Zb(28,"mat-icon"),_.Sc(29,"add"),_.Yb(),_.Zb(30,"span"),_.Sc(31),_.mc(32,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Yb(),_.Zb(33,"mat-expansion-panel"),_.Zb(34,"mat-expansion-panel-header"),_.Zb(35,"span"),_.Sc(36),_.mc(37,"translate"),_.Yb(),_.Yb(),_.Zb(38,"mat-list"),_.Qc(39,je,2,2,"mat-list-item",27),_.Yb(),_.Zb(40,"mat-action-row"),_.Zb(41,"button",28),_.hc("click",(function(){return _.Ic(n),_.lc(2).openMessagesDialog()})),_.Zb(42,"mat-icon"),_.Sc(43,"add"),_.Yb(),_.Zb(44,"span"),_.Sc(45),_.mc(46,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Yb(),_.Zb(47,"mat-expansion-panel"),_.Zb(48,"mat-expansion-panel-header"),_.Zb(49,"span"),_.Sc(50),_.mc(51,"translate"),_.Yb(),_.Yb(),_.Qc(52,ke,8,4,"mat-list",7),_.Zb(53,"mat-list"),_.Zb(54,"mat-list-item"),_.Zb(55,"button",29),_.hc("click",(function(){return _.Ic(n),_.lc(2).toggleClos(!0)})),_.Zb(56,"mat-icon"),_.Sc(57,"videocam"),_.Yb(),_.Yb(),_.Zb(58,"span",30),_.Sc(59),_.mc(60,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Zb(61,"mat-list"),_.Zb(62,"mat-list-item"),_.Zb(63,"button",29),_.hc("click",(function(){return _.Ic(n),_.lc(2).toggleChyron()})),_.Zb(64,"mat-icon"),_.Sc(65,"videocam"),_.Yb(),_.Yb(),_.Zb(66,"span",30),_.Sc(67),_.mc(68,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Yb(),_.Qc(69,Ze,7,4,"mat-expansion-panel",7),_.Ub(70,"os-presentation-control",16),_.Yb(),_.Yb(),_.Yb()}if(2&t){var o=_.lc(2);_.Gb(2),_.tc("disabled",0===(null==o.projector?null:o.projector.elements_history.length)),_.Gb(4),_.Tc(_.nc(7,20,"Previous")),_.Gb(2),_.tc("disabled",0===(null==o.projector?null:o.projector.elements_preview.length)),_.Gb(2),_.Tc(_.nc(11,22,"Next")),_.Gb(6),_.tc("ngIf",o.projector.non_stable_elements.length),_.Gb(2),_.tc("ngIf",o.projector.elements_preview.length),_.Gb(4),_.Tc(_.nc(23,24,"Countdowns")),_.Gb(3),_.tc("ngForOf",o.countdowns),_.Gb(6),_.Tc(_.nc(32,26,"Add countdown")),_.Gb(5),_.Tc(_.nc(37,28,"Messages")),_.Gb(3),_.tc("ngForOf",o.messages),_.Gb(6),_.Tc(_.nc(46,30,"Add message")),_.Gb(5),_.Tc(_.nc(51,32,"Current list of speakers")),_.Gb(2),_.tc("ngIf",o.projectorCount>1),_.Gb(3),_.tc("ngClass",o.isClosProjected(!0)?"projector-active":"projector-inactive"),_.Gb(4),_.Tc(_.nc(60,34,"Overlay")),_.Gb(4),_.tc("ngClass",o.isChyronProjected()?"projector-active":"projector-inactive"),_.Gb(4),_.Tc(_.nc(68,36,"Chyron")),_.Gb(2),_.tc("ngIf",o.projector.elements_history.length),_.Gb(1),_.tc("projector",o.projector)}}function Se(t,e){if(1&t&&(_.Zb(0,"os-grid-layout"),_.Zb(1,"os-tile",10),_.Qc(2,ie,5,5,"div",11),_.Yb(),_.Zb(3,"os-tile",10),_.Qc(4,we,71,38,"div",12),_.Yb(),_.Yb()),2&t){var n=_.lc();_.Gb(1),_.tc("preferredSize",n.projectorTileSizeLeft),_.Gb(1),_.tc("ngIf",n.projector),_.Gb(1),_.tc("preferredSize",n.projectorTileSizeRight),_.Gb(1),_.tc("osPerms","core.can_manage_projector")}}var Ce,ye=((Ce=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i,a,s,l,u,b,p,d,m,f,h,v){var j;return _classCallCheck(this,n),(j=e.call(this,t,o,r)).dialog=c,j.repo=i,j.route=a,j.projectorService=s,j.slideManager=l,j.countdownRepo=u,j.messageRepo=b,j.currentListOfSpeakersSlideService=p,j.currentSpeakerChyronService=d,j.durationService=m,j.cd=f,j.promptService=h,j.opertator=v,j.scrollScaleDirection=g.b,j.countdowns=[],j.messages=[],j.projectorTileSizeLeft={medium:8,large:10},j.projectorTileSizeRight={medium:4,large:6},j.editQueue=!1,j.countdownRepo.getViewModelListObservable().subscribe((function(t){return j.countdowns=t})),j.messageRepo.getViewModelListObservable().subscribe((function(t){return j.messages=t})),j.repo.getViewModelListObservable().subscribe((function(t){return j.projectorCount=t.length})),j}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(e){var o=parseInt(e.id,10)||1;t.subscriptions.push(t.repo.getViewModelObservable(o).subscribe((function(e){e&&(_get(_getPrototypeOf(n.prototype),"setTitle",t).call(t,e.name),t.projector=e)})))})),this.subscriptions.push(Object(p.a)(0,500).subscribe((function(){return t.cd.detectChanges()})))}},{key:"editProjector",value:function(){var t=this;this.dialog.open(Zt,Object.assign({data:this.projector},Y.b)).afterClosed().subscribe((function(e){e&&t.cd.detectChanges()}))}},{key:"onSetAsClosRef",value:function(){this.repo.setReferenceProjector(this.projector.id)}},{key:"onDeleteProjectorButton",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to delete this projector?"),t.next=3,this.promptService.open(e,this.projector.name);case 3:if(t.t0=t.sent,!t.t0){t.next=6;break}this.repo.delete(this.projector).catch(this.raiseError);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"canManage",value:function(){return this.opertator.hasPerms(l.b.coreCanManageProjector)}},{key:"scroll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.repo.scroll(this.projector,t,e).catch(this.raiseError)}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.repo.scale(this.projector,t,e).catch(this.raiseError)}},{key:"projectNextSlide",value:function(){this.projectorService.projectNextSlide(this.projector.projector).catch(this.raiseError)}},{key:"projectPreviousSlide",value:function(){this.projectorService.projectPreviousSlide(this.projector.projector).catch(this.raiseError)}},{key:"onSortingChange",value:function(t){Object(b.h)(this.projector.elements_preview,t.previousIndex,t.currentIndex),this.projectorService.savePreview(this.projector.projector).catch(this.raiseError)}},{key:"removePreviewElement",value:function(t){this.projector.elements_preview.splice(t,1),this.projectorService.savePreview(this.projector.projector).catch(this.raiseError)}},{key:"projectNow",value:function(t){this.projectorService.projectPreviewSlide(this.projector.projector,t).catch(this.raiseError)}},{key:"getSlideTitle",value:function(t){return this.projectorService.getSlideTitle(t).title}},{key:"getSlideSubtitle",value:function(t){return this.projectorService.getSlideTitle(t).subtitle}},{key:"isProjected",value:function(t){return this.projectorService.isProjectedOn(t,this.projector.projector)}},{key:"project",value:function(t){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.isProjected(t)){e.next=6;break}return e.next=4,this.projectorService.removeFrom(this.projector.projector,t);case 4:e.next=8;break;case 6:return e.next=8,this.projectorService.projectOn(this.projector.projector,t);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.raiseError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})))}},{key:"unprojectCurrent",value:function(t){var e=this.slideManager.getIdentifiableProjectorElement(t);this.projectorService.removeFrom(this.projector.projector,e).catch(this.raiseError)}},{key:"isClosProjected",value:function(t){return this.currentListOfSpeakersSlideService.isProjectedOn(this.projector,t)}},{key:"toggleClos",value:function(t){this.currentListOfSpeakersSlideService.toggleOn(this.projector,t)}},{key:"isChyronProjected",value:function(){return this.currentSpeakerChyronService.isProjectedOn(this.projector)}},{key:"toggleChyron",value:function(){this.currentSpeakerChyronService.toggleOn(this.projector)}},{key:"openCountdownDialog",value:function(t){var e=this,n={title:"",description:"",duration:"",count:this.countdowns.length};t&&(n={title:t.title,description:t.description,duration:this.durationService.durationToString(t.default_time,"m")}),this.dialog.open(R,Object.assign({data:n},Y.a)).afterClosed().subscribe((function(n){n&&e.submitCountdown(n,t)}))}},{key:"openMessagesDialog",value:function(t){var e=this,n={text:""};t&&(n={text:t.message}),this.dialog.open(Q,Object.assign({data:n},Y.b)).afterClosed().subscribe((function(n){n&&e.submitMessage(n,t)}))}},{key:"submitCountdown",value:function(t,e){var n=this.durationService.stringToDuration(t.duration,"m"),o=new j.a({title:t.title,description:t.description,default_time:n,countdown_time:e&&e.running?null:n});e?this.countdownRepo.update(o,e).then((function(){}),this.raiseError):this.countdownRepo.create(o).then((function(){}),this.raiseError)}},{key:"submitMessage",value:function(t,e){var n=new k.a({message:t.text});e?this.messageRepo.update(n,e).then((function(){}),this.raiseError):this.messageRepo.create(n).then((function(){}),this.raiseError)}}]),n}(Z.a)).\u0275fac=function(t){return new(t||Ce)(_.Tb(T.d),_.Tb(G.k),_.Tb(x.a),_.Tb(C.b),_.Tb(g.a),_.Tb(s.a),_.Tb(d.a),_.Tb(w.a),_.Tb(m.a),_.Tb(f.a),_.Tb(E.a),_.Tb(D),_.Tb(h.a),_.Tb(_.h),_.Tb(v.a),_.Tb(l.a))},Ce.\u0275cmp=_.Nb({type:Ce,selectors:[["os-projector-detail"]],features:[_.Db],decls:17,vars:12,consts:[["mainButtonIcon","edit",3,"nav","hasMainButton","goBack","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor",4,"osPerms"],["projectorExtraMenu","matMenu"],["mat-menu-item","",3,"disabled","click",4,"ngIf"],["mat-menu-item","",1,"red-warning-text",3,"click"],[4,"ngIf"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"disabled","click"],[3,"preferredSize"],["class","projector-detail-wrapper column-left",4,"ngIf"],[4,"osPerms"],[1,"projector-detail-wrapper","column-left"],["target","_blank",3,"routerLink"],["id","projector"],[3,"projector"],["class","control-group projector-controls",4,"osPerms"],[1,"control-group","projector-controls"],["type","button","mat-icon-button","",3,"matTooltip","click"],[1,"button-size",3,"ngClass"],["type","button","mat-icon-button","",1,"spacer-left-50",3,"disabled","matTooltip","click"],["type","button","mat-icon-button","",3,"disabled","matTooltip","click"],[1,"control-group","slide-controls"],["type","button","mat-button","",3,"disabled","click"],["multi","true"],["class","queue",3,"expanded",4,"ngIf"],["class","larger-mat-list-item",4,"ngFor","ngForOf"],["type","button","mat-button","",3,"click"],["type","button","mat-mini-fab","",3,"ngClass","click"],[1,"spacer-left-10"],["class","current-element backgroundColorAccent",4,"ngFor","ngForOf"],[1,"current-element","backgroundColorAccent"],[1,"emelent-grid"],["type","button","mat-icon-button","",3,"click"],[1,"ellipsis-overflow","current-element-text"],["class","subtitle-nocolor","size","small","icon","comment",3,"noWrap",4,"ngIf"],["size","small","icon","comment",1,"subtitle-nocolor",3,"noWrap"],[1,"queue",3,"expanded"],["cdkDropList","",1,"drop-list",3,"cdkDropListDisabled","cdkDropListDropped"],["class","drop-list-entry queue-element backgroundColorLight","cdkDrag","",4,"ngFor","ngForOf"],["type","button","mat-icon-button","",3,"click",4,"ngIf"],["cdkDrag","",1,"drop-list-entry","queue-element","backgroundColorLight"],["class","drag-handle","cdkDragHandle","",4,"ngIf"],["class","drag-handle no-drag",4,"ngIf"],[1,"name"],[1,"ellipsis-overflow"],["class","subtitle","size","small","icon","comment",3,"noWrap",4,"ngIf"],["class","button-right",4,"ngIf"],["cdkDragHandle","",1,"drag-handle"],[1,"drag-handle","no-drag"],["size","small","icon","comment",1,"subtitle",3,"noWrap"],[1,"button-right"],[1,"larger-mat-list-item"],[1,"dynamic-list-entry",3,"countdown","projector","editEvent"],[1,"dynamic-list-entry",3,"message","projector","editEvent"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(_.Zb(0,"os-head-bar",0),_.hc("mainEvent",(function(){return e.editProjector()})),_.Zb(1,"div",1),_.Zb(2,"h2"),_.Sc(3),_.mc(4,"translate"),_.Yb(),_.Yb(),_.Zb(5,"div",2),_.Qc(6,te,3,1,"button",3),_.Yb(),_.Zb(7,"mat-menu",null,4),_.Qc(9,oe,6,6,"button",5),_.Zb(10,"button",6),_.hc("click",(function(){return e.onDeleteProjectorButton()})),_.Zb(11,"mat-icon"),_.Sc(12,"delete"),_.Yb(),_.Zb(13,"span"),_.Sc(14),_.mc(15,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Yb(),_.Qc(16,Se,5,4,"os-grid-layout",7)),2&t&&(_.tc("nav",!1)("hasMainButton",e.canManage())("goBack",!0),_.Gb(3),_.Tc(_.nc(4,8,null==e.projector?null:e.projector.name)),_.Gb(3),_.tc("osPerms","core.can_manage_projector"),_.Gb(3),_.tc("ngIf",e.projector),_.Gb(5),_.Tc(_.nc(15,10,"Delete")),_.Gb(2),_.tc("ngIf",e.projector))},directives:[wt.a,St.a,Ct.f,a.t,Ct.c,K.a,M.b,Ct.e,yt.a,_t.a,s.i,L.a,X.c,a.q,Tt.a,Tt.c,Tt.g,xt.a,a.s,Tt.d,xt.d,Qt,Nt.a,b.e,b.a,b.b,Wt,Jt],pipes:[G.j],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;background-color:#fff;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.projector-detail-wrapper[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]{border:1px solid #d3d3d3}.column-left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}.control-group[_ngcontent-%COMP%]   .button-size[_ngcontent-%COMP%]{padding-left:5px;display:inline-block}.slide-controls[_ngcontent-%COMP%]{text-align:center}.projector-controls[_ngcontent-%COMP%]{text-align:right}.current-element[_ngcontent-%COMP%]{margin-bottom:20px;box-shadow:0 3px 10px 0 rgba(0,0,0,.25)}.current-element[_ngcontent-%COMP%]   .emelent-grid[_ngcontent-%COMP%]{display:grid;width:100%;grid-gap:5px;grid-template-columns:-webkit-min-content 1fr -webkit-min-content;grid-template-columns:min-content 1fr min-content}.current-element[_ngcontent-%COMP%]   .emelent-grid[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{display:inherit}.current-element[_ngcontent-%COMP%]   .emelent-grid[_ngcontent-%COMP%]   .current-element-text[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.queue[_ngcontent-%COMP%]{box-shadow:none!important;background:none!important;margin-bottom:20px}.queue[_ngcontent-%COMP%]   .queue-element[_ngcontent-%COMP%]{margin-bottom:5px}.queue[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 5px 0 0!important;height:36px!important}.queue[_ngcontent-%COMP%]   .mat-action-row[_ngcontent-%COMP%]{border-top-style:none;padding:0}.drop-list[_ngcontent-%COMP%]{width:100%;display:block;overflow:hidden}.drop-list-entry[_ngcontent-%COMP%]{display:table;min-height:50px;width:100%}.drop-list-entry[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{display:table-cell;padding:0 10px;line-height:0;vertical-align:middle;width:25px;color:#708090;cursor:move}.drop-list-entry[_ngcontent-%COMP%]   .drag-handle.no-drag[_ngcontent-%COMP%]{cursor:default}.drop-list-entry[_ngcontent-%COMP%]   .button-right[_ngcontent-%COMP%]{display:table-cell;padding-right:10px;vertical-align:middle;width:auto;white-space:nowrap}.drop-list-entry[_ngcontent-%COMP%]   .button-right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:right}.drop-list-entry[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.drop-list-entry[_ngcontent-%COMP%]:last-child{border:none}.drop-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drop-list-entry[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.larger-mat-list-item[_ngcontent-%COMP%]{height:auto}.larger-mat-list-item[_ngcontent-%COMP%] + .larger-mat-list-item[_ngcontent-%COMP%]{margin-top:15px}.dynamic-list-entry[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),Ce),_e=n("5N+Y");function Te(t,e){1&t&&(_.Zb(0,"mat-icon"),_.Sc(1,"star"),_.Yb())}function xe(t,e){1&t&&(_.Zb(0,"mat-icon"),_.Sc(1,"star_border"),_.Yb())}function Ge(t,e){if(1&t){var n=_.ac();_.Xb(0,8),_.Zb(1,"button",9),_.hc("click",(function(){return _.Ic(n),_.lc(2).onSetAsClosRef()})),_.mc(2,"translate"),_.Qc(3,Te,2,0,"mat-icon",10),_.Qc(4,xe,2,0,"mat-icon",10),_.Yb(),_.Zb(5,"button",9),_.hc("click",(function(){return _.Ic(n),_.lc(2).editProjector()})),_.mc(6,"translate"),_.Zb(7,"mat-icon"),_.Sc(8,"edit"),_.Yb(),_.Yb(),_.Zb(9,"button",11),_.hc("click",(function(){return _.Ic(n),_.lc(2).onDeleteButton()})),_.mc(10,"translate"),_.Zb(11,"mat-icon"),_.Sc(12,"delete"),_.Yb(),_.Yb(),_.Wb()}if(2&t){var o=_.lc(2);_.Gb(1),_.uc("matTooltip",_.nc(2,5,"Sets this projector as the reference for the current list of speakers")),_.Gb(2),_.tc("ngIf",o.projector.isReferenceProjector),_.Gb(1),_.tc("ngIf",!o.projector.isReferenceProjector),_.Gb(1),_.uc("matTooltip",_.nc(6,7,"Edit projector")),_.Gb(4),_.uc("matTooltip",_.nc(10,9,"Delete projector"))}}function Pe(t,e){if(1&t&&(_.Zb(0,"os-meta-text-block",1),_.Xb(1,2),_.Sc(2),_.mc(3,"translate"),_.Wb(),_.Qc(4,Ge,13,11,"ng-container",3),_.Xb(5,4),_.Zb(6,"a",5),_.Zb(7,"div",6),_.Ub(8,"os-projector",7),_.Yb(),_.Yb(),_.Wb(),_.Yb()),2&t){var n=_.lc();_.tc("disableExpandControl",!0),_.Gb(2),_.Uc(" ",_.nc(3,6,n.projector.getTitle())," "),_.Gb(2),_.tc("osPerms","core.can_manage_projector"),_.Gb(2),_.tc("routerLink",n.getDetailLink())("target",n.projectionTarget),_.Gb(2),_.tc("projector",n.projector)}}var Oe,Ie=((Oe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i,a,s){var l;return _classCallCheck(this,n),(l=e.call(this,t,o,r)).translate=o,l.repo=c,l.promptService=i,l.dialogService=a,l.operator=s,l}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"editProjector",value:function(){this.dialogService.open(Zt,Object.assign({data:this.projector},Y.b))}},{key:"onSetAsClosRef",value:function(){this.repo.setReferenceProjector(this.projector.id)}},{key:"getDetailLink",value:function(){return this.operator.hasPerms(l.b.coreCanManageProjector)?"/projectors/detail/"+this.projector.id:"/projector/"+this.projector.id}},{key:"onDeleteButton",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to delete this projector?"),t.next=3,this.promptService.open(e,this.projector.name);case 3:if(t.t0=t.sent,!t.t0){t.next=6;break}this.repo.delete(this.projector).catch(this.raiseError);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"projector",set:function(t){this._projector=t},get:function(){return this._projector}},{key:"projectionTarget",get:function(){return this.operator.hasPerms(l.b.coreCanManageProjector)?"_self":"_blank"}}]),n}(Z.a)).\u0275fac=function(t){return new(t||Oe)(_.Tb(T.d),_.Tb(G.k),_.Tb(x.a),_.Tb(g.a),_.Tb(v.a),_.Tb(C.b),_.Tb(l.a))},Oe.\u0275cmp=_.Nb({type:Oe,selectors:[["os-projector-list-entry"]],inputs:{projector:"projector"},features:[_.Db],decls:1,vars:1,consts:[["class","projector-tile","showActionRow","false",3,"disableExpandControl",4,"ngIf"],["showActionRow","false",1,"projector-tile",3,"disableExpandControl"],[1,"meta-text-block-title"],["class","meta-text-block-action-row",4,"osPerms"],[1,"meta-text-block-content"],[1,"no-markup",3,"routerLink","target"],[1,"projector"],[3,"projector"],[1,"meta-text-block-action-row"],["mat-icon-button","",3,"matTooltip","click"],[4,"ngIf"],["mat-icon-button","","color","warn",3,"matTooltip","click"]],template:function(t,e){1&t&&_.Qc(0,Pe,9,8,"os-meta-text-block",0),2&t&&_.tc("ngIf",e.projector)},directives:[a.t,_e.a,St.a,s.i,L.a,M.b,X.c,K.a],pipes:[G.j],styles:[".projector-tile{height:100%;display:block}.projector-tile>div{height:100%}.projector-tile>div .meta-text-block{margin:0!important;height:100%}.no-markup>div{border:1px solid #d3d3d3}.projector{color:#000}"],encapsulation:2}),Oe);function Me(t,e){1&t&&(_.Zb(0,"mat-hint"),_.Zb(1,"span"),_.Sc(2),_.mc(3,"translate"),_.Yb(),_.Yb()),2&t&&(_.Gb(2),_.Tc(_.nc(3,1,"Required")))}function Re(t,e){if(1&t&&(_.Zb(0,"h1",5),_.Zb(1,"span"),_.Sc(2),_.mc(3,"translate"),_.Yb(),_.Yb(),_.Zb(4,"form",6),_.Zb(5,"div",7),_.Zb(6,"mat-form-field"),_.Ub(7,"input",8),_.mc(8,"translate"),_.Qc(9,Me,4,3,"mat-hint",9),_.Yb(),_.Yb(),_.Zb(10,"div",10),_.Zb(11,"button",11),_.Zb(12,"span"),_.Sc(13),_.mc(14,"translate"),_.Yb(),_.Yb(),_.Zb(15,"button",12),_.Zb(16,"span"),_.Sc(17),_.mc(18,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Yb()),2&t){var n=_.lc();_.Gb(2),_.Tc(_.nc(3,9,"New Projector")),_.Gb(2),_.tc("formGroup",n.createForm),_.Gb(3),_.uc("placeholder",_.nc(8,11,"Name")),_.Gb(2),_.tc("ngIf",!n.createForm.controls.name.valid),_.Gb(2),_.tc("disabled",!n.createForm.valid)("mat-dialog-close",!0),_.Gb(2),_.Tc(_.nc(14,13,"Create")),_.Gb(2),_.tc("mat-dialog-close",null),_.Gb(2),_.Tc(_.nc(18,15,"Cancel"))}}function Ee(t,e){if(1&t&&(_.Zb(0,"div",13),_.Ub(1,"os-projector-list-entry",14),_.Yb()),2&t){var n=e.$implicit;_.Gb(1),_.tc("projector",n)}}var De,Fe,Qe,Ne=[{path:"",component:(De=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,r,c,i,a,s,l){var u;return _classCallCheck(this,n),(u=e.call(this,t,o,r)).translate=o,u.repo=c,u.formBuilder=i,u.operator=a,u.dialogService=s,u.cd=l,u.createForm=u.formBuilder.group({name:["",S.G.required]}),u.subscriptions.push(Object(p.a)(0,1e3).subscribe((function(){u.cd.detectChanges()}))),u}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"setTitle",this).call(this,"Projectors"),this.projectors=this.repo.getViewModelListBehaviorSubject()}},{key:"createNewProjector",value:function(t){var e=this;this.createForm.reset(),this.dialogService.open(t,Object.assign(Object.assign({},Y.a),{disableClose:!0})).afterClosed().subscribe((function(t){if(t){var n={name:e.createForm.value.name,reference_projector_id:e.repo.getReferenceProjectorId()};e.repo.create(n).then((function(){e.cd.detectChanges()}),e.raiseError)}}))}},{key:"ngAfterViewInit",value:function(){this.cd.detectChanges()}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.cd.detach()}},{key:"canManage",get:function(){return this.operator.hasPerms(l.b.coreCanManageProjector)}}]),n}(Z.a),De.\u0275fac=function(t){return new(t||De)(_.Tb(T.d),_.Tb(G.k),_.Tb(x.a),_.Tb(g.a),_.Tb(S.f),_.Tb(l.a),_.Tb(C.b),_.Tb(_.h))},De.\u0275cmp=_.Nb({type:De,selectors:[["os-projector-list"]],features:[_.Db],decls:10,vars:9,consts:[[3,"nav","hasMainButton","mainEvent"],[1,"title-slot"],["projectorDialog",""],["id","card-wrapper"],["class","projector-card",4,"ngFor","ngForOf","ngForTrackBy"],["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content",""],["formControlName","name","matInput","","required","",3,"placeholder"],[4,"ngIf"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","mat-dialog-close"],["type","button","mat-button","",3,"mat-dialog-close"],[1,"projector-card"],[3,"projector"]],template:function(t,e){if(1&t){var n=_.ac();_.Zb(0,"os-head-bar",0),_.hc("mainEvent",(function(){_.Ic(n);var t=_.Ec(6);return e.createNewProjector(t)})),_.Zb(1,"div",1),_.Zb(2,"h2"),_.Sc(3),_.mc(4,"translate"),_.Yb(),_.Yb(),_.Yb(),_.Qc(5,Re,19,17,"ng-template",null,2,_.Rc),_.Zb(7,"div",3),_.Qc(8,Ee,2,1,"div",4),_.mc(9,"async"),_.Yb()}2&t&&(_.tc("nav",!0)("hasMainButton",e.canManage),_.Gb(3),_.Tc(_.nc(4,5,"Projectors")),_.Gb(5),_.tc("ngForOf",_.nc(9,7,e.projectors))("ngForTrackBy",e.trackByIndex))},directives:[wt.a,a.s,C.i,S.I,S.t,S.k,C.f,P.c,S.c,O.b,S.s,S.i,S.D,a.t,C.c,M.b,C.d,P.f,Ie],pipes:[G.j,a.b],styles:["#card-wrapper{margin:10px;display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fit,minmax(350px,1fr))}#card-wrapper .projector-card{width:100%;max-width:100vmin;max-height:100vh}"],encapsulation:2,changeDetection:0}),De),pathMatch:"full"},{path:"detail/:id",component:ye,data:{basePerm:l.b.coreCanManageProjector}}],ze=((Fe=function t(){_classCallCheck(this,t)}).\u0275mod=_.Rb({type:Fe}),Fe.\u0275inj=_.Qb({factory:function(t){return new(t||Fe)},imports:[[s.j.forChild(Ne)],s.j]}),Fe),Le=n("PCNd"),Be=((Qe=function t(){_classCallCheck(this,t)}).\u0275mod=_.Rb({type:Qe}),Qe.\u0275inj=_.Qb({factory:function(t){return new(t||Qe)},imports:[[a.c,ze,Le.a]]}),Qe)},"5N+Y":function(t,e,n){"use strict";n.d(e,"a",(function(){return Z}));var o=n("XNiG"),r=n("KL36"),c=n("w7eE"),i=n("fXoL"),a=n("jhN1"),s=n("sYmb"),l=n("Wp6s"),u=n("ofXK"),b=n("TnkD");function p(t,e){1&t&&i.Vb(0)}function d(t,e){1&t&&i.Vb(0)}function m(t,e){if(1&t&&(i.Zb(0,"div",11),i.Qc(1,d,1,0,"ng-container",3),i.Yb()),2&t){i.lc();var n=i.Ec(18);i.Gb(1),i.tc("ngTemplateOutlet",n)}}function f(t,e){1&t&&i.Vb(0)}function g(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",12),i.Zb(1,"a",13),i.hc("click",(function(){i.Ic(n);var t=i.lc();return t.isExpanded=!t.isExpanded})),i.Sc(2),i.mc(3,"translate"),i.mc(4,"translate"),i.Yb(),i.Yb()}if(2&t){var o=i.lc();i.Gb(2),i.Tc(o.isExpanded?i.nc(3,1,"Hide more text"):i.nc(4,3,"Show full text"))}}function h(t,e){1&t&&i.rc(0)}function v(t,e){1&t&&i.rc(0,1)}function j(t,e){1&t&&i.rc(0,2)}var k=[[["",8,"meta-text-block-title"]],[["",8,"meta-text-block-content"]],[["",8,"meta-text-block-action-row"]]],Y=[".meta-text-block-title",".meta-text-block-content",".meta-text-block-action-row"],Z=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,c,i){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).vp=c,a.cd=i,a._disableExpandControl=!1,a.canExpand=!1,a.isExpanded=!1,a.resizeSubject=new o.a,a}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.contentSubscription=this.resizeSubject.subscribe((function(e){return t.resizesContentBox(e)}))}},{key:"ngOnDestroy",value:function(){this.contentSubscription&&(this.contentSubscription.unsubscribe(),this.contentSubscription=null),this.cd.detach()}},{key:"resizesContentBox",value:function(t){this.canExpand=t>200}},{key:"disableExpandControl",set:function(t){this._disableExpandControl=t,t&&(this.isExpanded=!1,this.cd.detectChanges())},get:function(){return this._disableExpandControl}}]),n}(c.a);return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.d),i.Tb(s.k),i.Tb(r.a),i.Tb(i.h))},t.\u0275cmp=i.Nb({type:t,selectors:[["os-meta-text-block"]],inputs:{showActionRow:"showActionRow",disableExpandControl:"disableExpandControl"},features:[i.Db],ngContentSelectors:Y,decls:19,vars:6,consts:[[1,"meta-text-block"],[1,"title-container"],[1,"ellipsis-overflow"],[4,"ngTemplateOutlet"],["class","action-row",4,"ngIf"],[1,"content",3,"osHeightResizing","ngClass"],["contentBox",""],["class","small show-entire-text",4,"ngIf"],["title",""],["content",""],["actionRow",""],[1,"action-row"],[1,"small","show-entire-text"],[3,"click"]],template:function(t,e){if(1&t&&(i.sc(k),i.Zb(0,"div"),i.Zb(1,"mat-card",0),i.Zb(2,"mat-card-header"),i.Zb(3,"mat-card-title"),i.Zb(4,"div",1),i.Zb(5,"div",2),i.Qc(6,p,1,0,"ng-container",3),i.Yb(),i.Qc(7,m,2,1,"div",4),i.Yb(),i.Yb(),i.Yb(),i.Zb(8,"mat-card-content"),i.Zb(9,"div",5,6),i.Qc(11,f,1,0,"ng-container",3),i.Yb(),i.Qc(12,g,5,5,"div",7),i.Yb(),i.Yb(),i.Yb(),i.Qc(13,h,1,0,"ng-template",null,8,i.Rc),i.Qc(15,v,1,0,"ng-template",null,9,i.Rc),i.Qc(17,j,1,0,"ng-template",null,10,i.Rc)),2&t){var n=i.Ec(14),o=i.Ec(16);i.Gb(6),i.tc("ngTemplateOutlet",n),i.Gb(1),i.tc("ngIf",e.showActionRow),i.Gb(2),i.tc("osHeightResizing",e.resizeSubject)("ngClass",e.isExpanded||e.disableExpandControl?"":"collapsed"),i.Gb(2),i.tc("ngTemplateOutlet",o),i.Gb(1),i.tc("ngIf",e.canExpand&&!e.disableExpandControl)}},directives:[l.a,l.f,l.m,u.A,u.t,l.d,b.a,u.q],pipes:[s.j],styles:[""]}),t}()},F48D:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("mrSG"),r=n("LBBb"),c=n("fXoL"),i=n("0IaG"),a=function(){var t=function(){function t(e){_classCallCheck(this,t),this.dialog=e}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.dialog.open(r.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return n.stop()}}),n,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.dc(i.b))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},LBBb:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("0IaG"),r=n("fXoL"),c=n("ofXK"),i=n("bTqV"),a=n("sYmb");function s(t,e){if(1&t&&(r.Zb(0,"div"),r.Zb(1,"h2",1),r.Sc(2),r.Yb(),r.Ub(3,"mat-dialog-content",2),r.Zb(4,"mat-dialog-actions"),r.Zb(5,"button",3),r.Sc(6),r.mc(7,"translate"),r.Yb(),r.Zb(8,"button",4),r.Sc(9),r.mc(10,"translate"),r.Yb(),r.Yb(),r.Yb()),2&t){var n=r.lc();r.Gb(2),r.Tc(n.data.title),r.Gb(1),r.tc("innerHTML",n.data.content,r.Jc),r.Gb(2),r.tc("mat-dialog-close",!0),r.Gb(1),r.Tc(r.nc(7,6,"Yes")),r.Gb(2),r.tc("mat-dialog-close",!1),r.Gb(1),r.Tc(r.nc(10,8,"Cancel"))}}var l=function(){var t=function t(e,n){_classCallCheck(this,t),this.dialogRef=e,this.data=n};return t.\u0275fac=function(e){return new(e||t)(r.Tb(o.h),r.Tb(o.a))},t.\u0275cmp=r.Nb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&r.Qc(0,s,11,10,"div",0),2&t&&r.tc("ngIf",e.data)},directives:[c.t,o.i,o.f,o.c,i.b,o.d],pipes:[a.j],encapsulation:2}),t}()},TnkD:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n("h9Sk"),r=n("fXoL"),c=function(){var t=function(){function t(e){_classCallCheck(this,t),e&&(this.nativeElement=e.nativeElement)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;new o.ResizeSensor(this.nativeElement,(function(){t.checkElementForChanges()})),this.checkElementForChanges()}},{key:"checkElementForChanges",value:function(){this.nativeElement.scrollHeight!==this.oldHeight&&(this.oldHeight=this.nativeElement.scrollHeight,this.osHeightResizing&&this.osHeightResizing.next(this.nativeElement.scrollHeight))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.m))},t.\u0275dir=r.Ob({type:t,selectors:[["","osHeightResizing",""]],inputs:{osHeightResizing:"osHeightResizing"}}),t}()}}]);