(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{Bnfq:function(t,e,n){"use strict";n.r(e),n.d(e,"MotionListModule",(function(){return ae}));var i=n("ofXK"),o=n("PCNd"),c=n("tyNb"),a=n("mrSG"),l=n("OwvW"),s=n("AqIO"),b=n("iTQr"),r=n("D5Qf"),m=n("dOok"),d=n("s3dr"),g=n("lv9T"),u=n("+KbT"),f=n("7dBR"),p=n("KL36"),h=n("Izkr"),v=n("wL0i"),Y=n("f3I0"),Z=n("zyuw"),M=n("Q5D0"),w=n("d4fM"),S=n("T9hM"),_=n("TzFX"),G=n("fXoL"),T=n("jhN1"),C=n("sYmb"),I=n("dNgK"),k=n("0IaG"),O=n("mksl"),P=n("bTqV"),y=n("STbY"),Q=n("NFeN"),x=n("Qu3c"),R=n("0Obk"),D=n("dRZP"),A=n("A5z7"),L=n("vYAO"),E=n("Tp2j"),U=n("40uZ"),V=n("m1Ob"),F=n("ycpk"),B=n("TU8p"),j=n("3Xi6"),z=n("f0Cb"),N=n("pcP9"),W=n("kmnG"),$=n("d3UM"),q=n("3Pt+"),K=n("FKr1");const X=["motionInfoDialog"];function H(t,e){if(1&t){const t=G.ac();G.Zb(0,"button",16),G.hc("click",(function(){return G.Ic(t),G.lc(2).onChangeView("tiles")})),G.mc(1,"translate"),G.Zb(2,"mat-icon"),G.Sc(3,"view_module"),G.Yb(),G.Yb()}2&t&&G.uc("matTooltip",G.nc(1,1,"Tile view"))}function J(t,e){if(1&t){const t=G.ac();G.Zb(0,"button",16),G.hc("click",(function(){return G.Ic(t),G.lc(2).onChangeView("list")})),G.mc(1,"translate"),G.Zb(2,"mat-icon"),G.Sc(3,"view_headline"),G.Yb(),G.Yb()}2&t&&G.uc("matTooltip",G.nc(1,1,"List view"))}function tt(t,e){if(1&t&&(G.Zb(0,"div"),G.Qc(1,H,4,3,"button",15),G.Qc(2,J,4,3,"button",15),G.Yb()),2&t){const t=G.lc();G.Gb(1),G.tc("ngIf","tiles"!==t.selectedView),G.Gb(1),G.tc("ngIf","list"!==t.selectedView)}}function et(t,e){1&t&&G.Vb(0)}function nt(t,e){if(1&t&&G.Ub(0,"a",23),2&t){const t=G.lc().row;G.tc("routerLink",t.id)}}function it(t,e){if(1&t&&(G.Zb(0,"div",20),G.Qc(1,nt,1,1,"a",21),G.Zb(2,"div",22),G.Sc(3),G.Yb(),G.Yb()),2&t){const t=e.row,n=G.lc(2);G.Gb(1),G.tc("ngIf",!n.isMultiSelect),G.Gb(2),G.Uc(" ",t.identifier," ")}}function ot(t,e){if(1&t&&G.Ub(0,"a",23),2&t){const t=G.lc().row;G.tc("routerLink",t.id)}}function ct(t,e){1&t&&(G.Zb(0,"span",32),G.Zb(1,"mat-icon",33),G.Sc(2,"star"),G.Yb(),G.Yb())}function at(t,e){1&t&&(G.Zb(0,"span",34),G.Zb(1,"mat-icon"),G.Sc(2,"attach_file"),G.Yb(),G.Yb())}function lt(t,e){if(1&t&&(G.Zb(0,"span"),G.Sc(1),G.Zb(2,"span"),G.Sc(3,"\xb7"),G.Yb(),G.Yb()),2&t){const t=G.lc().row;G.Gb(1),G.Uc(" ",t.identifier," ")}}function st(t,e){if(1&t&&(G.Zb(0,"span"),G.Zb(1,"span"),G.Sc(2),G.mc(3,"translate"),G.Yb(),G.Sc(4),G.Yb()),2&t){const t=G.lc().row;G.Gb(2),G.Tc(G.nc(3,2,"by")),G.Gb(2),G.Uc(" ",t.submitters," ")}}function bt(t,e){1&t&&(G.Zb(0,"span"),G.Sc(1," \xb7 "),G.Yb())}function rt(t,e){if(1&t&&(G.Zb(0,"span"),G.Qc(1,bt,2,0,"span",7),G.Zb(2,"span"),G.Sc(3),G.mc(4,"translate"),G.Yb(),G.Sc(5),G.Yb()),2&t){const t=G.lc().row;G.Gb(1),G.tc("ngIf",t.submitters.length),G.Gb(2),G.Tc(G.nc(4,3,"Sequential number")),G.Gb(2),G.Uc(" ",t.id," ")}}function mt(t,e){if(1&t&&(G.Zb(0,"mat-basic-chip",35),G.Sc(1),G.Yb()),2&t){const t=G.lc().row,e=G.lc(2);G.tc("ngClass",t.stateCssColor)("disabled",!0),G.Gb(1),G.Uc(" ",e.motionRepo.getExtendedStateLabel(t)," ")}}function dt(t,e){if(1&t&&(G.Zb(0,"div",36),G.Zb(1,"mat-basic-chip",37),G.Sc(2),G.Yb(),G.Yb()),2&t){const t=G.lc().row,e=G.lc(2);G.Gb(1),G.tc("disabled",!0),G.Gb(1),G.Uc(" ",e.motionRepo.getExtendedRecommendationLabel(t)," ")}}function gt(t,e){if(1&t&&(G.Zb(0,"div",20),G.Qc(1,ot,1,1,"a",21),G.Zb(2,"div",24),G.Zb(3,"div",25),G.Qc(4,ct,3,0,"span",26),G.Qc(5,at,3,0,"span",27),G.Zb(6,"span"),G.Qc(7,lt,4,1,"span",7),G.Sc(8),G.Yb(),G.Yb(),G.Zb(9,"div",28),G.Qc(10,st,5,4,"span",7),G.Qc(11,rt,6,5,"span",7),G.Yb(),G.Zb(12,"div",29),G.Qc(13,mt,2,3,"mat-basic-chip",30),G.Yb(),G.Qc(14,dt,3,2,"div",31),G.Yb(),G.Yb()),2&t){const t=e.row,n=G.lc(2);G.Gb(1),G.tc("ngIf",!n.isMultiSelect),G.Gb(3),G.tc("ngIf",t.star),G.Gb(1),G.tc("ngIf",t.hasAttachments()),G.Gb(2),G.tc("ngIf",n.vp.isMobile&&t.identifier),G.Gb(1),G.Uc(" ",t.title," "),G.Gb(2),G.tc("ngIf",t.submitters.length),G.Gb(1),G.tc("ngIf",n.showSequential),G.Gb(2),G.tc("ngIf",t.state),G.Gb(1),G.tc("ngIf",t.recommendation&&t.state.next_states_id.length>0)}}function ut(t,e){if(1&t&&(G.Zb(0,"div",42),G.Zb(1,"os-icon-container",43),G.Sc(2),G.Yb(),G.Yb()),2&t){const t=G.lc().row;G.Gb(2),G.Uc(" ",t.category.nameWithParentAbove," ")}}function ft(t,e){if(1&t&&(G.Zb(0,"div",44),G.Zb(1,"os-icon-container",45),G.Sc(2),G.Yb(),G.Yb()),2&t){const t=G.lc().row;G.Gb(2),G.Tc(t.motion_block.title)}}function pt(t,e){1&t&&(G.Zb(0,"span"),G.Sc(1,",\xa0"),G.Yb())}function ht(t,e){if(1&t&&(G.Zb(0,"span"),G.Sc(1),G.Qc(2,pt,2,0,"span",7),G.Yb()),2&t){const t=e.$implicit,n=e.last;G.Gb(1),G.Uc(" ",t.getTitle()," "),G.Gb(1),G.tc("ngIf",!n)}}function vt(t,e){if(1&t&&(G.Zb(0,"div",44),G.Zb(1,"os-icon-container",46),G.Qc(2,ht,3,2,"span",47),G.Yb(),G.Yb()),2&t){const t=G.lc().row;G.Gb(2),G.tc("ngForOf",t.tags)}}function Yt(t,e){if(1&t){const t=G.ac();G.Zb(0,"div",38),G.hc("click",(function(){G.Ic(t);const n=e.row;return G.lc(2).openEditInfo(n)})),G.Zb(1,"div",39),G.Qc(2,ut,3,1,"div",40),G.Qc(3,ft,3,1,"div",41),G.Qc(4,vt,3,1,"div",41),G.Yb(),G.Yb()}if(2&t){const t=e.row,n=G.lc(2);G.tc("ngClass",n.isMultiSelect?"":"clickable"),G.Gb(2),G.tc("ngIf",t.category),G.Gb(1),G.tc("ngIf",t.motion_block),G.Gb(1),G.tc("ngIf",t.tags&&t.tags.length)}}const Zt=function(t){return{motion:t}};function Mt(t,e){if(1&t){const t=G.ac();G.Zb(0,"div",20),G.Zb(1,"button",48),G.hc("click",(function(e){return G.Ic(t),e.stopPropagation()})),G.Zb(2,"mat-icon"),G.Sc(3,"more_vert"),G.Yb(),G.Yb(),G.Yb()}if(2&t){const t=e.row,n=G.lc(2),i=G.Ec(24);G.Gb(1),G.tc("disabled",n.isMultiSelect)("matMenuTriggerFor",i)("matMenuTriggerData",G.zc(3,Zt,t))}}function wt(t,e){if(1&t){const t=G.ac();G.Zb(0,"os-list-view-table",17),G.hc("selectedRowsChange",(function(e){return G.Ic(t),G.lc().selectedRows=e}))("dataSourceChange",(function(e){return G.Ic(t),G.lc().onDataSourceChange(e)})),G.Qc(1,it,4,2,"div",18),G.Qc(2,gt,15,9,"div",18),G.Qc(3,Yt,5,4,"div",19),G.Qc(4,Mt,4,5,"div",18),G.Yb()}if(2&t){const t=G.lc();G.tc("listObservableProvider",t.motionRepo)("filterService",t.filterService)("sortService",t.sortService)("columns",t.tableColumnDefinition)("multiSelect",t.isMultiSelect)("filterProps",t.filterProps)("hiddenInMobile",t.getColumnsHiddenInMobile())("selectedRows",t.selectedRows),G.Gb(1),G.tc("pblNgridCellDef","identifier"),G.Gb(1),G.tc("pblNgridCellDef","title"),G.Gb(1),G.tc("pblNgridCellDef","state"),G.Gb(1),G.tc("pblNgridCellDef","menu")}}function St(t,e){if(1&t&&(G.Ub(0,"os-projector-button",49),G.Ub(1,"os-speaker-button",49)),2&t){const t=e.motion;G.tc("object",t)("menuItem",!0),G.Gb(1),G.tc("object",t)("menuItem",!0)}}function _t(t,e){1&t&&(G.Zb(0,"span"),G.Zb(1,"mat-icon"),G.Sc(2,"star"),G.Yb(),G.Yb())}function Gt(t,e){1&t&&(G.Zb(0,"span"),G.Zb(1,"mat-icon"),G.Sc(2,"block"),G.Yb(),G.Yb())}function Tt(t,e){1&t&&(G.Zb(0,"span"),G.Zb(1,"mat-icon"),G.Sc(2,"speaker_notes"),G.Yb(),G.Yb())}function Ct(t,e){if(1&t&&(G.Zb(0,"span"),G.Sc(1),G.Yb()),2&t){const t=G.lc(2).$implicit;G.Gb(1),G.Uc(" ",t.prefix," ")}}function It(t,e){1&t&&(G.Zb(0,"span"),G.Zb(1,"mat-icon"),G.Sc(2,"category"),G.Yb(),G.Yb())}function kt(t,e){if(1&t&&(G.Zb(0,"span"),G.Qc(1,Ct,2,1,"span",7),G.Qc(2,It,3,0,"span",7),G.Yb()),2&t){const t=G.lc().$implicit;G.Gb(1),G.tc("ngIf",t.prefix),G.Gb(1),G.tc("ngIf",!t.prefix)}}function Ot(t,e){if(1&t){const t=G.ac();G.Zb(0,"os-block-tile",51),G.hc("clicked",(function(){G.Ic(t);const n=e.$implicit;return G.lc(2).changeToViewWithTileCategory(n)})),G.mc(1,"translate"),G.Xb(2,52),G.Zb(3,"table",53),G.mc(4,"translate"),G.mc(5,"translate"),G.Zb(6,"tbody"),G.Zb(7,"tr"),G.Zb(8,"td"),G.Zb(9,"span",54),G.Qc(10,_t,3,0,"span",55),G.Qc(11,Gt,3,0,"span",55),G.Qc(12,Tt,3,0,"span",55),G.Qc(13,kt,3,2,"span",56),G.Yb(),G.Yb(),G.Yb(),G.Yb(),G.Yb(),G.Wb(),G.Yb()}if(2&t){const t=e.$implicit;G.uc("title",G.nc(1,14,t.name)),G.tc("orientation","horizontal")("only","title")("blockType","node")("data",t),G.Gb(3),G.xc("matTooltip","",t.amountOfMotions," ",G.nc(4,16,"Motions")," \u2013 ",G.nc(5,18,t.name),""),G.Gb(6),G.tc("matBadge",t.amountOfMotions)("matBadgeColor","accent")("ngSwitch",t.name),G.Gb(1),G.tc("ngSwitchCase","Favorites"),G.Gb(1),G.tc("ngSwitchCase","No category"),G.Gb(1),G.tc("ngSwitchCase","Personal notes")}}function Pt(t,e){if(1&t&&(G.Zb(0,"os-grid-layout"),G.Qc(1,Ot,14,20,"os-block-tile",50),G.Yb()),2&t){const t=G.lc();G.Gb(1),G.tc("ngForOf",t.listTiles)}}function yt(t,e){if(1&t){const t=G.ac();G.Zb(0,"div"),G.Zb(1,"button",59),G.hc("click",(function(){return G.Ic(t),G.lc(2).toggleMultiSelect()})),G.Zb(2,"mat-icon"),G.Sc(3,"library_add"),G.Yb(),G.Zb(4,"span"),G.Sc(5),G.mc(6,"translate"),G.Yb(),G.Yb(),G.Ub(7,"mat-divider"),G.Yb()}2&t&&(G.Gb(5),G.Tc(G.nc(6,1,"Multiselect")))}function Qt(t,e){1&t&&(G.Zb(0,"div"),G.Zb(1,"button",60),G.Zb(2,"mat-icon"),G.Sc(3,"color_lens"),G.Yb(),G.Zb(4,"span"),G.Sc(5),G.mc(6,"translate"),G.Yb(),G.Yb(),G.Yb()),2&t&&(G.Gb(5),G.Tc(G.nc(6,1,"Amendments")))}function xt(t,e){1&t&&(G.Zb(0,"div"),G.Zb(1,"button",61),G.Zb(2,"mat-icon"),G.Sc(3,"category"),G.Yb(),G.Zb(4,"span"),G.Sc(5),G.mc(6,"translate"),G.Yb(),G.Yb(),G.Yb()),2&t&&(G.Gb(5),G.Tc(G.nc(6,1,"Categories")))}function Rt(t,e){1&t&&(G.Zb(0,"div"),G.Zb(1,"button",62),G.Zb(2,"mat-icon"),G.Sc(3,"widgets"),G.Yb(),G.Zb(4,"span"),G.Sc(5),G.mc(6,"translate"),G.Yb(),G.Yb(),G.Yb()),2&t&&(G.Gb(5),G.Tc(G.nc(6,1,"Motion blocks")))}function Dt(t,e){1&t&&G.Ub(0,"mat-divider")}function At(t,e){1&t&&(G.Zb(0,"button",68),G.Zb(1,"mat-icon"),G.Sc(2,"account_balance"),G.Yb(),G.Zb(3,"span"),G.Sc(4),G.mc(5,"translate"),G.Yb(),G.Yb()),2&t&&(G.Gb(4),G.Tc(G.nc(5,1,"Statute")))}function Lt(t,e){1&t&&(G.Zb(0,"button",69),G.Zb(1,"mat-icon"),G.Sc(2,"local_offer"),G.Yb(),G.Zb(3,"span"),G.Sc(4),G.mc(5,"translate"),G.Yb(),G.Yb()),2&t&&(G.Gb(4),G.Tc(G.nc(5,1,"Tags")))}function Et(t,e){if(1&t&&(G.Zb(0,"div"),G.Zb(1,"button",63),G.Zb(2,"mat-icon"),G.Sc(3,"sort"),G.Yb(),G.Zb(4,"span"),G.Sc(5),G.mc(6,"translate"),G.Yb(),G.Yb(),G.Qc(7,At,6,3,"button",64),G.Zb(8,"button",65),G.Zb(9,"mat-icon"),G.Sc(10,"speaker_notes"),G.Yb(),G.Zb(11,"span"),G.Sc(12),G.mc(13,"translate"),G.Yb(),G.Yb(),G.Zb(14,"button",66),G.Zb(15,"mat-icon"),G.Sc(16,"build"),G.Yb(),G.Zb(17,"span"),G.Sc(18),G.mc(19,"translate"),G.Yb(),G.Yb(),G.Qc(20,Lt,6,3,"button",67),G.Ub(21,"mat-divider"),G.Yb()),2&t){const t=G.lc(2);G.Gb(5),G.Tc(G.nc(6,5,"Call list")),G.Gb(2),G.tc("ngIf",t.statutesEnabled),G.Gb(5),G.Tc(G.nc(13,7,"Comment fields")),G.Gb(6),G.Tc(G.nc(19,9,"Workflows")),G.Gb(2),G.tc("osPerms","core.can_manage_tags")}}function Ut(t,e){if(1&t){const t=G.ac();G.Zb(0,"button",59),G.hc("click",(function(){return G.Ic(t),G.lc(2).openExportDialog()})),G.Zb(1,"mat-icon"),G.Sc(2,"archive"),G.Yb(),G.Zb(3,"span"),G.Sc(4),G.mc(5,"translate"),G.Yb(),G.Yb()}2&t&&(G.Gb(4),G.Tc(G.nc(5,1,"Export")))}function Vt(t,e){1&t&&(G.Zb(0,"div"),G.Zb(1,"button",70),G.Zb(2,"mat-icon"),G.Sc(3,"cloud_upload"),G.Yb(),G.Zb(4,"span"),G.Sc(5),G.mc(6,"translate"),G.Yb(),G.Yb(),G.Yb()),2&t&&(G.Gb(5),G.Tc(G.nc(6,1,"Import")))}function Ft(t,e){1&t&&(G.Zb(0,"div"),G.Ub(1,"mat-divider"),G.Zb(2,"button",71),G.Zb(3,"mat-icon"),G.Sc(4,"settings"),G.Yb(),G.Zb(5,"span"),G.Sc(6),G.mc(7,"translate"),G.Yb(),G.Yb(),G.Yb()),2&t&&(G.Gb(6),G.Tc(G.nc(7,1,"Settings")))}function Bt(t,e){if(1&t&&(G.Zb(0,"div"),G.Qc(1,yt,8,3,"div",7),G.Qc(2,Qt,7,3,"div",7),G.Qc(3,xt,7,3,"div",7),G.Qc(4,Rt,7,3,"div",7),G.Qc(5,Dt,1,0,"mat-divider",7),G.Qc(6,Et,22,11,"div",7),G.Qc(7,Ut,6,3,"button",57),G.Qc(8,Vt,7,3,"div",7),G.Qc(9,Ft,8,3,"div",58),G.Yb()),2&t){const t=G.lc();G.Gb(1),G.tc("ngIf",t.perms.isAllowed("change_metadata")&&"list"===t.selectedView),G.Gb(1),G.tc("ngIf",t.amendmentsEnabled&&(t.perms.isAllowed("manage")||t.hasAmendments())),G.Gb(1),G.tc("ngIf",t.perms.isAllowed("manage")||t.categories.length),G.Gb(1),G.tc("ngIf",t.perms.isAllowed("manage")||t.motionBlocks.length),G.Gb(1),G.tc("ngIf",(t.categories.length||t.motionBlocks.length||t.hasAmendments()||t.perms.isAllowed("manage"))&&(t.perms.isAllowed("manage")||"list"===t.selectedView||t.operator.hasPerms("core.can_manage_config"))),G.Gb(1),G.tc("ngIf",t.perms.isAllowed("manage")),G.Gb(1),G.tc("ngIf","list"===t.selectedView),G.Gb(1),G.tc("ngIf",t.perms.isAllowed("manage")),G.Gb(1),G.tc("osPerms","core.can_manage_config")}}function jt(t,e){if(1&t){const t=G.ac();G.Xb(0),G.Ub(1,"mat-divider"),G.Zb(2,"os-motion-multiselect-actions",73),G.hc("action",(function(e){return G.Ic(t),G.lc(2).multiselectWrapper(e)})),G.Zb(3,"button",72),G.hc("click",(function(){G.Ic(t);const e=G.lc(2);return e.multiselectWrapper(e.multiselectService.moveToItem(e.selectedRows))})),G.Zb(4,"mat-icon"),G.Sc(5,"sort"),G.Yb(),G.Zb(6,"span"),G.Sc(7),G.mc(8,"translate"),G.Yb(),G.Yb(),G.Zb(9,"button",72),G.hc("click",(function(){G.Ic(t);const e=G.lc(2);return e.multiselectWrapper(e.multiselectService.bulkMoveItems(e.selectedRows))})),G.Zb(10,"mat-icon"),G.Sc(11,"format_indent_increase"),G.Yb(),G.Zb(12,"span"),G.Sc(13),G.mc(14,"translate"),G.Yb(),G.Yb(),G.Yb(),G.Wb()}if(2&t){const t=G.lc(2);G.Gb(2),G.tc("selectedMotions",t.selectedRows),G.Gb(1),G.tc("disabled",!t.selectedRows.length),G.Gb(4),G.Tc(G.nc(8,5,"Move to agenda item")),G.Gb(2),G.tc("disabled",!t.selectedRows.length),G.Gb(4),G.Tc(G.nc(14,7,"Move in call list"))}}function zt(t,e){if(1&t){const t=G.ac();G.Zb(0,"div"),G.Zb(1,"button",59),G.hc("click",(function(){return G.Ic(t),G.lc().selectAll()})),G.Zb(2,"mat-icon"),G.Sc(3,"done_all"),G.Yb(),G.Zb(4,"span"),G.Sc(5),G.mc(6,"translate"),G.Yb(),G.Yb(),G.Zb(7,"button",72),G.hc("click",(function(){return G.Ic(t),G.lc().deselectAll()})),G.Zb(8,"mat-icon"),G.Sc(9,"clear"),G.Yb(),G.Zb(10,"span"),G.Sc(11),G.mc(12,"translate"),G.Yb(),G.Yb(),G.Qc(13,jt,15,9,"ng-container",7),G.Yb()}if(2&t){const t=G.lc();G.Gb(5),G.Tc(G.nc(6,4,"Select all")),G.Gb(2),G.tc("disabled",!t.selectedRows.length),G.Gb(4),G.Tc(G.nc(12,6,"Deselect all")),G.Gb(2),G.tc("ngIf",t.perms.isAllowed("change_metadata"))}}function Nt(t,e){if(1&t&&(G.Zb(0,"mat-option",80),G.Sc(1),G.mc(2,"translate"),G.Yb()),2&t){const t=e.$implicit;G.tc("value",t.id),G.Gb(1),G.Uc(" ",G.nc(2,2,t.getTitle())," ")}}function Wt(t,e){if(1&t){const t=G.ac();G.Zb(0,"mat-form-field"),G.Zb(1,"mat-select",79),G.hc("ngModelChange",(function(e){return G.Ic(t),G.lc(2).infoDialog.category_id=e})),G.mc(2,"translate"),G.Zb(3,"mat-option",80),G.Sc(4,"-"),G.Yb(),G.Qc(5,Nt,3,4,"mat-option",81),G.Yb(),G.Yb()}if(2&t){const t=G.lc(2);G.Gb(1),G.uc("placeholder",G.nc(2,4,"Category")),G.tc("ngModel",t.infoDialog.category_id),G.Gb(2),G.tc("value",null),G.Gb(2),G.tc("ngForOf",t.categories)}}function $t(t,e){if(1&t&&(G.Zb(0,"mat-option",80),G.Sc(1),G.mc(2,"translate"),G.Yb()),2&t){const t=e.$implicit;G.tc("value",t.id),G.Gb(1),G.Uc(" ",G.nc(2,2,t.getTitle())," ")}}function qt(t,e){if(1&t){const t=G.ac();G.Zb(0,"mat-form-field"),G.Zb(1,"mat-select",79),G.hc("ngModelChange",(function(e){return G.Ic(t),G.lc(2).infoDialog.motion_block_id=e})),G.mc(2,"translate"),G.Zb(3,"mat-option",80),G.Sc(4,"-"),G.Yb(),G.Qc(5,$t,3,4,"mat-option",81),G.Yb(),G.Yb()}if(2&t){const t=G.lc(2);G.Gb(1),G.uc("placeholder",G.nc(2,4,"Motion block")),G.tc("ngModel",t.infoDialog.motion_block_id),G.Gb(2),G.tc("value",null),G.Gb(2),G.tc("ngForOf",t.motionBlocks)}}function Kt(t,e){if(1&t&&(G.Zb(0,"mat-option",80),G.Sc(1),G.mc(2,"translate"),G.Yb()),2&t){const t=e.$implicit;G.tc("value",t.id),G.Gb(1),G.Uc(" ",G.nc(2,2,t.getTitle())," ")}}function Xt(t,e){if(1&t){const t=G.ac();G.Zb(0,"mat-form-field"),G.Zb(1,"mat-select",82),G.hc("ngModelChange",(function(e){return G.Ic(t),G.lc(2).infoDialog.tags_id=e})),G.mc(2,"translate"),G.Qc(3,Kt,3,4,"mat-option",81),G.Yb(),G.Yb()}if(2&t){const t=G.lc(2);G.Gb(1),G.uc("placeholder",G.nc(2,3,"Tags")),G.tc("ngModel",t.infoDialog.tags_id),G.Gb(2),G.tc("ngForOf",t.tags)}}function Ht(t,e){if(1&t&&(G.Zb(0,"mat-option",80),G.Sc(1),G.mc(2,"translate"),G.Yb()),2&t){const t=e.$implicit;G.tc("value",t.id),G.Gb(1),G.Uc(" ",G.nc(2,2,t.getTitle())," ")}}function Jt(t,e){if(1&t){const t=G.ac();G.Zb(0,"mat-form-field"),G.Zb(1,"mat-select",79),G.hc("ngModelChange",(function(e){return G.Ic(t),G.lc(2).infoDialog.state_id=e})),G.mc(2,"translate"),G.Qc(3,Ht,3,4,"mat-option",81),G.Yb(),G.Yb()}if(2&t){const t=G.lc(2);G.Gb(1),G.uc("placeholder",G.nc(2,3,"State")),G.tc("ngModel",t.infoDialog.state_id),G.Gb(2),G.tc("ngForOf",t.selectedMotion.state.next_states)}}function te(t,e){if(1&t&&(G.Zb(0,"mat-option",80),G.Sc(1),G.mc(2,"translate"),G.Yb()),2&t){const t=e.$implicit;G.tc("value",t.id),G.Gb(1),G.Uc(" ",G.nc(2,2,t.recommendation_label)," ")}}function ee(t,e){if(1&t){const t=G.ac();G.Zb(0,"mat-form-field"),G.Zb(1,"mat-select",79),G.hc("ngModelChange",(function(e){return G.Ic(t),G.lc(2).infoDialog.recommendation_id=e})),G.mc(2,"translate"),G.Qc(3,te,3,4,"mat-option",81),G.Yb(),G.Yb()}if(2&t){const t=G.lc(2);G.Gb(1),G.uc("placeholder",G.nc(2,3,"Recommendation")),G.tc("ngModel",t.infoDialog.recommendation_id),G.Gb(2),G.tc("ngForOf",t.selectedMotion.possibleRecommendations)}}function ne(t,e){if(1&t&&(G.Zb(0,"h1",74),G.Zb(1,"span"),G.Sc(2),G.mc(3,"translate"),G.Yb(),G.Yb(),G.Zb(4,"div",75),G.Qc(5,Wt,6,6,"mat-form-field",7),G.Qc(6,qt,6,6,"mat-form-field",7),G.Qc(7,Xt,4,5,"mat-form-field",7),G.Qc(8,Jt,4,5,"mat-form-field",7),G.Qc(9,ee,4,5,"mat-form-field",7),G.Yb(),G.Zb(10,"div",76),G.Zb(11,"button",77),G.Zb(12,"span"),G.Sc(13),G.mc(14,"translate"),G.Yb(),G.Yb(),G.Zb(15,"button",78),G.Zb(16,"span"),G.Sc(17),G.mc(18,"translate"),G.Yb(),G.Yb(),G.Yb()),2&t){const t=G.lc();G.Gb(2),G.Vc("",G.nc(3,11,"Edit details for")," ",t.infoDialog.title,""),G.Gb(3),G.tc("ngIf",t.isCategoryAvailable()),G.Gb(1),G.tc("ngIf",t.isMotionBlockAvailable()),G.Gb(1),G.tc("ngIf",t.isTagAvailable()),G.Gb(1),G.tc("ngIf",t.perms.isAllowed("change_state",t.selectedMotion)),G.Gb(1),G.tc("ngIf",t.perms.isAllowed("change_state",t.selectedMotion)),G.Gb(2),G.tc("mat-dialog-close",t.infoDialog),G.Gb(2),G.Tc(G.nc(14,13,"Save")),G.Gb(2),G.tc("mat-dialog-close",null),G.Gb(2),G.Tc(G.nc(18,15,"Cancel"))}}const ie=[{path:"",component:(()=>{class t extends v.a{constructor(t,e,n,i,o,c,a,l,s,b,r,m,d,g,u,f,p,h,v,Y,Z){super(t,e,n,o),this.translate=e,this.route=i,this.filterService=c,this.sortService=a,this.router=l,this.configService=s,this.tagRepo=b,this.motionBlockRepo=r,this.categoryRepo=m,this.workflowRepo=d,this.motionRepo=g,this.dialog=u,this.multiselectService=f,this.perms=p,this.motionExport=h,this.overlayService=v,this.vp=Y,this.operator=Z,this.selectedMotion=null,this.tableColumnDefinition=[{prop:"identifier"},{prop:"title",width:"auto"},{prop:"state",width:"20%",minWidth:160}],this.tags=[],this.workflows=[],this.categories=[],this.motionBlocks=[],this.filterProps=["submitters","motion_block","title","identifier"],this.motionTiles=[],this.categoryTiles=[],this.canMultiSelect=!0}ngOnInit(){const t=Object.create(null,{setTitle:{get:()=>super.setTitle}});return Object(a.a)(this,void 0,void 0,(function*(){t.setTitle.call(this,"Motions"),this.configService.get("motions_statutes_enabled").subscribe(t=>this.statutesEnabled=t),this.configService.get("motions_amendments_enabled").subscribe(t=>this.amendmentsEnabled=t),this.configService.get("motions_recommendations_by").subscribe(t=>{this.recommendationEnabled=!!t}),this.configService.get("motions_show_sequential_numbers").subscribe(t=>this.showSequential=t),this.motionBlockRepo.getViewModelListObservable().subscribe(t=>{this.motionBlocks=t}),this.categoryRepo.getViewModelListObservable().subscribe(t=>{this.categories=t,t.length>0?this.storage.get("motionListView").then(t=>{this.selectedView=t||"tiles"}):this.selectedView="list"}),this.tagRepo.getViewModelListObservable().subscribe(t=>{this.tags=t}),this.workflowRepo.getViewModelListObservable().subscribe(t=>this.workflows=t),this.motionRepo.getViewModelListObservable().subscribe(t=>{t&&t.length&&this.createMotionTiles(t)})}))}createTileList(){this.listTiles=this.categoryTiles.concat(this.motionTiles)}getColumnsHiddenInMobile(){const t=["identifier","state"];return this.perms.canAccessMobileDotMenu()||t.push("menu"),t}createCategoryTiles(t){this.categoryTiles=t.filter(t=>!t.parent_id&&!!t.totalAmountOfMotions).sort((t,e)=>t.weight-e.weight).map(t=>({filter:"category_id",name:t.name,condition:t.id,amountOfMotions:t.totalAmountOfMotions,prefix:t.prefix}))}createMotionTiles(t){this.motionTiles=[];let e=0,n=0,i=0;const o=new Set;for(const c of t)c.category?o.add(c.category.oldestParent):i++,e+=+this.motionHasProp(c,"star"),n+=+this.motionHasProp(c,"hasNotes");this.addToTileInfo("Favorites","star",!0,e),this.addToTileInfo("Personal notes","hasNotes",!0,n),this.addToTileInfo("No category","category_id",null,i),this.createCategoryTiles(Array.from(o)),this.createTileList()}motionHasProp(t,e,n=!0){return!!t[e]===n}addToTileInfo(t,e,n,i){i&&this.motionTiles.push({filter:e,name:t,condition:n,amountOfMotions:i})}onPlusButton(){this.router.navigate(["./new"],{relativeTo:this.route})}openExportDialog(){this.dialog.open(_.a,Object.assign(Object.assign({},h.b),{data:this.dataSource})).afterClosed().subscribe(t=>this.motionExport.evaluateExportRequest(t,this.isMultiSelect?this.selectedRows:this.dataSource.filteredData))}multiselectWrapper(t){return Object(a.a)(this,void 0,void 0,(function*(){t.then(()=>this.overlayService.hideSpinner(),this.raiseError)}))}onChangeView(t){this.selectedView=t,this.storage.set("motionListView",t)}changeToViewWithTileCategory(t){this.onChangeView("list"),this.filterService.clearAllFilters(),this.filterService.toggleFilterOption(t.filter,{label:t.name,condition:t.condition,isActive:!1})}openEditInfo(t){return Object(a.a)(this,void 0,void 0,(function*(){if(this.isMultiSelect||!this.perms.isAllowed("change_metadata"))return;this.selectedMotion=t,this.infoDialog={title:t.title,motion_block_id:t.motion_block_id,category_id:t.category_id,tags_id:t.tags_id,state_id:t.state_id,recommendation_id:t.recommendation_id};const e=this.dialog.open(this.motionInfoDialog,h.a);e.keydownEvents().subscribe(t=>{"Enter"===t.key&&t.shiftKey&&e.close(this.infoDialog)});const n=yield e.afterClosed().toPromise();if(n){delete n.title;try{yield this.motionRepo.patch(n,t),n.state_id!==t.state_id&&(yield this.motionRepo.setState(t,n.state_id)),n.recommendation_id!==t.recommendation_id&&(yield this.motionRepo.setRecommendation(t,n.recommendation_id))}catch(i){this.raiseError(i)}}this.selectedMotion=null}))}hasAmendments(){return!!this.motionRepo.getAllAmendmentsInstantly().length}isCategoryAvailable(){return!!this.categories&&this.categories.length>0}isTagAvailable(){return!!this.tags&&this.tags.length>0}isMotionBlockAvailable(){return!!this.motionBlocks&&this.motionBlocks.length>0}}return t.\u0275fac=function(e){return new(e||t)(G.Tb(T.d),G.Tb(C.k),G.Tb(I.a),G.Tb(c.a),G.Tb(s.a),G.Tb(M.a),G.Tb(S.a),G.Tb(c.f),G.Tb(u.a),G.Tb(g.a),G.Tb(r.a),G.Tb(b.a),G.Tb(d.a),G.Tb(m.a),G.Tb(k.b),G.Tb(w.a),G.Tb(Y.a),G.Tb(Z.a),G.Tb(f.a),G.Tb(p.a),G.Tb(l.a))},t.\u0275cmp=G.Nb({type:t,selectors:[["os-motion-list"]],viewQuery:function(t,e){var n;1&t&&G.Oc(X,!0),2&t&&G.Dc(n=G.ic())&&(e.motionInfoDialog=n.first)},features:[G.Db],decls:34,vars:16,consts:[[3,"hasMainButton","multiSelectMode","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"central-info-slot"],["mat-icon-button","",3,"click"],[1,"extra-controls-slot"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["list",""],["singleItemMenu","matMenu"],["matMenuContent",""],["tiles",""],["motionListMenu","matMenu"],["motionInfoDialog",""],["mat-button","",3,"matTooltip","click",4,"ngIf"],["mat-button","",3,"matTooltip","click"],["listStorageKey","motion",3,"listObservableProvider","filterService","sortService","columns","multiSelect","filterProps","hiddenInMobile","selectedRows","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["class","cell-slot fill",3,"ngClass","click",4,"pblNgridCellDef"],[1,"cell-slot","fill"],["class","detail-link",3,"routerLink",4,"ngIf"],[1,"column-identifier","innerTable"],[1,"detail-link",3,"routerLink"],[1,"column-title","innerTable"],[1,"title-line","ellipsis-overflow"],["class","favorite-star",4,"ngIf"],["class","icon-prefix",4,"ngIf"],[1,"submitters-line","ellipsis-overflow"],[1,"ellipsis-overflow","white"],[3,"ngClass","disabled",4,"ngIf"],["class","ellipsis-overflow white spacer-top-3",4,"ngIf"],[1,"favorite-star"],["inline",""],[1,"icon-prefix"],[3,"ngClass","disabled"],[1,"ellipsis-overflow","white","spacer-top-3"],[1,"bluegrey",3,"disabled"],[1,"cell-slot","fill",3,"ngClass","click"],[1,"column-state","innerTable"],["class","ellipsis-overflow",4,"ngIf"],["class","ellipsis-overflow spacer-top-5",4,"ngIf"],[1,"ellipsis-overflow"],["icon","category"],[1,"ellipsis-overflow","spacer-top-5"],["icon","widgets"],["icon","local_offer"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"disabled","matMenuTriggerFor","matMenuTriggerData","click"],[3,"object","menuItem"],[3,"orientation","only","blockType","data","title","clicked",4,"ngFor","ngForOf"],[3,"orientation","only","blockType","data","title","clicked"],[1,"block-node"],[3,"matTooltip"],[1,"tile-block-title",3,"matBadge","matBadgeColor","ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"osPerms"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","amendments"],["mat-menu-item","","routerLink","category"],["mat-menu-item","","routerLink","blocks"],["mat-menu-item","","routerLink","call-list"],["mat-menu-item","","routerLink","statute-paragraphs",4,"ngIf"],["mat-menu-item","","routerLink","comment-section"],["mat-menu-item","","routerLink","workflow"],["mat-menu-item","","routerLink","/tags",4,"osPerms"],["mat-menu-item","","routerLink","statute-paragraphs"],["mat-menu-item","","routerLink","/tags"],["mat-menu-item","","routerLink","import"],["mat-menu-item","","routerLink","/settings/motions"],["mat-menu-item","",3,"disabled","click"],[3,"selectedMotions","action"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"],["type","button","mat-button","",3,"mat-dialog-close"],[3,"placeholder","ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["multiple","",3,"placeholder","ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(G.Zb(0,"os-head-bar",0),G.hc("mainEvent",(function(){return e.onPlusButton()})),G.Zb(1,"div",1),G.Zb(2,"h2"),G.Sc(3),G.mc(4,"translate"),G.Yb(),G.Yb(),G.Zb(5,"div",2),G.Zb(6,"button",3),G.Zb(7,"mat-icon"),G.Sc(8,"more_vert"),G.Yb(),G.Yb(),G.Yb(),G.Zb(9,"div",4),G.Zb(10,"button",5),G.hc("click",(function(){return e.toggleMultiSelect()})),G.Zb(11,"mat-icon"),G.Sc(12,"arrow_back"),G.Yb(),G.Yb(),G.Zb(13,"span"),G.Sc(14),G.Yb(),G.Zb(15,"span"),G.Sc(16),G.mc(17,"translate"),G.Yb(),G.Yb(),G.Zb(18,"div",6),G.Qc(19,tt,3,2,"div",7),G.Yb(),G.Yb(),G.Qc(20,et,1,0,"ng-container",8),G.Qc(21,wt,5,12,"ng-template",null,9,G.Rc),G.Zb(23,"mat-menu",null,10),G.Qc(25,St,2,4,"ng-template",11),G.Yb(),G.Qc(26,Pt,2,1,"ng-template",null,12,G.Rc),G.Zb(28,"mat-menu",null,13),G.Qc(30,Bt,10,9,"div",7),G.Qc(31,zt,14,8,"div",7),G.Yb(),G.Qc(32,ne,19,17,"ng-template",null,14,G.Rc)),2&t){const t=G.Ec(22),n=G.Ec(27),i=G.Ec(29);G.tc("hasMainButton",e.perms.isAllowed("create"))("multiSelectMode",e.isMultiSelect),G.Gb(3),G.Tc(G.nc(4,12,"Motions")),G.Gb(3),G.tc("matMenuTriggerFor",i),G.Gb(8),G.Uc("",e.selectedRows.length,"\xa0"),G.Gb(2),G.Tc(G.nc(17,14,"selected")),G.Gb(3),G.tc("ngIf",e.isCategoryAvailable()&&!e.isMultiSelect),G.Gb(1),G.tc("ngIf","tiles"===e.selectedView)("ngIfThen",n)("ngIfElse",t),G.Gb(10),G.tc("ngIf",!e.isMultiSelect),G.Gb(1),G.tc("ngIf",e.isMultiSelect)}},directives:[O.a,P.b,y.e,Q.a,i.t,y.f,y.b,x.c,R.a,D.c,c.i,A.a,i.q,L.a,i.s,E.a,U.a,V.a,F.a,B.a,i.x,i.y,i.z,j.a,y.c,z.a,c.g,N.a,k.i,k.f,k.c,k.d,W.c,$.a,q.s,q.v,K.n],pipes:[C.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}.submitters-line[_ngcontent-%COMP%]{font-size:90%}.mat-button-toggle-group[_ngcontent-%COMP%]{line-height:normal;vertical-align:middle;box-shadow:none}.mat-button-toggle-group[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin:0}.projector-button[_ngcontent-%COMP%]{margin:auto}.column-identifier[_ngcontent-%COMP%]{margin-top:10px;word-break:break-all}.column-state[_ngcontent-%COMP%], .column-title[_ngcontent-%COMP%]{margin-top:10px}.column-state[_ngcontent-%COMP%]{width:inherit}.column-state[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:150%}os-grid-layout[_ngcontent-%COMP%]   .color-select[_ngcontent-%COMP%]{width:100%;padding:0 8px}os-grid-layout[_ngcontent-%COMP%]   .tile-block-title[_ngcontent-%COMP%]{font-size:36px}os-grid-layout[_ngcontent-%COMP%]   .tile-block-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px}os-grid-layout[_ngcontent-%COMP%]   .tile-block-title[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-22px;top:-11px;font-size:16px;width:30px;height:30px;line-height:30px}"],changeDetection:0}),t})(),pathMatch:"full"}];let oe=(()=>{class t{}return t.\u0275mod=G.Rb({type:t}),t.\u0275inj=G.Qb({factory:function(e){return new(e||t)},imports:[[c.j.forChild(ie)],c.j]}),t})();var ce=n("IItz");let ae=(()=>{class t{}return t.\u0275mod=G.Rb({type:t}),t.\u0275inj=G.Qb({factory:function(e){return new(e||t)},imports:[[i.c,oe,o.a,ce.a]]}),t})()}}]);