(window.webpackJsonp=window.webpackJsonp||[]).push([[25,36],{F48D:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("mrSG"),c=n("LBBb"),o=n("fXoL"),i=n("0IaG");let r=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(a.a)(this,void 0,void 0,(function*(){return this.dialog.open(c.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(o.dc(i.b))},t.\u0275prov=o.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Iab2:function(t,e,n){var a,c;void 0===(c="function"==typeof(a=function(){"use strict";function e(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){i(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,i){var r=c.URL||c.webkitURL,s=document.createElement("a");s.download=o=o||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?a(s):n(s.href)?e(t,o,i):a(s,s.target="_blank")):(s.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(s.href)}),4e4),setTimeout((function(){a(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,c,o){if(c=c||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),c);else if(n(t))e(t,c,o);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){a(i)}))}}:function(t,n,a,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,a);var r="application/octet-stream"===t.type,s=/constructor/i.test(c.HTMLElement)||c.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&s||o)&&"undefined"!=typeof FileReader){var b=new FileReader;b.onloadend=function(){var t=b.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},b.readAsDataURL(t)}else{var u=c.URL||c.webkitURL,m=u.createObjectURL(t);i?i.location=m:location.href=m,i=null,setTimeout((function(){u.revokeObjectURL(m)}),4e4)}});c.saveAs=i.saveAs=i,t.exports=i})?a.apply(e,[]):a)||(t.exports=c)},LBBb:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("0IaG"),c=n("fXoL"),o=n("ofXK"),i=n("bTqV"),r=n("sYmb");function s(t,e){if(1&t&&(c.Zb(0,"div"),c.Zb(1,"h2",1),c.Sc(2),c.Yb(),c.Ub(3,"mat-dialog-content",2),c.Zb(4,"mat-dialog-actions"),c.Zb(5,"button",3),c.Sc(6),c.mc(7,"translate"),c.Yb(),c.Zb(8,"button",4),c.Sc(9),c.mc(10,"translate"),c.Yb(),c.Yb(),c.Yb()),2&t){const t=c.lc();c.Gb(2),c.Tc(t.data.title),c.Gb(1),c.tc("innerHTML",t.data.content,c.Jc),c.Gb(2),c.tc("mat-dialog-close",!0),c.Gb(1),c.Tc(c.nc(7,6,"Yes")),c.Gb(2),c.tc("mat-dialog-close",!1),c.Gb(1),c.Tc(c.nc(10,8,"Cancel"))}}let l=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(a.h),c.Tb(a.a))},t.\u0275cmp=c.Nb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&c.Qc(0,s,11,10,"div",0),2&t&&c.tc("ngIf",e.data)},directives:[o.t,a.i,a.f,a.c,i.b,a.d],pipes:[r.j],encapsulation:2}),t})()},gqBz:function(t,e,n){"use strict";n.r(e),n.d(e,"StatuteParagraphModule",(function(){return wt}));var a=n("ofXK"),c=n("PCNd"),o=n("tyNb"),i=n("gjbj"),r=n("1NkQ"),s=n("fXoL"),l=n("sYmb");let b=(()=>{class t{constructor(t,e){this.csvExport=t,this.translate=e}exportStatutes(t){this.csvExport.export(t,[{property:"title"},{property:"text"}],this.translate.instant("Statute")+".csv")}exportDummyCSV(){const t=`${this.translate.instant("Statute")}-${this.translate.instant("example")}.csv`;this.csvExport.dummyCSVExport(["Title","Text"],[["\xa71","This is the first section"],["\xa71, A 3","This is another important aspect"],["\xa72","Yet another"]],t)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(r.a),s.dc(l.k))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=n("mrSG"),m=n("Mluu"),d=n("E2rH"),p=n("04cA"),f=n("P6Fj"),h=n("dNgK");let g=(()=>{class t extends d.a{constructor(t,e,n,a){super(e,n,a),this.repo=t,this.errorList={Duplicates:"A statute with this title already exists."},this.requiredHeaderLength=2,this.expectedHeader=["title","text"]}clearData(){}mapData(t){const e=new p.a(new p.a),n=Math.min(this.expectedHeader.length,t.length);for(let c=0;c<n;c++)switch(this.expectedHeader[c]){case"title":e.title=t[c];break;case"text":e.text=t[c]}const a=this.repo.getViewModelList().some(t=>t.title===e.title);return{newEntry:e,hasDuplicates:a,status:a?"error":"new",errors:a?["Duplicates"]:[]}}doImport(){return Object(u.a)(this,void 0,void 0,(function*(){for(const t of this.entries)"new"===t.status&&(yield this.repo.create(t.newEntry),t.status="done");this.updatePreview()}))}}return t.\u0275fac=function(e){return new(e||t)(s.dc(m.a),s.dc(l.k),s.dc(f.a),s.dc(h.a))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=n("jhN1"),S=n("mksl"),Y=n("Wp6s"),Z=n("bTqV"),w=n("kmnG"),T=n("d3UM"),G=n("IZUe"),x=n("FKr1"),k=n("+0xr"),I=n("Dh3D"),E=n("NFeN"),y=n("Qu3c");function M(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",16),s.hc("click",(function(){return s.Ic(t),s.lc().doImport()})),s.Zb(1,"span",17),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Yb()}2&t&&(s.Gb(2),s.Tc(s.nc(3,1,"Import")))}function C(t,e){if(1&t&&(s.Zb(0,"mat-option",18),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t){const t=e.$implicit;s.tc("value",t.value),s.Gb(1),s.Uc(" ",s.nc(2,2,t.label)," ")}}function B(t,e){if(1&t&&(s.Zb(0,"mat-option",18),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t){const t=e.$implicit;s.tc("value",t.value),s.Gb(1),s.Uc(" ",s.nc(2,2,t.label)," ")}}function Q(t,e){if(1&t&&(s.Zb(0,"mat-option",18),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t){const t=e.$implicit;s.tc("value",t.value),s.Gb(1),s.Uc(" ",s.nc(2,2,t.label)," ")}}function D(t,e){if(1&t&&(s.Zb(0,"div"),s.Sc(1," \xa0 "),s.Zb(2,"mat-icon",36),s.Sc(3,"playlist_add"),s.Yb(),s.Zb(4,"span"),s.Sc(5),s.Yb(),s.Zb(6,"span"),s.Sc(7),s.mc(8,"translate"),s.Yb(),s.Yb()),2&t){const t=s.lc(2);s.Gb(5),s.Uc("\xa0",t.newCount,"\xa0"),s.Gb(2),s.Tc(s.nc(8,2,"statute paragraphs(s) will be imported."))}}function P(t,e){if(1&t&&(s.Zb(0,"div",37),s.Sc(1," \xa0 "),s.Zb(2,"mat-icon",36),s.Sc(3,"warning"),s.Yb(),s.Zb(4,"span"),s.Sc(5),s.Yb(),s.Zb(6,"span"),s.Sc(7),s.mc(8,"translate"),s.Yb(),s.Yb()),2&t){const t=s.lc(2);s.Gb(5),s.Uc("\xa0",t.nonImportableCount,"\xa0"),s.Gb(2),s.Tc(s.nc(8,2,"entries will be ommitted."))}}function U(t,e){if(1&t&&(s.Zb(0,"div",38),s.Sc(1," \xa0 "),s.Zb(2,"mat-icon",36),s.Sc(3,"done"),s.Yb(),s.Zb(4,"span"),s.Sc(5),s.Yb(),s.Zb(6,"span"),s.Sc(7),s.mc(8,"translate"),s.Yb(),s.Yb()),2&t){const t=s.lc(2);s.Gb(5),s.Uc("\xa0",t.doneCount,"\xa0"),s.Gb(2),s.Tc(s.nc(8,2,"statute paragraphs have been imported."))}}function F(t,e){1&t&&(s.Zb(0,"div"),s.Zb(1,"span"),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Yb()),2&t&&(s.Gb(2),s.Tc(s.nc(3,1,'After verifiy the preview click on "import" please (see top right).')))}function L(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-select",39),s.hc("valueChange",(function(e){return s.Ic(t),s.lc(2).shown=e}))("selectionChange",(function(){return s.Ic(t),s.lc(2).setFilter()})),s.Zb(1,"mat-option",40),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Zb(4,"mat-option",41),s.Sc(5),s.mc(6,"translate"),s.Yb(),s.Zb(7,"mat-option",42),s.Sc(8),s.mc(9,"translate"),s.Yb(),s.Yb()}if(2&t){const t=s.lc(2);s.tc("value",t.shown),s.Gb(2),s.Tc(s.nc(3,4,"Show all")),s.Gb(3),s.Tc(s.nc(6,6,"Show errors only")),s.Gb(3),s.Tc(s.nc(9,8,"Show correct entries"))}}function O(t,e){1&t&&s.Ub(0,"mat-header-cell",43)}function R(t,e){if(1&t&&(s.Zb(0,"div"),s.Zb(1,"mat-icon",44),s.mc(2,"translate"),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc().$implicit,e=s.lc(2);s.Gb(1),s.wc("matTooltip","",t.errors.length," ",s.nc(2,3,"errors"),""),s.Gb(2),s.Uc(" ",e.getActionIcon(t)," ")}}function j(t,e){if(1&t&&(s.Zb(0,"div"),s.Zb(1,"mat-icon",45),s.mc(2,"translate"),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc().$implicit,e=s.lc(2);s.Gb(1),s.uc("matTooltip",s.nc(2,2,"Statute paragraph will be imported")),s.Gb(2),s.Uc(" ",e.getActionIcon(t)," ")}}function A(t,e){if(1&t&&(s.Zb(0,"div"),s.Zb(1,"mat-icon",45),s.mc(2,"translate"),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc().$implicit,e=s.lc(2);s.Gb(1),s.uc("matTooltip",s.nc(2,2,"Statute paragraph has been imported")),s.Gb(2),s.Uc(" ",e.getActionIcon(t)," ")}}function H(t,e){if(1&t&&(s.Zb(0,"mat-cell",43),s.Qc(1,R,4,5,"div",20),s.Qc(2,j,4,4,"div",20),s.Qc(3,A,4,4,"div",20),s.Yb()),2&t){const t=e.$implicit;s.Gb(1),s.tc("ngIf","error"===t.status),s.Gb(1),s.tc("ngIf","new"===t.status),s.Gb(1),s.tc("ngIf","done"===t.status)}}function V(t,e){1&t&&(s.Zb(0,"mat-header-cell"),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Gb(1),s.Tc(s.nc(2,1,"Title")))}function N(t,e){if(1&t&&(s.Zb(0,"mat-icon",47),s.mc(1,"translate"),s.Sc(2," warning "),s.Yb()),2&t){const t=s.lc(3);s.uc("matTooltip",s.nc(1,1,t.getVerboseError("Title")))}}function _(t,e){if(1&t&&(s.Zb(0,"mat-cell"),s.Qc(1,N,3,3,"mat-icon",46),s.Sc(2),s.Yb()),2&t){const t=e.$implicit,n=s.lc(2);s.Gb(1),s.tc("ngIf",n.hasError(t,"Title")),s.Gb(1),s.Uc(" ",t.newEntry.title," ")}}function q(t,e){1&t&&(s.Zb(0,"mat-header-cell"),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Gb(1),s.Tc(s.nc(2,1,"Text")))}function $(t,e){if(1&t&&(s.Zb(0,"mat-icon",47),s.mc(1,"translate"),s.Sc(2," warning "),s.Yb()),2&t){const t=s.lc(3);s.uc("matTooltip",s.nc(1,1,t.getVerboseError("Text")))}}function X(t,e){if(1&t&&(s.Zb(0,"mat-cell",45),s.Qc(1,$,3,3,"mat-icon",46),s.Sc(2),s.Yb()),2&t){const t=e.$implicit,n=s.lc(2);s.uc("matTooltip",n.getLongPreview(t.newEntry.text)),s.Gb(1),s.tc("ngIf",n.hasError(t,"Text")),s.Gb(1),s.Uc(" ",n.getShortPreview(t.newEntry.text)," ")}}function K(t,e){1&t&&s.Ub(0,"mat-header-row")}function z(t,e){if(1&t&&s.Ub(0,"mat-row",48),2&t){const t=e.$implicit,n=s.lc(2);s.tc("ngClass",n.getStateClass(t))}}function W(t,e){if(1&t&&(s.Zb(0,"mat-card",4),s.Zb(1,"h3"),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Zb(4,"div",19),s.Qc(5,D,9,4,"div",20),s.Qc(6,P,9,4,"div",21),s.Qc(7,U,9,4,"div",22),s.Yb(),s.Qc(8,F,4,3,"div",20),s.Zb(9,"div"),s.Qc(10,L,10,10,"mat-select",23),s.Yb(),s.Zb(11,"div",24),s.Zb(12,"table",25),s.Xb(13,26),s.Qc(14,O,1,0,"mat-header-cell",27),s.Qc(15,H,4,3,"mat-cell",28),s.Wb(),s.Xb(16,29),s.Qc(17,V,3,3,"mat-header-cell",30),s.Qc(18,_,3,2,"mat-cell",31),s.Wb(),s.Xb(19,32),s.Qc(20,q,3,3,"mat-header-cell",30),s.Qc(21,X,3,3,"mat-cell",33),s.Wb(),s.Qc(22,K,1,0,"mat-header-row",34),s.Qc(23,z,1,1,"mat-row",35),s.Yb(),s.Yb(),s.Yb()),2&t){const t=s.lc();s.Gb(2),s.Tc(s.nc(3,9,"Preview")),s.Gb(3),s.tc("ngIf",t.newCount),s.Gb(1),s.tc("ngIf",t.nonImportableCount),s.Gb(1),s.tc("ngIf",t.doneCount),s.Gb(1),s.tc("ngIf",t.newCount),s.Gb(2),s.tc("ngIf",t.nonImportableCount),s.Gb(2),s.tc("dataSource",t.dataSource),s.Gb(10),s.tc("matHeaderRowDef",t.getColumnDefinition()),s.Gb(1),s.tc("matRowDefColumns",t.getColumnDefinition())}}let J=(()=>{class t extends i.a{constructor(t,e,n,a,c){super(a,t,n,e),this.statuteCSVExport=c}downloadCsvExample(){this.statuteCSVExport.exportDummyCSV()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(v.d),s.Tb(h.a),s.Tb(l.k),s.Tb(g),s.Tb(b))},t.\u0275cmp=s.Nb({type:t,selectors:[["os-statute-import-list"]],features:[s.Db],decls:54,vars:37,consts:[[3,"nav"],[1,"title-slot"],[1,"menu-slot"],["mat-button","",3,"click",4,"ngIf"],[1,"os-form-card","import-table","spacer-bottom-60"],[1,"code","red-warning-text"],["mat-button","","color","accent",3,"click"],[1,"wrapper"],[1,"selection",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["value","",1,"selection",3,"selectionChange"],["value",'"',1,"selection",3,"selectionChange"],["id","statute-import-file-input","type","file","accept","text",1,"hidden-input",3,"change"],["fileInput",""],["mat-button","","osAutofocus","","onclick","document.getElementById('statute-import-file-input').click()"],["class","os-form-card import-table spacer-bottom-60",4,"ngIf"],["mat-button","",3,"click"],[1,"upper"],[3,"value"],[1,"summary"],[4,"ngIf"],["class","red-warning-text",4,"ngIf"],["class","green-text",4,"ngIf"],["class","filter-imports",3,"value","valueChange","selectionChange",4,"ngIf"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","status","sticky",""],["class","first-column",4,"matHeaderCellDef"],["class","first-column",4,"matCellDef"],["matColumnDef","title"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","text"],[3,"matTooltip",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngClass",4,"matRowDef","matRowDefColumns"],["inline",""],[1,"red-warning-text"],[1,"green-text"],[1,"filter-imports",3,"value","valueChange","selectionChange"],["value","all"],["value","error"],["value","noerror"],[1,"first-column"],[1,"red-warning-text",3,"matTooltip"],[3,"matTooltip"],["color","warn",3,"matTooltip",4,"ngIf"],["color","warn",3,"matTooltip"],[3,"ngClass"]],template:function(t,e){1&t&&(s.Zb(0,"os-head-bar",0),s.Zb(1,"div",1),s.Zb(2,"h2"),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Yb(),s.Zb(5,"div",2),s.Qc(6,M,4,3,"button",3),s.Yb(),s.Yb(),s.Zb(7,"mat-card",4),s.Zb(8,"span"),s.Sc(9),s.mc(10,"translate"),s.Yb(),s.Ub(11,"br"),s.Zb(12,"div",5),s.Zb(13,"span"),s.Sc(14),s.mc(15,"translate"),s.Yb(),s.Sc(16,", "),s.Zb(17,"span"),s.Sc(18),s.mc(19,"translate"),s.Yb(),s.Yb(),s.Zb(20,"ul"),s.Zb(21,"li"),s.Sc(22),s.mc(23,"translate"),s.Yb(),s.Yb(),s.Zb(24,"button",6),s.hc("click",(function(){return e.downloadCsvExample()})),s.Sc(25),s.mc(26,"translate"),s.Yb(),s.Zb(27,"div",7),s.Zb(28,"mat-form-field"),s.Zb(29,"mat-label"),s.Sc(30),s.mc(31,"translate"),s.Yb(),s.Zb(32,"mat-select",8),s.hc("selectionChange",(function(t){return e.selectEncoding(t)})),s.Qc(33,C,3,4,"mat-option",9),s.Yb(),s.Yb(),s.Zb(34,"mat-form-field"),s.Zb(35,"mat-label"),s.Sc(36),s.mc(37,"translate"),s.Yb(),s.Zb(38,"mat-select",10),s.hc("selectionChange",(function(t){return e.selectColSep(t)})),s.Qc(39,B,3,4,"mat-option",9),s.Yb(),s.Yb(),s.Zb(40,"mat-form-field"),s.Zb(41,"mat-label"),s.Sc(42),s.mc(43,"translate"),s.Yb(),s.Zb(44,"mat-select",11),s.hc("selectionChange",(function(t){return e.selectTextSep(t)})),s.Qc(45,Q,3,4,"mat-option",9),s.Yb(),s.Yb(),s.Yb(),s.Zb(46,"div"),s.Zb(47,"input",12,13),s.hc("change",(function(t){return e.onSelectFile(t)})),s.Yb(),s.Zb(49,"button",14),s.Zb(50,"span"),s.Sc(51),s.mc(52,"translate"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Qc(53,W,24,11,"mat-card",15)),2&t&&(s.tc("nav",!1),s.Gb(3),s.Tc(s.nc(4,17,"Import statute")),s.Gb(3),s.tc("ngIf",e.hasFile&&e.newCount),s.Gb(3),s.Tc(s.nc(10,19,"Required comma or semicolon separated values with these column header names in the first row:")),s.Gb(5),s.Tc(s.nc(15,21,"Title")),s.Gb(4),s.Tc(s.nc(19,23,"Text")),s.Gb(4),s.Uc(" ",s.nc(23,25,"Additional columns after the required ones may be present and will not affect the import.")," "),s.Gb(3),s.Uc(" ",s.nc(26,27,"Download CSV example file")," "),s.Gb(5),s.Tc(s.nc(31,29,"Encoding of the file")),s.Gb(2),s.tc("value",e.encodings[0].value),s.Gb(1),s.tc("ngForOf",e.encodings),s.Gb(3),s.Tc(s.nc(37,31,"Column separator")),s.Gb(3),s.tc("ngForOf",e.columnSeparators),s.Gb(3),s.Tc(s.nc(43,33,"Text separator")),s.Gb(3),s.tc("ngForOf",e.textSeparators),s.Gb(6),s.Tc(s.nc(52,35,"Select file")),s.Gb(2),s.tc("ngIf",e.hasFile))},directives:[S.a,a.t,Y.a,Z.b,w.c,w.g,T.a,a.s,G.a,x.n,k.n,I.a,k.c,k.i,k.b,k.k,k.m,E.a,k.h,k.a,y.c,k.j,k.l,a.q],pipes:[l.j],encapsulation:2}),t})();var tt=n("3Pt+"),et=n("F48D"),nt=n("Izkr"),at=n("mV3u"),ct=n("0IaG"),ot=n("STbY"),it=n("vxfF"),rt=n("7EHt"),st=n("3Xi6"),lt=n("qFsG"),bt=n("fB2i"),ut=n("7jBc");const mt=["statuteParagraphDialog"];function dt(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-expansion-panel",11),s.Zb(1,"mat-expansion-panel-header"),s.Zb(2,"mat-panel-title"),s.Sc(3),s.Yb(),s.Yb(),s.Zb(4,"mat-card"),s.Zb(5,"mat-card-title"),s.Sc(6),s.Yb(),s.Zb(7,"mat-card-content"),s.Ub(8,"div",12),s.mc(9,"trust"),s.Yb(),s.Yb(),s.Zb(10,"mat-action-row"),s.Zb(11,"button",13),s.hc("click",(function(){s.Ic(t);const n=e.$implicit;return s.lc().openDialog(n)})),s.Zb(12,"mat-icon"),s.Sc(13,"edit"),s.Yb(),s.Yb(),s.Zb(14,"button",13),s.hc("click",(function(){s.Ic(t);const n=e.$implicit;return s.lc().onDeleteButton(n)})),s.Zb(15,"mat-icon"),s.Sc(16,"delete"),s.Yb(),s.Yb(),s.Yb(),s.Yb()}if(2&t){const t=e.$implicit;s.Gb(3),s.Uc(" ",t.title," "),s.Gb(3),s.Tc(t.title),s.Gb(2),s.tc("innerHTML",s.oc(9,3,t.text,"html"),s.Jc)}}function pt(t,e){1&t&&(s.Zb(0,"mat-card"),s.Zb(1,"mat-card-content"),s.Zb(2,"div",14),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Yb(),s.Yb()),2&t&&(s.Gb(3),s.Tc(s.nc(4,1,"No statute paragraphs")))}function ft(t,e){1&t&&(s.Zb(0,"button",15),s.Zb(1,"mat-icon"),s.Sc(2,"cloud_upload"),s.Yb(),s.Zb(3,"span"),s.Sc(4),s.mc(5,"translate"),s.Yb(),s.Yb()),2&t&&(s.Gb(4),s.Tc(s.nc(5,1,"Import")))}function ht(t,e){1&t&&(s.Zb(0,"span"),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Gb(1),s.Tc(s.nc(2,1,"Edit statute paragraph")))}function gt(t,e){1&t&&(s.Zb(0,"span"),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Gb(1),s.Tc(s.nc(2,1,"New statute paragraph")))}function vt(t,e){1&t&&(s.Zb(0,"mat-hint"),s.Zb(1,"span"),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Yb()),2&t&&(s.Gb(2),s.Tc(s.nc(3,1,"Required")))}function St(t,e){if(1&t){const t=s.ac();s.Zb(0,"h1",16),s.Qc(1,ht,3,3,"span",6),s.Qc(2,gt,3,3,"span",6),s.Yb(),s.Zb(3,"div",17),s.Zb(4,"form",18),s.hc("keydown",(function(e){return s.Ic(t),s.lc().onKeyDown(e)})),s.Zb(5,"p"),s.Zb(6,"mat-form-field"),s.Ub(7,"input",19),s.mc(8,"translate"),s.Qc(9,vt,4,3,"mat-hint",6),s.Yb(),s.Yb(),s.Zb(10,"span"),s.Zb(11,"h4"),s.Sc(12),s.mc(13,"translate"),s.Yb(),s.Ub(14,"editor",20),s.Yb(),s.Yb(),s.Yb(),s.Zb(15,"div",21),s.Zb(16,"button",22),s.Zb(17,"span"),s.Sc(18),s.mc(19,"translate"),s.Yb(),s.Yb(),s.Zb(20,"button",23),s.Zb(21,"span"),s.Sc(22),s.mc(23,"translate"),s.Yb(),s.Yb(),s.Yb()}if(2&t){const t=s.lc();s.Gb(1),s.tc("ngIf",t.currentStatuteParagraph),s.Gb(1),s.tc("ngIf",!t.currentStatuteParagraph),s.Gb(2),s.tc("formGroup",t.statuteParagraphForm),s.Gb(3),s.uc("placeholder",s.nc(8,12,"Title")),s.Gb(2),s.tc("ngIf",!t.statuteParagraphForm.controls.title.valid),s.Gb(3),s.Tc(s.nc(13,14,"Statute paragraph")),s.Gb(2),s.tc("init",t.tinyMceSettings),s.Gb(2),s.tc("mat-dialog-close",!0)("disabled",!t.statuteParagraphForm.valid),s.Gb(2),s.Tc(s.nc(19,16,"Save")),s.Gb(2),s.tc("mat-dialog-close",!1),s.Gb(2),s.Tc(s.nc(23,18,"Cancel"))}}const Yt=[{path:"",component:(()=>{class t extends at.a{constructor(t,e,n,a,c,o,i,r){super(t,e,n),this.translate=e,this.repo=a,this.formBuilder=c,this.promptService=o,this.dialog=i,this.csvExportService=r,this.statuteParagraphs=[],this.statuteParagraphForm=this.formBuilder.group({title:["",tt.G.required],text:["",tt.G.required]})}ngOnInit(){super.setTitle("Statute"),this.repo.getViewModelListObservable().subscribe(t=>{this.statuteParagraphs=t})}openDialog(t){this.currentStatuteParagraph=t,this.statuteParagraphForm.reset(),t&&this.statuteParagraphForm.setValue({title:t.title,text:t.text}),this.dialogRef=this.dialog.open(this.statuteParagraphDialog,nt.b),this.dialogRef.afterClosed().subscribe(t=>{t&&this.save()})}save(){if(this.statuteParagraphForm.valid){if(this.currentStatuteParagraph)this.repo.update(this.statuteParagraphForm.value,this.currentStatuteParagraph).catch(this.raiseError);else{const t=new p.a(this.statuteParagraphForm.value);this.repo.create(t).catch(this.raiseError)}this.statuteParagraphForm.reset()}}onDeleteButton(t){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to delete this statute paragraph?"),n=t.title;(yield this.promptService.open(e,n))&&this.repo.delete(t).catch(this.raiseError)}))}sortStatuteParagraphs(){console.log("Not yet implemented. Depends on other Features")}onKeyDown(t){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}onCsvExport(){this.csvExportService.exportStatutes(this.statuteParagraphs)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(v.d),s.Tb(l.k),s.Tb(h.a),s.Tb(m.a),s.Tb(tt.f),s.Tb(et.a),s.Tb(ct.b),s.Tb(b))},t.\u0275cmp=s.Nb({type:t,selectors:[["os-statute-paragraph-list"]],viewQuery:function(t,e){var n;1&t&&s.Oc(mt,!0),2&t&&s.Dc(n=s.ic())&&(e.statuteParagraphDialog=n.first)},features:[s.Db],decls:25,vars:12,consts:[["prevUrl","../..",3,"nav","hasMainButton","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["itemSize","50",1,"statute-vscroll-wrapper"],["multiple","false",4,"cdkVirtualFor","cdkVirtualForOf"],[4,"ngIf"],["commentMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","import",4,"osPerms"],["statuteParagraphDialog",""],["multiple","false"],[3,"innerHTML"],["mat-button","","mat-icon-button","",3,"click"],[1,"no-content"],["mat-menu-item","","routerLink","import"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["formControlName","title","matInput","","required","",3,"placeholder"],["formControlName","text",3,"init"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close","disabled"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){if(1&t&&(s.Zb(0,"os-head-bar",0),s.hc("mainEvent",(function(){return e.openDialog()})),s.Zb(1,"div",1),s.Zb(2,"h2"),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Yb(),s.Zb(5,"div",2),s.Zb(6,"button",3),s.Zb(7,"mat-icon"),s.Sc(8,"more_vert"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(9,"cdk-virtual-scroll-viewport",4),s.Zb(10,"mat-card"),s.Zb(11,"mat-accordion"),s.Qc(12,dt,17,6,"mat-expansion-panel",5),s.Yb(),s.Yb(),s.Yb(),s.Qc(13,pt,5,3,"mat-card",6),s.Zb(14,"mat-menu",null,7),s.Zb(16,"button",8),s.hc("click",(function(){return e.onCsvExport()})),s.Zb(17,"mat-icon"),s.Sc(18,"archive"),s.Yb(),s.Zb(19,"span"),s.Sc(20),s.mc(21,"translate"),s.Yb(),s.Yb(),s.Qc(22,ft,6,3,"button",9),s.Yb(),s.Qc(23,St,24,20,"ng-template",null,10,s.Rc)),2&t){const t=s.Ec(15);s.tc("nav",!1)("hasMainButton",!0),s.Gb(3),s.Tc(s.nc(4,8,"Statute")),s.Gb(3),s.tc("matMenuTriggerFor",t),s.Gb(6),s.tc("cdkVirtualForOf",e.statuteParagraphs),s.Gb(1),s.tc("ngIf",0===e.statuteParagraphs.length),s.Gb(7),s.Tc(s.nc(21,10,"Export as CSV")),s.Gb(2),s.tc("osPerms","motions.can_manage")}},directives:[S.a,Z.b,ot.e,E.a,it.e,it.a,Y.a,rt.a,it.d,a.t,ot.f,ot.c,st.a,rt.c,rt.g,rt.h,Y.m,Y.d,rt.d,o.g,ct.i,ct.f,tt.I,tt.t,tt.k,w.c,tt.c,lt.b,tt.s,tt.i,tt.D,bt.a,ct.c,ct.d,w.f],pipes:[l.j,ut.a],styles:[".statute-vscroll-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.statute-vscroll-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{margin-bottom:20px}.statute-vscroll-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})(),pathMatch:"full"},{path:"import",component:J}];let Zt=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(Yt)],o.j]}),t})(),wt=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},imports:[[a.c,Zt,c.a]]}),t})()},mksl:function(t,e,n){"use strict";n.d(e,"a",(function(){return M}));var a=n("fXoL"),c=n("VR2Q"),o=n("7dBR"),i=n("gsQk"),r=n("KL36"),s=n("tyNb"),l=n("/t3+"),b=n("ofXK"),u=n("bTqV"),m=n("NFeN"),d=n("Qu3c"),p=n("sYmb");function f(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",12),a.hc("click",(function(){return a.Ic(t),a.lc().clickHamburgerMenu()})),a.Zb(1,"mat-icon"),a.Sc(2,"menu"),a.Yb(),a.Yb()}}function h(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",12),a.hc("click",(function(){return a.Ic(t),a.lc().onBackButton()})),a.Zb(1,"mat-icon"),a.Sc(2,"arrow_back"),a.Yb(),a.Yb()}}function g(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",12),a.hc("click",(function(){a.Ic(t);const e=a.lc();return e.isCancelEditUsed?e.sendCancelEditEvent():e.sendMainEvent()})),a.Zb(1,"mat-icon"),a.Sc(2,"close"),a.Yb(),a.Yb()}}function v(t,e){1&t&&(a.Zb(0,"div",13),a.rc(1,1),a.Yb())}function S(t,e){1&t&&a.Ub(0,"div",6)}function Y(t,e){1&t&&(a.Zb(0,"div",14),a.rc(1,2),a.Yb())}function Z(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",12),a.hc("click",(function(){return a.Ic(t),a.lc().openSearch()})),a.Zb(1,"mat-icon"),a.Sc(2,"search"),a.Yb(),a.Yb()}}function w(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",15),a.hc("click",(function(){return a.Ic(t),a.lc().sendMainEvent()})),a.mc(1,"translate"),a.Zb(2,"mat-icon"),a.Sc(3),a.Yb(),a.Yb()}if(2&t){const t=a.lc();a.uc("matTooltip",a.nc(1,3,t.mainActionTooltip)),a.tc("disabled",!t.isMainButtonEnabled),a.Gb(3),a.Tc(t.mainButtonIcon)}}function T(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",16),a.hc("click",(function(){return a.Ic(t),a.lc().save()})),a.Zb(1,"strong",17),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Yb()}if(2&t){const t=a.lc();a.tc("disabled",!t.isSaveButtonEnabled),a.Gb(2),a.Tc(a.nc(3,2,t.saveText))}}function G(t,e){1&t&&a.rc(0,3,["*ngIf","!editMode"])}function x(t,e){1&t&&(a.Zb(0,"mat-icon"),a.Sc(1," add "),a.Yb())}function k(t,e){if(1&t&&(a.Zb(0,"mat-icon"),a.Sc(1),a.Yb()),2&t){const t=a.lc(2);a.Gb(1),a.Uc(" ",t.mainButtonIcon," ")}}function I(t,e){if(1&t){const t=a.ac();a.Zb(0,"button",18),a.hc("click",(function(){return a.Ic(t),a.lc().sendMainEvent()})),a.mc(1,"translate"),a.Qc(2,x,2,0,"mat-icon",10),a.Qc(3,k,2,1,"mat-icon",10),a.Yb()}if(2&t){const t=a.lc();a.uc("matTooltip",a.nc(1,4,t.mainActionTooltip)),a.tc("disabled",!t.isMainButtonEnabled),a.Gb(2),a.tc("ngIf","add_circle"===t.mainButtonIcon),a.Gb(1),a.tc("ngIf","add_circle"!==t.mainButtonIcon)}}const E=[[["",8,"extra-controls-slot"]],[["",8,"title-slot"]],[["",8,"central-info-slot"]],[["",8,"menu-slot"]]],y=[".extra-controls-slot",".title-slot",".central-info-slot",".menu-slot"];let M=(()=>{class t{constructor(t,e,n,c,o,i){this.vp=t,this.menu=e,this.router=n,this.route=c,this.routingState=o,this.overlayService=i,this.nav=!0,this.mainButtonIcon="add_circle",this.saveText="Save",this.editMode=!1,this.isSearchEnabled=!0,this.isSaveButtonEnabled=!0,this.multiSelectMode=!1,this.hasMainButton=!1,this.isMainButtonEnabled=!0,this.goBack=!1,this.prevUrl="../",this.mainEvent=new a.p,this.cancelEditEvent=new a.p,this.isCancelEditUsed=!1,this.saveEvent=new a.p}get showBackButton(){return!this.nav&&!this.multiSelectMode&&(this.routingState.isSafePrevUrl||!this.goBack)}ngOnInit(){this.isCancelEditUsed=this.cancelEditEvent.observers.length>0}sendMainEvent(){this.mainEvent.next()}sendCancelEditEvent(){this.cancelEditEvent.next()}clickHamburgerMenu(){this.menu.toggleMenu()}save(){this.saveEvent.next(!0)}openSearch(){this.overlayService.showSearch()}onBackButton(){this.goBack?this.routingState.goBack():this.router.navigate(this.routingState.customOrigin&&this.routingState.customOrigin!==this.router.url?[this.routingState.customOrigin]:[this.prevUrl],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(r.a),a.Tb(c.a),a.Tb(s.f),a.Tb(s.a),a.Tb(i.a),a.Tb(o.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["os-head-bar"]],inputs:{nav:"nav",mainButtonIcon:"mainButtonIcon",saveText:"saveText",editMode:"editMode",isSearchEnabled:"isSearchEnabled",isSaveButtonEnabled:"isSaveButtonEnabled",multiSelectMode:"multiSelectMode",hasMainButton:"hasMainButton",isMainButtonEnabled:"isMainButtonEnabled",goBack:"goBack",prevUrl:"prevUrl",mainActionTooltip:"mainActionTooltip"},outputs:{mainEvent:"mainEvent",cancelEditEvent:"cancelEditEvent",saveEvent:"saveEvent"},ngContentSelectors:y,decls:16,vars:12,consts:[["color","primary",1,"sticky-toolbar",3,"ngClass"],[1,"toolbar-left"],["mat-icon-button","",3,"click",4,"ngIf"],["class","toolbar-left-text",4,"ngIf"],["class","spacer",4,"ngIf"],["class","toolbar-centered",4,"ngIf"],[1,"spacer"],[1,"toolbar-right"],["mat-icon-button","",3,"disabled","matTooltip","click",4,"ngIf"],["mat-button","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["mat-fab","","class","head-button",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"toolbar-left-text"],[1,"toolbar-centered"],["mat-icon-button","",3,"disabled","matTooltip","click"],["mat-button","",3,"disabled","click"],[1,"upper"],["mat-fab","",1,"head-button",3,"disabled","matTooltip","click"]],template:function(t,e){1&t&&(a.sc(E),a.Zb(0,"mat-toolbar",0),a.Zb(1,"div",1),a.Qc(2,f,3,0,"button",2),a.Qc(3,h,3,0,"button",2),a.Qc(4,g,3,0,"button",2),a.Qc(5,v,2,0,"div",3),a.Yb(),a.Qc(6,S,1,0,"div",4),a.Qc(7,Y,2,0,"div",5),a.Ub(8,"div",6),a.Qc(9,Z,3,0,"button",2),a.Zb(10,"div",7),a.rc(11),a.Qc(12,w,4,5,"button",8),a.Qc(13,T,4,4,"button",9),a.Qc(14,G,1,0,void 0,10),a.Yb(),a.Yb(),a.Qc(15,I,4,6,"button",11)),2&t&&(a.tc("ngClass",e.multiSelectMode?"multi-select":""),a.Gb(2),a.tc("ngIf",e.vp.isMobile&&!e.showBackButton&&!e.editMode),a.Gb(1),a.tc("ngIf",e.showBackButton&&!e.editMode),a.Gb(1),a.tc("ngIf",e.editMode),a.Gb(1),a.tc("ngIf",!e.multiSelectMode),a.Gb(1),a.tc("ngIf",!e.multiSelectMode),a.Gb(1),a.tc("ngIf",e.multiSelectMode),a.Gb(2),a.tc("ngIf",!e.editMode&&e.isSearchEnabled),a.Gb(3),a.tc("ngIf",e.hasMainButton&&!e.editMode&&!e.vp.isMobile&&!e.multiSelectMode),a.Gb(1),a.tc("ngIf",e.editMode),a.Gb(1),a.tc("ngIf",!e.editMode),a.Gb(1),a.tc("ngIf",e.hasMainButton&&!e.editMode&&e.vp.isMobile&&!e.multiSelectMode))},directives:[l.a,b.q,b.t,u.b,m.a,d.c],pipes:[p.j],styles:[".head-button{position:fixed;z-index:10;right:20px;bottom:55px}.sticky-toolbar{top:0;z-index:5;position:-webkit-sticky;position:sticky;height:64px!important}.sticky-toolbar .toolbar-left{display:-ms-flexbox;display:flex;max-width:calc(100% - 100px)}.sticky-toolbar .toolbar-left button{margin:12px 0}.sticky-toolbar .toolbar-left .toolbar-left-text{margin-left:10px;width:100%;overflow:hidden}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot{margin:16px 0;display:block}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot h2{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sticky-toolbar .toolbar-centered{margin:auto;vertical-align:baseline}.sticky-toolbar .toolbar-right,.sticky-toolbar .toolbar-right .extra-controls-slot{display:-ms-flexbox;display:flex}mat-toolbar.multi-select{background-color:#757575!important}"],encapsulation:2}),t})()}}]);