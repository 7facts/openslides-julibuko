function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=_superPropBase(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[31,36],{"9SSD":function(t,e,n){"use strict";n.r(e),n.d(e,"MotionCommentSectionModule",(function(){return A}));var o=n("ofXK"),i=n("PCNd"),c=n("tyNb"),a=n("mrSG"),r=n("3Pt+"),s=n("+B0n"),l=n("R+Vs"),u=n("F48D"),b=n("VWaU"),d=n("Izkr"),m=n("mV3u"),f=n("fXoL"),p=n("jhN1"),h=n("sYmb"),g=n("dNgK"),v=n("0IaG"),y=n("mksl"),_=n("bTqV"),k=n("STbY"),S=n("NFeN"),Y=n("7EHt"),Z=n("vYAO"),w=n("kmnG"),G=n("qFsG"),T=n("oqD5"),C=["motionCommentDialog"];function M(t,e){1&t&&(f.Xb(0),f.Sc(1," \u2013 "),f.Wb())}function I(t,e){1&t&&(f.Xb(0),f.Sc(1," \u2013 "),f.Wb())}function E(t,e){if(1&t&&(f.Zb(0,"ul"),f.Zb(1,"li"),f.Sc(2),f.Yb(),f.Yb()),2&t){var n=e.$implicit;f.Gb(2),f.Tc(n.getTitle())}}function O(t,e){1&t&&(f.Zb(0,"div",18),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Gb(1),f.Tc(f.nc(2,1,"No groups selected")))}function B(t,e){if(1&t&&(f.Zb(0,"ul"),f.Zb(1,"li"),f.Sc(2),f.Yb(),f.Yb()),2&t){var n=e.$implicit;f.Gb(2),f.Tc(n.getTitle())}}function x(t,e){1&t&&(f.Zb(0,"div",18),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Gb(1),f.Tc(f.nc(2,1,"No groups selected")))}function P(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-expansion-panel",10),f.Zb(1,"mat-expansion-panel-header"),f.Zb(2,"mat-panel-title"),f.Zb(3,"div",11),f.Zb(4,"div",12),f.Sc(5),f.Yb(),f.Zb(6,"div",13),f.Zb(7,"os-icon-container",14),f.Sc(8),f.Qc(9,M,2,0,"ng-container",15),f.Yb(),f.Yb(),f.Zb(10,"div",16),f.Zb(11,"os-icon-container",17),f.Sc(12),f.Qc(13,I,2,0,"ng-container",15),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Zb(14,"h3"),f.Sc(15),f.mc(16,"translate"),f.Yb(),f.Zb(17,"div",18),f.Sc(18),f.Yb(),f.Zb(19,"h3"),f.Sc(20),f.mc(21,"translate"),f.Yb(),f.Qc(22,E,3,1,"ul",19),f.Qc(23,O,3,3,"div",20),f.Zb(24,"h3"),f.Sc(25),f.mc(26,"translate"),f.Yb(),f.Qc(27,B,3,1,"ul",19),f.Qc(28,x,3,3,"div",20),f.Zb(29,"mat-action-row"),f.Zb(30,"button",21),f.hc("click",(function(){f.Ic(n);var t=e.$implicit;return f.lc().openDialog(t)})),f.Zb(31,"mat-icon"),f.Sc(32,"edit"),f.Yb(),f.Yb(),f.Zb(33,"button",21),f.hc("click",(function(){f.Ic(n);var t=e.$implicit;return f.lc().onDeleteButton(t)})),f.Zb(34,"mat-icon"),f.Sc(35,"delete"),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&t){var o=e.$implicit;f.Gb(5),f.Uc(" ",o.name," "),f.Gb(3),f.Uc(" ",o.read_groups," "),f.Gb(1),f.tc("ngIf",0===o.read_groups.length),f.Gb(3),f.Uc(" ",o.write_groups," "),f.Gb(1),f.tc("ngIf",0===o.write_groups.length),f.Gb(2),f.Tc(f.nc(16,13,"Name")),f.Gb(3),f.Tc(o.name),f.Gb(2),f.Tc(f.nc(21,15,"Groups with read permissions")),f.Gb(2),f.tc("ngForOf",o.read_groups),f.Gb(1),f.tc("ngIf",0===o.read_groups.length),f.Gb(2),f.Tc(f.nc(26,17,"Groups with write permissions")),f.Gb(2),f.tc("ngForOf",o.write_groups),f.Gb(1),f.tc("ngIf",0===o.write_groups.length)}}function F(t,e){1&t&&(f.Zb(0,"span"),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Gb(1),f.Tc(f.nc(2,1,"Edit comment field")))}function R(t,e){1&t&&(f.Zb(0,"span"),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Gb(1),f.Tc(f.nc(2,1,"New comment field")))}function Q(t,e){1&t&&(f.Zb(0,"mat-error"),f.Zb(1,"span"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb()),2&t&&(f.Gb(2),f.Tc(f.nc(3,1,"Required")))}function N(t,e){if(1&t){var n=f.ac();f.Zb(0,"h1",22),f.Qc(1,F,3,3,"span",15),f.Qc(2,R,3,3,"span",15),f.Yb(),f.Zb(3,"div",23),f.Zb(4,"form",24),f.hc("keydown",(function(t){return f.Ic(n),f.lc().onKeyDown(t)})),f.Zb(5,"p"),f.Zb(6,"mat-form-field"),f.Ub(7,"input",25),f.mc(8,"translate"),f.Qc(9,Q,4,3,"mat-error",15),f.Yb(),f.Yb(),f.Zb(10,"p"),f.Zb(11,"mat-form-field"),f.Ub(12,"os-search-value-selector",26),f.mc(13,"translate"),f.Yb(),f.Yb(),f.Zb(14,"p"),f.Zb(15,"mat-form-field"),f.Ub(16,"os-search-value-selector",27),f.mc(17,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Zb(18,"div",28),f.Zb(19,"button",29),f.Zb(20,"span"),f.Sc(21),f.mc(22,"translate"),f.Yb(),f.Yb(),f.Zb(23,"button",30),f.Zb(24,"span"),f.Sc(25),f.mc(26,"translate"),f.Yb(),f.Yb(),f.Yb()}if(2&t){var o=f.lc();f.Gb(1),f.tc("ngIf",o.currentComment),f.Gb(1),f.tc("ngIf",!o.currentComment),f.Gb(2),f.tc("formGroup",o.commentFieldForm),f.Gb(3),f.uc("placeholder",f.nc(8,16,"Name")),f.Gb(2),f.tc("ngIf",!o.commentFieldForm.controls.name.valid),f.Gb(3),f.uc("placeholder",f.nc(13,18,"Groups with read permissions")),f.tc("multiple",!0)("inputListValues",o.groups),f.Gb(4),f.uc("placeholder",f.nc(17,20,"Groups with write permissions")),f.tc("multiple",!0)("inputListValues",o.groups),f.Gb(3),f.tc("disabled",o.commentFieldForm.invalid)("mat-dialog-close",!0),f.Gb(2),f.Tc(f.nc(22,22,"Save")),f.Gb(2),f.tc("mat-dialog-close",!1),f.Gb(2),f.Tc(f.nc(26,24,"Cancel"))}}var D,j,U,L,V=((D=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,i,c,a,s,l,u){var b;return _classCallCheck(this,n),(b=e.call(this,t,o,i)).translate=o,b.repo=c,b.formBuilder=a,b.promptService=s,b.dialog=l,b.groupRepo=u,b.commentSections=[],b.commentFieldForm=b.formBuilder.group({name:["",r.G.required],read_groups_id:[[]],write_groups_id:[[]]}),b}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;_get(_getPrototypeOf(n.prototype),"setTitle",this).call(this,"Comment fields"),this.groups=this.groupRepo.getViewModelListBehaviorSubject(),this.repo.getViewModelListObservable().subscribe((function(e){return t.commentSections=e}))}},{key:"onKeyDown",value:function(t,e){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}},{key:"openDialog",value:function(t){var e=this;this.currentComment=t,this.commentFieldForm.reset({name:t?t.name:"",read_groups_id:t?t.read_groups_id:[],write_groups_id:t?t.write_groups_id:[]}),this.dialogRef=this.dialog.open(this.motionCommentDialog,d.a),this.dialogRef.afterClosed().subscribe((function(t){t&&e.save()}))}},{key:"save",value:function(){if(this.commentFieldForm.valid){if(this.currentComment)this.repo.update(this.commentFieldForm.value,this.currentComment).catch(this.raiseError);else{var t=new b.a(this.commentFieldForm.value);this.repo.create(t).catch(this.raiseError)}this.commentFieldForm.reset()}}},{key:"onDeleteButton",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.translate.instant("Are you sure you want to delete this comment field?"),o=t.name,e.next=3,this.promptService.open(n,o);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.repo.delete(t).catch(this.raiseError);case 6:case"end":return e.stop()}}),e,this)})))}}]),n}(m.a)).\u0275fac=function(t){return new(t||D)(f.Tb(p.d),f.Tb(h.k),f.Tb(g.a),f.Tb(s.a),f.Tb(r.f),f.Tb(u.a),f.Tb(v.b),f.Tb(l.a))},D.\u0275cmp=f.Nb({type:D,selectors:[["os-motion-comment-section-list"]],viewQuery:function(t,e){var n;1&t&&f.Oc(C,!0),2&t&&f.Dc(n=f.ic())&&(e.motionCommentDialog=n.first)},features:[f.Db],decls:22,vars:10,consts:[["prevUrl","../..",3,"nav","hasMainButton","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"head-spacer"],[1,"os-card"],["multiple","false",4,"ngFor","ngForOf"],["commentListMenu","matMenu"],["mat-menu-item","","routerLink","sort"],["motionCommentDialog",""],["multiple","false"],[1,"header-container"],[1,"name"],[1,"read"],["icon","visibility"],[4,"ngIf"],[1,"write"],["icon","edit"],[1,"spacer-left"],[4,"ngFor","ngForOf"],["class","spacer-left",4,"ngIf"],["mat-button","","mat-icon-button","",3,"click"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["formControlName","name","matInput","","required","",3,"placeholder"],["formControlName","read_groups_id",3,"multiple","placeholder","inputListValues"],["formControlName","write_groups_id",3,"multiple","placeholder","inputListValues"],["mat-dialog-actions",""],["mat-button","",3,"disabled","mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){if(1&t&&(f.Zb(0,"os-head-bar",0),f.hc("mainEvent",(function(){return e.openDialog()})),f.Zb(1,"div",1),f.Zb(2,"h2"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Yb(),f.Zb(5,"div",2),f.Zb(6,"button",3),f.Zb(7,"mat-icon"),f.Sc(8,"more_vert"),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Ub(9,"div",4),f.Zb(10,"mat-accordion",5),f.Qc(11,P,36,19,"mat-expansion-panel",6),f.Yb(),f.Zb(12,"mat-menu",null,7),f.Zb(14,"button",8),f.Zb(15,"mat-icon"),f.Sc(16,"sort"),f.Yb(),f.Zb(17,"span"),f.Sc(18),f.mc(19,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Qc(20,N,27,26,"ng-template",null,9,f.Rc)),2&t){var n=f.Ec(13);f.tc("nav",!1)("hasMainButton",!0),f.Gb(3),f.Tc(f.nc(4,6,"Comment fields")),f.Gb(3),f.tc("matMenuTriggerFor",n),f.Gb(5),f.tc("ngForOf",e.commentSections),f.Gb(7),f.Tc(f.nc(19,8,"Sort"))}},directives:[y.a,_.b,k.e,S.a,Y.a,o.s,k.f,k.c,c.g,Y.c,Y.g,Y.h,Z.a,o.t,Y.d,v.i,v.f,r.I,r.t,r.k,w.c,r.c,G.b,r.s,r.i,r.D,T.a,v.c,v.d,w.b],pipes:[h.j],styles:[".head-spacer[_ngcontent-%COMP%]{width:100%;height:60px;line-height:60px;text-align:right;background:#fff;border-bottom:1px solid rgba(0,0,0,.12)}mat-card[_ngcontent-%COMP%]{margin-bottom:20px}.header-container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-template-columns:33.333% 33.333% 33.333%;width:100%}.header-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:span 1;grid-column-end:span 1}.header-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-column-start:1}.header-container[_ngcontent-%COMP%]   .read[_ngcontent-%COMP%]{grid-column-start:2}.header-container[_ngcontent-%COMP%]   .write[_ngcontent-%COMP%]{grid-column-start:3}h3[_ngcontent-%COMP%]{display:block;margin-top:12px;margin-bottom:3px;font-size:90%;color:grey}.spacer-left[_ngcontent-%COMP%]{margin-left:40px}"]}),D),q=n("Wp6s"),X=n("IBZR"),K=[{path:"",component:V,pathMatch:"full"},{path:"sort",component:(j=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,i,c){var a,r;return _classCallCheck(this,n),(r=e.call(this,t,o,i)).repo=c,_get((a=_assertThisInitialized(r),_getPrototypeOf(n.prototype)),"setTitle",a).call(a,"Sort comments"),r}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this.repo.getViewModelListObservable().subscribe((function(e){return t.comments=e}))}},{key:"onSortingChange",value:function(t){this.repo.sortCommentSections(t).catch(this.raiseError)}}]),n}(m.a),j.\u0275fac=function(t){return new(t||j)(f.Tb(p.d),f.Tb(h.k),f.Tb(g.a),f.Tb(s.a))},j.\u0275cmp=f.Nb({type:j,selectors:[["os-motion-comment-section-sort"]],features:[f.Db],decls:8,vars:6,consts:[[3,"nav"],[1,"title-slot"],[1,"os-form-card"],[3,"live","input","sortEvent"],["sorter",""]],template:function(t,e){1&t&&(f.Zb(0,"os-head-bar",0),f.Zb(1,"div",1),f.Zb(2,"h2"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Zb(5,"mat-card",2),f.Zb(6,"os-sorting-list",3,4),f.hc("sortEvent",(function(t){return e.onSortingChange(t)})),f.Yb(),f.Yb()),2&t&&(f.tc("nav",!1),f.Gb(3),f.Tc(f.nc(4,4,"Sort comments")),f.Gb(3),f.tc("live",!0)("input",e.comments))},directives:[y.a,q.a,X.a],pipes:[h.j],styles:[""]}),j)}],z=((L=function t(){_classCallCheck(this,t)}).\u0275mod=f.Rb({type:L}),L.\u0275inj=f.Qb({factory:function(t){return new(t||L)},imports:[[c.j.forChild(K)],c.j]}),L),A=((U=function t(){_classCallCheck(this,t)}).\u0275mod=f.Rb({type:U}),U.\u0275inj=f.Qb({factory:function(t){return new(t||U)},imports:[[o.c,z,i.a]]}),U)},F48D:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("mrSG"),i=n("LBBb"),c=n("fXoL"),a=n("0IaG"),r=function(){var t=function(){function t(e){_classCallCheck(this,t),this.dialog=e}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.dialog.open(i.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return n.stop()}}),n,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.dc(a.b))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},LBBb:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("0IaG"),i=n("fXoL"),c=n("ofXK"),a=n("bTqV"),r=n("sYmb");function s(t,e){if(1&t&&(i.Zb(0,"div"),i.Zb(1,"h2",1),i.Sc(2),i.Yb(),i.Ub(3,"mat-dialog-content",2),i.Zb(4,"mat-dialog-actions"),i.Zb(5,"button",3),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Zb(8,"button",4),i.Sc(9),i.mc(10,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){var n=i.lc();i.Gb(2),i.Tc(n.data.title),i.Gb(1),i.tc("innerHTML",n.data.content,i.Jc),i.Gb(2),i.tc("mat-dialog-close",!0),i.Gb(1),i.Tc(i.nc(7,6,"Yes")),i.Gb(2),i.tc("mat-dialog-close",!1),i.Gb(1),i.Tc(i.nc(10,8,"Cancel"))}}var l=function(){var t=function t(e,n){_classCallCheck(this,t),this.dialogRef=e,this.data=n};return t.\u0275fac=function(e){return new(e||t)(i.Tb(o.h),i.Tb(o.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&i.Qc(0,s,11,10,"div",0),2&t&&i.tc("ngIf",e.data)},directives:[c.t,o.i,o.f,o.c,a.b,o.d],pipes:[r.j],encapsulation:2}),t}()},mksl:function(t,e,n){"use strict";n.d(e,"a",(function(){return I}));var o=n("fXoL"),i=n("VR2Q"),c=n("7dBR"),a=n("gsQk"),r=n("KL36"),s=n("tyNb"),l=n("/t3+"),u=n("ofXK"),b=n("bTqV"),d=n("NFeN"),m=n("Qu3c"),f=n("sYmb");function p(t,e){if(1&t){var n=o.ac();o.Zb(0,"button",12),o.hc("click",(function(){return o.Ic(n),o.lc().clickHamburgerMenu()})),o.Zb(1,"mat-icon"),o.Sc(2,"menu"),o.Yb(),o.Yb()}}function h(t,e){if(1&t){var n=o.ac();o.Zb(0,"button",12),o.hc("click",(function(){return o.Ic(n),o.lc().onBackButton()})),o.Zb(1,"mat-icon"),o.Sc(2,"arrow_back"),o.Yb(),o.Yb()}}function g(t,e){if(1&t){var n=o.ac();o.Zb(0,"button",12),o.hc("click",(function(){o.Ic(n);var t=o.lc();return t.isCancelEditUsed?t.sendCancelEditEvent():t.sendMainEvent()})),o.Zb(1,"mat-icon"),o.Sc(2,"close"),o.Yb(),o.Yb()}}function v(t,e){1&t&&(o.Zb(0,"div",13),o.rc(1,1),o.Yb())}function y(t,e){1&t&&o.Ub(0,"div",6)}function _(t,e){1&t&&(o.Zb(0,"div",14),o.rc(1,2),o.Yb())}function k(t,e){if(1&t){var n=o.ac();o.Zb(0,"button",12),o.hc("click",(function(){return o.Ic(n),o.lc().openSearch()})),o.Zb(1,"mat-icon"),o.Sc(2,"search"),o.Yb(),o.Yb()}}function S(t,e){if(1&t){var n=o.ac();o.Zb(0,"button",15),o.hc("click",(function(){return o.Ic(n),o.lc().sendMainEvent()})),o.mc(1,"translate"),o.Zb(2,"mat-icon"),o.Sc(3),o.Yb(),o.Yb()}if(2&t){var i=o.lc();o.uc("matTooltip",o.nc(1,3,i.mainActionTooltip)),o.tc("disabled",!i.isMainButtonEnabled),o.Gb(3),o.Tc(i.mainButtonIcon)}}function Y(t,e){if(1&t){var n=o.ac();o.Zb(0,"button",16),o.hc("click",(function(){return o.Ic(n),o.lc().save()})),o.Zb(1,"strong",17),o.Sc(2),o.mc(3,"translate"),o.Yb(),o.Yb()}if(2&t){var i=o.lc();o.tc("disabled",!i.isSaveButtonEnabled),o.Gb(2),o.Tc(o.nc(3,2,i.saveText))}}function Z(t,e){1&t&&o.rc(0,3,["*ngIf","!editMode"])}function w(t,e){1&t&&(o.Zb(0,"mat-icon"),o.Sc(1," add "),o.Yb())}function G(t,e){if(1&t&&(o.Zb(0,"mat-icon"),o.Sc(1),o.Yb()),2&t){var n=o.lc(2);o.Gb(1),o.Uc(" ",n.mainButtonIcon," ")}}function T(t,e){if(1&t){var n=o.ac();o.Zb(0,"button",18),o.hc("click",(function(){return o.Ic(n),o.lc().sendMainEvent()})),o.mc(1,"translate"),o.Qc(2,w,2,0,"mat-icon",10),o.Qc(3,G,2,1,"mat-icon",10),o.Yb()}if(2&t){var i=o.lc();o.uc("matTooltip",o.nc(1,4,i.mainActionTooltip)),o.tc("disabled",!i.isMainButtonEnabled),o.Gb(2),o.tc("ngIf","add_circle"===i.mainButtonIcon),o.Gb(1),o.tc("ngIf","add_circle"!==i.mainButtonIcon)}}var C=[[["",8,"extra-controls-slot"]],[["",8,"title-slot"]],[["",8,"central-info-slot"]],[["",8,"menu-slot"]]],M=[".extra-controls-slot",".title-slot",".central-info-slot",".menu-slot"],I=function(){var t=function(){function t(e,n,i,c,a,r){_classCallCheck(this,t),this.vp=e,this.menu=n,this.router=i,this.route=c,this.routingState=a,this.overlayService=r,this.nav=!0,this.mainButtonIcon="add_circle",this.saveText="Save",this.editMode=!1,this.isSearchEnabled=!0,this.isSaveButtonEnabled=!0,this.multiSelectMode=!1,this.hasMainButton=!1,this.isMainButtonEnabled=!0,this.goBack=!1,this.prevUrl="../",this.mainEvent=new o.p,this.cancelEditEvent=new o.p,this.isCancelEditUsed=!1,this.saveEvent=new o.p}return _createClass(t,[{key:"ngOnInit",value:function(){this.isCancelEditUsed=this.cancelEditEvent.observers.length>0}},{key:"sendMainEvent",value:function(){this.mainEvent.next()}},{key:"sendCancelEditEvent",value:function(){this.cancelEditEvent.next()}},{key:"clickHamburgerMenu",value:function(){this.menu.toggleMenu()}},{key:"save",value:function(){this.saveEvent.next(!0)}},{key:"openSearch",value:function(){this.overlayService.showSearch()}},{key:"onBackButton",value:function(){this.goBack?this.routingState.goBack():this.router.navigate(this.routingState.customOrigin&&this.routingState.customOrigin!==this.router.url?[this.routingState.customOrigin]:[this.prevUrl],{relativeTo:this.route})}},{key:"showBackButton",get:function(){return!this.nav&&!this.multiSelectMode&&(this.routingState.isSafePrevUrl||!this.goBack)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(r.a),o.Tb(i.a),o.Tb(s.f),o.Tb(s.a),o.Tb(a.a),o.Tb(c.a))},t.\u0275cmp=o.Nb({type:t,selectors:[["os-head-bar"]],inputs:{nav:"nav",mainButtonIcon:"mainButtonIcon",saveText:"saveText",editMode:"editMode",isSearchEnabled:"isSearchEnabled",isSaveButtonEnabled:"isSaveButtonEnabled",multiSelectMode:"multiSelectMode",hasMainButton:"hasMainButton",isMainButtonEnabled:"isMainButtonEnabled",goBack:"goBack",prevUrl:"prevUrl",mainActionTooltip:"mainActionTooltip"},outputs:{mainEvent:"mainEvent",cancelEditEvent:"cancelEditEvent",saveEvent:"saveEvent"},ngContentSelectors:M,decls:16,vars:12,consts:[["color","primary",1,"sticky-toolbar",3,"ngClass"],[1,"toolbar-left"],["mat-icon-button","",3,"click",4,"ngIf"],["class","toolbar-left-text",4,"ngIf"],["class","spacer",4,"ngIf"],["class","toolbar-centered",4,"ngIf"],[1,"spacer"],[1,"toolbar-right"],["mat-icon-button","",3,"disabled","matTooltip","click",4,"ngIf"],["mat-button","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["mat-fab","","class","head-button",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"toolbar-left-text"],[1,"toolbar-centered"],["mat-icon-button","",3,"disabled","matTooltip","click"],["mat-button","",3,"disabled","click"],[1,"upper"],["mat-fab","",1,"head-button",3,"disabled","matTooltip","click"]],template:function(t,e){1&t&&(o.sc(C),o.Zb(0,"mat-toolbar",0),o.Zb(1,"div",1),o.Qc(2,p,3,0,"button",2),o.Qc(3,h,3,0,"button",2),o.Qc(4,g,3,0,"button",2),o.Qc(5,v,2,0,"div",3),o.Yb(),o.Qc(6,y,1,0,"div",4),o.Qc(7,_,2,0,"div",5),o.Ub(8,"div",6),o.Qc(9,k,3,0,"button",2),o.Zb(10,"div",7),o.rc(11),o.Qc(12,S,4,5,"button",8),o.Qc(13,Y,4,4,"button",9),o.Qc(14,Z,1,0,void 0,10),o.Yb(),o.Yb(),o.Qc(15,T,4,6,"button",11)),2&t&&(o.tc("ngClass",e.multiSelectMode?"multi-select":""),o.Gb(2),o.tc("ngIf",e.vp.isMobile&&!e.showBackButton&&!e.editMode),o.Gb(1),o.tc("ngIf",e.showBackButton&&!e.editMode),o.Gb(1),o.tc("ngIf",e.editMode),o.Gb(1),o.tc("ngIf",!e.multiSelectMode),o.Gb(1),o.tc("ngIf",!e.multiSelectMode),o.Gb(1),o.tc("ngIf",e.multiSelectMode),o.Gb(2),o.tc("ngIf",!e.editMode&&e.isSearchEnabled),o.Gb(3),o.tc("ngIf",e.hasMainButton&&!e.editMode&&!e.vp.isMobile&&!e.multiSelectMode),o.Gb(1),o.tc("ngIf",e.editMode),o.Gb(1),o.tc("ngIf",!e.editMode),o.Gb(1),o.tc("ngIf",e.hasMainButton&&!e.editMode&&e.vp.isMobile&&!e.multiSelectMode))},directives:[l.a,u.q,u.t,b.b,d.a,m.c],pipes:[f.j],styles:[".head-button{position:fixed;z-index:10;right:20px;bottom:55px}.sticky-toolbar{top:0;z-index:5;position:-webkit-sticky;position:sticky;height:64px!important}.sticky-toolbar .toolbar-left{display:-ms-flexbox;display:flex;max-width:calc(100% - 100px)}.sticky-toolbar .toolbar-left button{margin:12px 0}.sticky-toolbar .toolbar-left .toolbar-left-text{margin-left:10px;width:100%;overflow:hidden}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot{margin:16px 0;display:block}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot h2{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sticky-toolbar .toolbar-centered{margin:auto;vertical-align:baseline}.sticky-toolbar .toolbar-right,.sticky-toolbar .toolbar-right .extra-controls-slot{display:-ms-flexbox;display:flex}mat-toolbar.multi-select{background-color:#757575!important}"],encapsulation:2}),t}()}}]);