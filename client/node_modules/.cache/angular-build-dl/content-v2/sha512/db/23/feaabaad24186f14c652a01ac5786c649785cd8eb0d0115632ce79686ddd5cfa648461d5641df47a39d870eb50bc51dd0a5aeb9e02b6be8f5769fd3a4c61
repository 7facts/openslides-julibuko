(window.webpackJsonp=window.webpackJsonp||[]).push([[34,36],{F48D:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var n=o("mrSG"),i=o("LBBb"),c=o("fXoL"),a=o("0IaG");let s=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(n.a)(this,void 0,void 0,(function*(){return this.dialog.open(i.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(c.dc(a.b))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},LBBb:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var n=o("0IaG"),i=o("fXoL"),c=o("ofXK"),a=o("bTqV"),s=o("sYmb");function r(t,e){if(1&t&&(i.Zb(0,"div"),i.Zb(1,"h2",1),i.Sc(2),i.Yb(),i.Ub(3,"mat-dialog-content",2),i.Zb(4,"mat-dialog-actions"),i.Zb(5,"button",3),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Zb(8,"button",4),i.Sc(9),i.mc(10,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){const t=i.lc();i.Gb(2),i.Tc(t.data.title),i.Gb(1),i.tc("innerHTML",t.data.content,i.Jc),i.Gb(2),i.tc("mat-dialog-close",!0),i.Gb(1),i.Tc(i.nc(7,6,"Yes")),i.Gb(2),i.tc("mat-dialog-close",!1),i.Gb(1),i.Tc(i.nc(10,8,"Cancel"))}}let l=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(n.h),i.Tb(n.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&i.Qc(0,r,11,10,"div",0),2&t&&i.tc("ngIf",e.data)},directives:[c.t,n.i,n.f,n.c,a.b,n.d],pipes:[s.j],encapsulation:2}),t})()},mNQd:function(t,e,o){"use strict";o.r(e),o.d(e,"TagModule",(function(){return O}));var n=o("ofXK"),i=o("PCNd"),c=o("tyNb"),a=o("mrSG"),s=o("3Pt+"),r=o("AqIO"),l=o("lv9T"),u=o("F48D"),b=o("73vO"),d=o("Izkr"),h=o("wL0i"),m=o("fXoL"),f=o("jhN1"),g=o("dNgK"),p=o("sYmb"),v=o("0IaG"),w=o("mksl"),S=o("0Obk"),T=o("dRZP"),G=o("bTqV"),Y=o("NFeN"),Z=o("kmnG"),y=o("qFsG");const D=["tagDialog"];function M(t,e){if(1&t&&(m.Zb(0,"div",5),m.Zb(1,"div"),m.Sc(2),m.Yb(),m.Yb()),2&t){const t=e.value;m.Gb(2),m.Uc(" ",t," ")}}function k(t,e){if(1&t){const t=m.ac();m.Zb(0,"div",5),m.Zb(1,"button",6),m.hc("click",(function(){m.Ic(t);const o=e.row;return m.lc().openTagDialog(o)})),m.Zb(2,"mat-icon"),m.Sc(3,"edit"),m.Yb(),m.Yb(),m.Yb()}}function C(t,e){if(1&t){const t=m.ac();m.Zb(0,"div",5),m.Zb(1,"button",7),m.hc("click",(function(){m.Ic(t);const o=e.row;return m.lc().onDeleteButton(o)})),m.Zb(2,"mat-icon"),m.Sc(3,"delete"),m.Yb(),m.Yb(),m.Yb()}}function I(t,e){1&t&&(m.Zb(0,"span"),m.Sc(1),m.mc(2,"translate"),m.Yb()),2&t&&(m.Gb(1),m.Tc(m.nc(2,1,"Edit tag")))}function N(t,e){1&t&&(m.Zb(0,"span"),m.Sc(1),m.mc(2,"translate"),m.Yb()),2&t&&(m.Gb(1),m.Tc(m.nc(2,1,"New tag")))}function R(t,e){if(1&t){const t=m.ac();m.Zb(0,"h1",8),m.Qc(1,I,3,3,"span",9),m.Qc(2,N,3,3,"span",9),m.Yb(),m.Zb(3,"div",10),m.Zb(4,"form",11),m.hc("keydown",(function(e){return m.Ic(t),m.lc().onKeyDown(e)})),m.Zb(5,"mat-form-field"),m.Ub(6,"input",12),m.mc(7,"translate"),m.Yb(),m.Yb(),m.Yb(),m.Zb(8,"div",13),m.Zb(9,"button",14),m.Zb(10,"span"),m.Sc(11),m.mc(12,"translate"),m.Yb(),m.Yb(),m.Zb(13,"button",15),m.Zb(14,"span"),m.Sc(15),m.mc(16,"translate"),m.Yb(),m.Yb(),m.Yb()}if(2&t){const t=m.lc();m.Gb(1),m.tc("ngIf",t.currentTag),m.Gb(1),m.tc("ngIf",!t.currentTag),m.Gb(2),m.tc("formGroup",t.tagForm),m.Gb(2),m.uc("placeholder",m.nc(7,8,"Name")),m.Gb(3),m.tc("mat-dialog-close",!0),m.Gb(2),m.Tc(m.nc(12,10,"Save")),m.Gb(2),m.tc("mat-dialog-close",!1),m.Gb(2),m.Tc(m.nc(16,12,"Cancel"))}}const B=function(){return["menu"]},F=function(){return["name"]},j=[{path:"",component:(()=>{class t extends h.a{constructor(t,e,o,n,i,c,a,r){super(t,i,e,o),this.repo=n,this.translate=i,this.promptService=c,this.dialog=a,this.formBuilder=r,this.tagForm=this.formBuilder.group({name:["",[s.G.required]]}),this.tableColumnDefinition=[{prop:"name",width:"auto"},{prop:"edit",width:this.singleButtonWidth},{prop:"delete",width:this.singleButtonWidth}]}ngOnInit(){super.setTitle("Tags")}openTagDialog(t){this.currentTag=t,this.tagForm.reset(),this.tagForm.get("name").setValue(this.currentTag?this.currentTag.name:""),this.dialogRef=this.dialog.open(this.tagDialog,d.a),this.dialogRef.afterClosed().subscribe(t=>{t&&this.save()})}save(){this.tagForm.value&&this.tagForm.valid&&(this.currentTag?this.repo.update(new b.a(this.tagForm.value),this.currentTag).catch(this.raiseError):this.repo.create(this.tagForm.value).catch(this.raiseError),this.tagForm.reset())}onDeleteButton(t){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to delete this tag?"),o=t.name;(yield this.promptService.open(e,o))&&this.repo.delete(t).catch(this.raiseError)}))}onKeyDown(t){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(m.Tb(f.d),m.Tb(g.a),m.Tb(r.a),m.Tb(l.a),m.Tb(p.k),m.Tb(u.a),m.Tb(v.b),m.Tb(s.f))},t.\u0275cmp=m.Nb({type:t,selectors:[["os-tag-list"]],viewQuery:function(t,e){var o;1&t&&m.Oc(D,!0),2&t&&m.Dc(o=m.ic())&&(e.tagDialog=o.first)},features:[m.Db],decls:11,vars:18,consts:[[3,"hasMainButton","nav","multiSelectMode","mainEvent"],[1,"title-slot"],[3,"listObservableProvider","columns","allowProjector","showListOfSpeakers","hiddenInMobile","selectedRows","filterProps","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["tagDialog",""],[1,"cell-slot","fill"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-dialog-title",""],[4,"ngIf"],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["required","","type","text","matInput","","formControlName","name",3,"placeholder"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(m.Zb(0,"os-head-bar",0),m.hc("mainEvent",(function(){return e.openTagDialog()})),m.Zb(1,"div",1),m.Zb(2,"h2"),m.Sc(3),m.mc(4,"translate"),m.Yb(),m.Yb(),m.Yb(),m.Zb(5,"os-list-view-table",2),m.hc("selectedRowsChange",(function(t){return e.selectedRows=t}))("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),m.Qc(6,M,3,1,"div",3),m.Qc(7,k,4,0,"div",3),m.Qc(8,C,4,0,"div",3),m.Yb(),m.Qc(9,R,17,14,"ng-template",null,4,m.Rc)),2&t&&(m.tc("hasMainButton",!0)("nav",!0)("multiSelectMode",e.isMultiSelect),m.Gb(3),m.Tc(m.nc(4,14,"Tags")),m.Gb(2),m.tc("listObservableProvider",e.repo)("columns",e.tableColumnDefinition)("allowProjector",!1)("showListOfSpeakers",!1)("hiddenInMobile",m.yc(16,B))("selectedRows",e.selectedRows)("filterProps",m.yc(17,F)),m.Gb(1),m.tc("pblNgridCellDef","name"),m.Gb(1),m.tc("pblNgridCellDef","edit"),m.Gb(1),m.tc("pblNgridCellDef","delete"))},directives:[w.a,S.a,T.c,G.b,Y.a,v.i,n.t,v.f,s.I,s.t,s.k,Z.c,y.b,s.c,s.D,s.s,s.i,v.c,v.d],pipes:[p.j],styles:[""]}),t})(),pathMatch:"full"}];let L=(()=>{class t{}return t.\u0275mod=m.Rb({type:t}),t.\u0275inj=m.Qb({factory:function(e){return new(e||t)},imports:[[c.j.forChild(j)],c.j]}),t})(),O=(()=>{class t{}return t.\u0275mod=m.Rb({type:t}),t.\u0275inj=m.Qb({factory:function(e){return new(e||t)},imports:[[n.c,L,i.a]]}),t})()},wL0i:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var n=o("mV3u");class i extends n.a{constructor(t,e,o,n){super(t,e,o),this.storage=n,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth="40px",this.badgeButtonWidth="45px",this.selectedRows=[]}onDataSourceChange(t){this.dataSource=t}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);