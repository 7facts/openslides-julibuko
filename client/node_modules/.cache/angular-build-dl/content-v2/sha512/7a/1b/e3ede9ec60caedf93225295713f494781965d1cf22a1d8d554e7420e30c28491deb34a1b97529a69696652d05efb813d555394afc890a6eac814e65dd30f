function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,a=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"76GY":function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var a=n("ykax"),o=n("fXoL"),r=n("ofXK"),c=n("vYAO"),i=n("iCsr"),l=n("sYmb"),s=n("j7f2"),u=n("6ako"),f=n("QUb3");function p(t,e){if(1&t&&(o.Zb(0,"os-icon-container",9),o.Sc(1),o.mc(2,"translate"),o.mc(3,"pollKeyVerbose"),o.Yb()),2&t){var n=o.lc().$implicit,a=o.lc(2);o.tc("icon",n.value[0].icon)("size",a.iconSize),o.Gb(1),o.Uc(" ",o.nc(2,3,o.nc(3,5,n.votingOption))," ")}}function b(t,e){if(1&t&&(o.Zb(0,"span"),o.Sc(1),o.mc(2,"translate"),o.mc(3,"pollKeyVerbose"),o.Yb()),2&t){var n=o.lc().$implicit;o.Gb(1),o.Uc(" ",o.nc(2,1,o.nc(3,3,n.votingOption))," ")}}function h(t,e){if(1&t&&(o.Zb(0,"span"),o.Sc(1),o.mc(2,"pollPercentBase"),o.Yb()),2&t){var n=o.lc().$implicit,a=o.lc(2);o.Gb(1),o.Uc(" ",o.oc(2,1,n.value[0].amount,a.poll)," ")}}function d(t,e){if(1&t&&(o.Zb(0,"tr"),o.Zb(1,"td"),o.Qc(2,p,4,7,"os-icon-container",6),o.Qc(3,b,4,5,"span",7),o.Yb(),o.Zb(4,"td",8),o.Qc(5,h,3,4,"span",7),o.Yb(),o.Zb(6,"td",8),o.Sc(7),o.mc(8,"parsePollNumber"),o.Yb(),o.Yb()),2&t){var n=e.$implicit;o.Ib(n.votingOption),o.Gb(2),o.tc("ngIf",n.value[0].icon),o.Gb(1),o.tc("ngIf",!n.value[0].icon),o.Gb(2),o.tc("ngIf",n.value[0].showPercent),o.Gb(2),o.Uc(" ",o.nc(8,6,n.value[0].amount)," ")}}function g(t,e){if(1&t&&(o.Zb(0,"div",10),o.Ub(1,"os-charts",11),o.mc(2,"async"),o.Yb()),2&t){var n=o.lc(2);o.Gb(1),o.tc("data",o.nc(2,1,n.chartData))}}function v(t,e){if(1&t&&(o.Zb(0,"div",1),o.Zb(1,"table",2),o.Zb(2,"tbody"),o.Zb(3,"tr"),o.Ub(4,"th"),o.Zb(5,"th",3),o.Sc(6),o.mc(7,"translate"),o.Yb(),o.Yb(),o.Qc(8,d,9,8,"tr",4),o.Yb(),o.Yb(),o.Qc(9,g,3,3,"div",5),o.Yb()),2&t){var n=o.lc();o.Gb(6),o.Tc(o.nc(7,3,"Votes")),o.Gb(2),o.tc("ngForOf",n.getTableData()),o.Gb(1),o.tc("ngIf",n.showChart)}}var C=function(){var t=function(){function t(e){_classCallCheck(this,t),this.motionPollService=e,this.iconSize="large"}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getTableData",value:function(){return this.motionPollService.generateTableData(this.poll)}},{key:"hasVotes",get:function(){return this.poll&&!!this.poll.options}},{key:"showChart",get:function(){return this.motionPollService.showChart(this.poll)&&this.chartData&&!!this.chartData.value}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(a.a))},t.\u0275cmp=o.Nb({type:t,selectors:[["os-motion-poll-detail-content"]],inputs:{poll:"poll",chartData:"chartData",iconSize:"iconSize"},decls:1,vars:1,consts:[["class","result-wrapper",4,"ngIf"],[1,"result-wrapper"],[1,"result-table"],["colspan","2"],[3,"class",4,"ngFor","ngForOf"],["class","doughnut-chart",4,"ngIf"],[3,"icon","size",4,"ngIf"],[4,"ngIf"],[1,"result-cell-definition"],[3,"icon","size"],[1,"doughnut-chart"],["type","doughnut",3,"data"]],template:function(t,e){1&t&&o.Qc(0,v,10,5,"div",0),2&t&&o.tc("ngIf",e.hasVotes)},directives:[r.t,r.s,c.a,i.a],pipes:[l.j,s.a,u.a,f.a,r.b],styles:[".yes[_ngcontent-%COMP%]{color:#4caf50}.no[_ngcontent-%COMP%]{color:#cc6c5b}.abstain[_ngcontent-%COMP%]{color:#a6a6a6}.voted-yes[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.voted-no[_ngcontent-%COMP%]{background-color:#cc6c5b;color:#fff}.voted-abstain[_ngcontent-%COMP%]{background-color:#a6a6a6;color:#fff}.start-poll-button[_ngcontent-%COMP%]{color:#4caf50}.stop-poll-button[_ngcontent-%COMP%]{color:#ff5252}.publish-poll-button[_ngcontent-%COMP%]{color:#e6b100}.result-wrapper[_ngcontent-%COMP%]{display:grid;grid-gap:2em;margin:2em;grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}.result-wrapper[_ngcontent-%COMP%]   .result-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right;font-weight:400}.result-wrapper[_ngcontent-%COMP%]   .result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;border-bottom:none!important}.result-wrapper[_ngcontent-%COMP%]   .result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .result-cell-definition[_ngcontent-%COMP%]{text-align:right}.result-wrapper[_ngcontent-%COMP%]   .doughnut-chart[_ngcontent-%COMP%]{display:block}"]}),t}()},"9st3":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n("Ri39");var a=n("fXoL"),o=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,inputs:{data:"data",projector:"projector"}}),t}()},SQVg:function(t,e,n){"use strict";n.r(e),n.d(e,"MotionPollSlideModule",(function(){return v}));var a=n("ofXK"),o=n("PCNd"),r=n("DGVe"),c=n("qnZ9"),i=n("ykax"),l=n("JTqh"),s=n("fXoL"),u=n("76GY");function f(t,e){if(1&t&&(s.Zb(0,"span"),s.Sc(1),s.Yb()),2&t){var n=s.lc(2);s.Gb(1),s.Uc("",n.data.data.motion.identifier,":")}}function p(t,e){if(1&t&&(s.Zb(0,"div"),s.Ub(1,"os-motion-poll-detail-content",4),s.Yb()),2&t){var n=s.lc(2);s.Gb(1),s.tc("poll",n.pollData)("chartData",n.chartDataSubject)}}function b(t,e){if(1&t&&(s.Xb(0),s.Zb(1,"div",1),s.Zb(2,"h1",2),s.Qc(3,f,2,1,"span",0),s.Sc(4),s.Yb(),s.Zb(5,"h2",3),s.Sc(6),s.Yb(),s.Yb(),s.Qc(7,p,2,2,"div",0),s.Wb()),2&t){var n=s.lc();s.Gb(3),s.tc("ngIf",n.data.data.motion.identifier),s.Gb(1),s.Uc(" ",n.data.data.motion.title," "),s.Gb(2),s.Tc(n.data.data.poll.title),s.Gb(1),s.tc("ngIf",n.data.data.poll.state===n.PollState.Published)}}var h,d,g=((d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var a;return _classCallCheck(this,n),(a=e.call(this,t)).PollState=c.e,a.chartDataSubject.subscribe((function(){if(a.data&&a.data.data){a.pollData=a.data.data.poll;var t=a.pollData.options[0];a.voteYes=t.yes,a.voteNo=t.no,a.voteAbstain=t.abstain}})),a}return _createClass(n,[{key:"showChart",value:function(){return this.pollService.showChart(this.pollData)}},{key:"getTableData",value:function(){return this.pollService.generateTableData(this.pollData)}}]),n}(l.a)).\u0275fac=function(t){return new(t||d)(s.Tb(i.a))},d.\u0275cmp=s.Nb({type:d,selectors:[["os-motion-poll-slide"]],features:[s.Db],decls:1,vars:1,consts:[[4,"ngIf"],[1,"slidetitle"],[1,"motion-title"],[1,"poll-title"],["iconSize","gigantic",3,"poll","chartData"]],template:function(t,e){1&t&&s.Qc(0,b,8,4,"ng-container",0),2&t&&s.tc("ngIf",e.data&&e.data.data)},directives:[a.t,u.a],styles:[".motion-title[_ngcontent-%COMP%]{margin:0 0 10px}"]}),d),v=((h=function t(){_classCallCheck(this,t)}).\u0275mod=s.Rb({type:h}),h.\u0275inj=s.Qb({factory:function(t){return new(t||h)},providers:[{provide:r.a.token,useValue:g}],imports:[[a.c,o.a]]}),h)},iCsr:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n("mV3u"),o=n("fXoL"),r=n("jhN1"),c=n("sYmb"),i=n("dNgK"),l=n("ofXK"),s=n("LPYB");function u(t,e){if(1&t&&o.Ub(0,"canvas",2),2&t){var n=o.lc();o.tc("datasets",n.isCircle?null:n.chartData)("data",n.isCircle?n.chartData:null)("colors",n.circleColors)("labels",n.labels)("options",n.chartOptions)("chartType",n.type)("legend",n.legend)}}var f=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,o){var r;return _classCallCheck(this,n),(r=e.call(this,t,a,o)).type="horizontalBar",r.legend=!1,r}return _createClass(n,[{key:"calcBarChartHeight",value:function(){if(!this.isCircle)return 120+60*this.labels.length+"px"}},{key:"progressInputData",value:function(t){this.isCircle?(this.chartData=t.flatMap((function(t){return t.data})),this.circleColors=[{backgroundColor:t.map((function(t){return t.backgroundColor})).filter((function(t){return!!t})),hoverBackgroundColor:t.map((function(t){return t.hoverBackgroundColor})).filter((function(t){return!!t}))}]):this.chartData=t,this.labels||(this.labels=t.map((function(t){return t.label})))}},{key:"data",set:function(t){this.progressInputData(t)}},{key:"chartOptions",get:function(){return this.isCircle?{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1},legend:{position:"left"}}:{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1},scales:{xAxes:[{gridLines:{drawOnChartArea:!1},ticks:{beginAtZero:!0,stepSize:1},stacked:!0}],yAxes:[{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{mirror:!0,labelOffset:-20},stacked:!0}]}}}},{key:"isCircle",get:function(){return"pie"===this.type||"doughnut"===this.type}}]),n}(a.a);return t.\u0275fac=function(e){return new(e||t)(o.Tb(r.d),o.Tb(c.k),o.Tb(i.a))},t.\u0275cmp=o.Nb({type:t,selectors:[["os-charts"]],inputs:{type:"type",labels:"labels",legend:"legend",data:"data"},features:[o.Db],decls:2,vars:3,consts:[[1,"charts-wrapper"],["class","chart-js-canvas","baseChart","",3,"datasets","data","colors","labels","options","chartType","legend",4,"ngIf"],["baseChart","",1,"chart-js-canvas",3,"datasets","data","colors","labels","options","chartType","legend"]],template:function(t,e){1&t&&(o.Zb(0,"div",0),o.Qc(1,u,1,7,"canvas",1),o.Yb()),2&t&&(o.Pc("height",e.calcBarChartHeight()),o.Gb(1),o.tc("ngIf",e.chartData&&e.chartData.length))},directives:[l.t,s.a],styles:[".charts-wrapper[_ngcontent-%COMP%]{position:relative;display:block;height:100%;margin:auto}"],changeDetection:0}),t}()}}]);