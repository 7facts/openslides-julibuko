function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _get(t,e,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=_superPropBase(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[34,36],{F48D:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("mrSG"),o=r("LBBb"),a=r("fXoL"),i=r("0IaG"),c=function(){var t=function(){function t(e){_classCallCheck(this,t),this.dialog=e}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.dialog.open(o.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return r.stop()}}),r,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(i.b))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},LBBb:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("0IaG"),o=r("fXoL"),a=r("ofXK"),i=r("bTqV"),c=r("sYmb");function l(t,e){if(1&t&&(o.Zb(0,"div"),o.Zb(1,"h2",1),o.Sc(2),o.Yb(),o.Ub(3,"mat-dialog-content",2),o.Zb(4,"mat-dialog-actions"),o.Zb(5,"button",3),o.Sc(6),o.mc(7,"translate"),o.Yb(),o.Zb(8,"button",4),o.Sc(9),o.mc(10,"translate"),o.Yb(),o.Yb(),o.Yb()),2&t){var r=o.lc();o.Gb(2),o.Tc(r.data.title),o.Gb(1),o.tc("innerHTML",r.data.content,o.Jc),o.Gb(2),o.tc("mat-dialog-close",!0),o.Gb(1),o.Tc(o.nc(7,6,"Yes")),o.Gb(2),o.tc("mat-dialog-close",!1),o.Gb(1),o.Tc(o.nc(10,8,"Cancel"))}}var s=function(){var t=function t(e,r){_classCallCheck(this,t),this.dialogRef=e,this.data=r};return t.\u0275fac=function(e){return new(e||t)(o.Tb(n.h),o.Tb(n.a))},t.\u0275cmp=o.Nb({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&o.Qc(0,l,11,10,"div",0),2&t&&o.tc("ngIf",e.data)},directives:[a.t,n.i,n.f,n.c,i.b,n.d],pipes:[c.j],encapsulation:2}),t}()},mNQd:function(t,e,r){"use strict";r.r(e),r.d(e,"TagModule",(function(){return F}));var n=r("ofXK"),o=r("PCNd"),a=r("tyNb"),i=r("mrSG"),c=r("3Pt+"),l=r("AqIO"),s=r("lv9T"),u=r("F48D"),f=r("73vO"),b=r("Izkr"),d=r("wL0i"),p=r("fXoL"),h=r("jhN1"),g=r("dNgK"),m=r("sYmb"),v=r("0IaG"),y=r("mksl"),_=r("0Obk"),w=r("dRZP"),S=r("bTqV"),T=r("NFeN"),k=r("kmnG"),C=r("qFsG"),O=["tagDialog"];function P(t,e){if(1&t&&(p.Zb(0,"div",5),p.Zb(1,"div"),p.Sc(2),p.Yb(),p.Yb()),2&t){var r=e.value;p.Gb(2),p.Uc(" ",r," ")}}function R(t,e){if(1&t){var r=p.ac();p.Zb(0,"div",5),p.Zb(1,"button",6),p.hc("click",(function(){p.Ic(r);var t=e.row;return p.lc().openTagDialog(t)})),p.Zb(2,"mat-icon"),p.Sc(3,"edit"),p.Yb(),p.Yb(),p.Yb()}}function G(t,e){if(1&t){var r=p.ac();p.Zb(0,"div",5),p.Zb(1,"button",7),p.hc("click",(function(){p.Ic(r);var t=e.row;return p.lc().onDeleteButton(t)})),p.Zb(2,"mat-icon"),p.Sc(3,"delete"),p.Yb(),p.Yb(),p.Yb()}}function Y(t,e){1&t&&(p.Zb(0,"span"),p.Sc(1),p.mc(2,"translate"),p.Yb()),2&t&&(p.Gb(1),p.Tc(p.nc(2,1,"Edit tag")))}function Z(t,e){1&t&&(p.Zb(0,"span"),p.Sc(1),p.mc(2,"translate"),p.Yb()),2&t&&(p.Gb(1),p.Tc(p.nc(2,1,"New tag")))}function D(t,e){if(1&t){var r=p.ac();p.Zb(0,"h1",8),p.Qc(1,Y,3,3,"span",9),p.Qc(2,Z,3,3,"span",9),p.Yb(),p.Zb(3,"div",10),p.Zb(4,"form",11),p.hc("keydown",(function(t){return p.Ic(r),p.lc().onKeyDown(t)})),p.Zb(5,"mat-form-field"),p.Ub(6,"input",12),p.mc(7,"translate"),p.Yb(),p.Yb(),p.Yb(),p.Zb(8,"div",13),p.Zb(9,"button",14),p.Zb(10,"span"),p.Sc(11),p.mc(12,"translate"),p.Yb(),p.Yb(),p.Zb(13,"button",15),p.Zb(14,"span"),p.Sc(15),p.mc(16,"translate"),p.Yb(),p.Yb(),p.Yb()}if(2&t){var n=p.lc();p.Gb(1),p.tc("ngIf",n.currentTag),p.Gb(1),p.tc("ngIf",!n.currentTag),p.Gb(2),p.tc("formGroup",n.tagForm),p.Gb(2),p.uc("placeholder",p.nc(7,8,"Name")),p.Gb(3),p.tc("mat-dialog-close",!0),p.Gb(2),p.Tc(p.nc(12,10,"Save")),p.Gb(2),p.tc("mat-dialog-close",!1),p.Gb(2),p.Tc(p.nc(16,12,"Cancel"))}}var I,j,A,M=function(){return["menu"]},N=function(){return["name"]},B=[{path:"",component:(I=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o,a,i,l,s,u){var f;return _classCallCheck(this,r),(f=e.call(this,t,i,n,o)).repo=a,f.translate=i,f.promptService=l,f.dialog=s,f.formBuilder=u,f.tagForm=f.formBuilder.group({name:["",[c.G.required]]}),f.tableColumnDefinition=[{prop:"name",width:"auto"},{prop:"edit",width:f.singleButtonWidth},{prop:"delete",width:f.singleButtonWidth}],f}return _createClass(r,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(r.prototype),"setTitle",this).call(this,"Tags")}},{key:"openTagDialog",value:function(t){var e=this;this.currentTag=t,this.tagForm.reset(),this.tagForm.get("name").setValue(this.currentTag?this.currentTag.name:""),this.dialogRef=this.dialog.open(this.tagDialog,b.a),this.dialogRef.afterClosed().subscribe((function(t){t&&e.save()}))}},{key:"save",value:function(){this.tagForm.value&&this.tagForm.valid&&(this.currentTag?this.repo.update(new f.a(this.tagForm.value),this.currentTag).catch(this.raiseError):this.repo.create(this.tagForm.value).catch(this.raiseError),this.tagForm.reset())}},{key:"onDeleteButton",value:function(t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.translate.instant("Are you sure you want to delete this tag?"),n=t.name,e.next=3,this.promptService.open(r,n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.repo.delete(t).catch(this.raiseError);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"onKeyDown",value:function(t){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}}]),r}(d.a),I.\u0275fac=function(t){return new(t||I)(p.Tb(h.d),p.Tb(g.a),p.Tb(l.a),p.Tb(s.a),p.Tb(m.k),p.Tb(u.a),p.Tb(v.b),p.Tb(c.f))},I.\u0275cmp=p.Nb({type:I,selectors:[["os-tag-list"]],viewQuery:function(t,e){var r;1&t&&p.Oc(O,!0),2&t&&p.Dc(r=p.ic())&&(e.tagDialog=r.first)},features:[p.Db],decls:11,vars:18,consts:[[3,"hasMainButton","nav","multiSelectMode","mainEvent"],[1,"title-slot"],[3,"listObservableProvider","columns","allowProjector","showListOfSpeakers","hiddenInMobile","selectedRows","filterProps","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["tagDialog",""],[1,"cell-slot","fill"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-dialog-title",""],[4,"ngIf"],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["required","","type","text","matInput","","formControlName","name",3,"placeholder"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(p.Zb(0,"os-head-bar",0),p.hc("mainEvent",(function(){return e.openTagDialog()})),p.Zb(1,"div",1),p.Zb(2,"h2"),p.Sc(3),p.mc(4,"translate"),p.Yb(),p.Yb(),p.Yb(),p.Zb(5,"os-list-view-table",2),p.hc("selectedRowsChange",(function(t){return e.selectedRows=t}))("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),p.Qc(6,P,3,1,"div",3),p.Qc(7,R,4,0,"div",3),p.Qc(8,G,4,0,"div",3),p.Yb(),p.Qc(9,D,17,14,"ng-template",null,4,p.Rc)),2&t&&(p.tc("hasMainButton",!0)("nav",!0)("multiSelectMode",e.isMultiSelect),p.Gb(3),p.Tc(p.nc(4,14,"Tags")),p.Gb(2),p.tc("listObservableProvider",e.repo)("columns",e.tableColumnDefinition)("allowProjector",!1)("showListOfSpeakers",!1)("hiddenInMobile",p.yc(16,M))("selectedRows",e.selectedRows)("filterProps",p.yc(17,N)),p.Gb(1),p.tc("pblNgridCellDef","name"),p.Gb(1),p.tc("pblNgridCellDef","edit"),p.Gb(1),p.tc("pblNgridCellDef","delete"))},directives:[y.a,_.a,w.c,S.b,T.a,v.i,n.t,v.f,c.I,c.t,c.k,k.c,C.b,c.c,c.D,c.s,c.i,v.c,v.d],pipes:[m.j],styles:[""]}),I),pathMatch:"full"}],L=((A=function t(){_classCallCheck(this,t)}).\u0275mod=p.Rb({type:A}),A.\u0275inj=p.Qb({factory:function(t){return new(t||A)},imports:[[a.j.forChild(B)],a.j]}),A),F=((j=function t(){_classCallCheck(this,t)}).\u0275mod=p.Rb({type:j}),j.\u0275inj=p.Qb({factory:function(t){return new(t||j)},imports:[[n.c,L,o.a]]}),j)},wL0i:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o,a){var i;return _classCallCheck(this,r),(i=e.call(this,t,n,o)).storage=a,i.canMultiSelect=!1,i._multiSelectMode=!1,i.singleButtonWidth="40px",i.badgeButtonWidth="45px",i.selectedRows=[],i}return _createClass(r,[{key:"onDataSourceChange",value:function(t){this.dataSource=t}},{key:"toggleMultiSelect",value:function(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}},{key:"selectAll",value:function(){var t;(t=this.dataSource.selection).select.apply(t,_toConsumableArray(this.dataSource.filteredData))}},{key:"deselectAll",value:function(){this.dataSource&&this.dataSource.selection.clear()}},{key:"isMultiSelect",get:function(){return this._multiSelectMode}}]),r}(r("mV3u").a)}}]);